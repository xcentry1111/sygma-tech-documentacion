{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Documentaci\u00f3n SYGMA-TECH","text":""},{"location":"#quienes-somos","title":"\u00bfQui\u00e9nes somos?","text":"<p>Somos una empresa de profesionales creativos de diferentes \u00e1reas, que por medio de metodolog\u00edas \u00e1giles, desarrollamos soluciones tecnol\u00f3gicas innovadoras para la industria, especialmente para los actores del ciclo del cr\u00e9dito, la cobranza y la administraci\u00f3n de activos, bajo el modelo SaaS. Nuestras soluciones son intuitivas, modulares, flexibles y din\u00e1micas, dise\u00f1adas para facilitar la gesti\u00f3n y an\u00e1lisis de grandes vol\u00famenes de informaci\u00f3n.</p>"},{"location":"consulta_completo_credintegral/","title":"Servicio de Consulta por Identificaci\u00f3n y Obligaciones (Detallado)","text":"<p>Descripci\u00f3n: Este servicio permite consultar la informaci\u00f3n de un deudor y sus obligaciones, enviando su n\u00famero de identificaci\u00f3n y tipo de documento.</p> <p>Tipo de Servicio: <code>POST</code></p>"},{"location":"consulta_completo_credintegral/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Ambiente de pruebas: <code>https://testing-sygma.com/api/consultar_api</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/consultar_api</code></li> </ul>"},{"location":"consulta_completo_credintegral/#headers","title":"Headers","text":"<p>Los siguientes encabezados son obligatorios en la solicitud:</p> <ul> <li><code>Accept</code>: <code>application/json</code></li> <li><code>Content-Type</code>: <code>application/json</code></li> <li><code>Authorization</code>: <code>Bearer ${token}</code></li> </ul>"},{"location":"consulta_completo_credintegral/#consideraciones","title":"Consideraciones","text":"<ul> <li>El par\u00e1metro <code>servicio</code> debe enviarse con el valor fijo: <code>CONSULTA_COMPLETO</code>.</li> <li>El par\u00e1metro <code>dato</code> corresponde al n\u00famero de identificaci\u00f3n del deudor.</li> <li>El par\u00e1metro <code>tipo_documento</code> tambi\u00e9n es obligatorio y debe tener uno de los siguientes valores:</li> <li><code>CC</code> (C\u00e9dula de ciudadan\u00eda)</li> <li><code>CE</code> (C\u00e9dula de extranjer\u00eda)</li> <li><code>TI</code> (Tarjeta de identidad)</li> <li>Si no se env\u00eda alguno de estos par\u00e1metros obligatorios, el sistema responder\u00e1 con un error.</li> </ul>"},{"location":"consulta_completo_credintegral/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>Ejemplo de solicitud JSON:</p> <pre><code>{\n  \"servicio\": \"CONSULTA_COMPLETO\",\n  \"dato\": \"37195302\",\n  \"tipo_documento\": \"CC\"\n}\n</code></pre>"},{"location":"consulta_completo_credintegral/#respuesta-identificacion-no-valida","title":"Respuesta Identificaci\u00f3n no valida","text":"<pre><code>{\n  \"status\": true,\n  \"message\": \"No se encontro informacion sobre este registro - 37195302111\",\n  \"code\": 200\n}\n</code></pre>"},{"location":"consulta_completo_credintegral/#ejemplo-respuesta-succes-segun-parametrizacion-del-cliente","title":"Ejemplo Respuesta Succes segun parametrizaci\u00f3n del cliente","text":"<pre><code>{\n  \"persona\": {\n    \"persona_id\": \"9755361\",\n    \"identificacion\": \"37195302\",\n    \"nombre\": \"PRUEBA\",\n    \"telefono\": \"\",\n    \"obligaciones\": [\n      {\n        \"personasobligacion_id\": \"8864800\",\n        \"nro_obligacion\": \"204202004788\",\n        \"idcredito\": \"11632563\",\n        \"fecha_matricula\": \"27-11-2020\",\n        \"portafoliossucursal_id\": \"17146\",\n        \"sucursal\": \"CUCUTA AGENCIA ATALAYA\",\n        \"portafoliosvehiculo_id\": \"627\",\n        \"vehiculo\": \"API\",\n        \"cliente\": \"12940\",\n        \"originador\": \"PRUEBA ORIGINADOR\",\n        \"saldo_capital\": \"264863\",\n        \"pago_minimo\": \"28283\",\n        \"dias_mora\": \"20\",\n        \"saldo_total\": \"271044\",\n        \"plan_pagos\": [\n          {\n            \"personasobligacion_id\": \"8864800\",\n            \"nro_cuota\": \"1\",\n            \"fecha_vence\": \"14-07-2021\",\n            \"capital\": \"264863.21\",\n            \"corriente\": \"0\",\n            \"comisiones\": \"0\",\n            \"ivacomisiones\": \"0\",\n            \"seguro\": \"0\",\n            \"mora\": \"6181.48\",\n            \"valor_pagar\": \"264863.21\"\n          }\n        ],\n        \"recaudos\": [\n          {\n            \"planesrecaudo_id\": \"76428062\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"20-01-2025\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2025-01-20 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76299147\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"16-12-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-12-16 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76136590\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-11-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-11-15 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76005785\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-10-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR LA PLATAFORMA TESEO DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-10-15 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272730\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"29-06-2023\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"276000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272729\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"01-03-2021\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"60064\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272728\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-01-2021\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"60064\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"consulta_completo_credintegral/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"consulta_completo_credintegral/#respuesta-campos-requeridos","title":"Respuesta Campos Requeridos","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"El par\u00e1metro :dato es requerido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"consulta_municipio/","title":"Servicio para consultar municipios por descripci\u00f3n","text":"<p>Descripci\u00f3n: Este servicio permite consultar municipios filtrando por una parte de la descripci\u00f3n. El resultado contiene el ID, descripci\u00f3n y el c\u00f3digo DANE del municipio encontrado.</p> <p>Tipo de Servicio: POST</p>"},{"location":"consulta_municipio/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/consulta_municipios</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/consulta_municipios</code></li> </ul>"},{"location":"consulta_municipio/#headers","title":"Headers","text":"<p>La solicitud debe incluir los siguientes encabezados obligatorios:</p> <ul> <li>Accept: <code>application/json</code></li> <li>Content-Type: <code>application/json</code></li> <li>Authorization: <code>Bearer ${token}</code></li> </ul>"},{"location":"consulta_municipio/#consideraciones","title":"Consideraciones","text":"<ul> <li>El par\u00e1metro descripcion es obligatorio y corresponde al texto que se desea buscar dentro del campo de descripci\u00f3n del municipio.</li> </ul> <p>Si el par\u00e1metro <code>descripcion</code> no se env\u00eda, el servicio responder\u00e1 con un error.</p>"},{"location":"consulta_municipio/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<pre><code>{\n  \"descripcion\": \"neiva\"\n}\n</code></pre>"},{"location":"consulta_municipio/#ejemplo-respuesta-succes","title":"Ejemplo Respuesta Succes","text":"<pre><code>\n  {\n    \"id\": 10593,\n    \"descripcion\": \"HUILA - NEIVA | COLOMBIA\",\n    \"codigo_dane\": 41001\n  }\n\n</code></pre>"},{"location":"consulta_municipio/#ejemplo-respuesta-succes_1","title":"Ejemplo Respuesta Succes","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"El par\u00e1metro :descripcion es requerido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"consulta_municipio/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"credito_digital/","title":"Servicio para generar plan de pagos","text":"<p>Descripci\u00f3n: Este servicio permite recibir  parametros para el proceso de la generaci\u00f3n del plan de pagos segun la parametrizaci\u00f3n del cliente.</p> <p>Tipo de Servicio: POST</p>"},{"location":"credito_digital/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/procesamiento</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/procesamiento</code></li> </ul>"},{"location":"credito_digital/#headers","title":"Headers","text":"<p>El proceso requiere los siguientes encabezados en la solicitud:</p> <ul> <li>Accept: <code>application/json</code> (Obligatorio)</li> <li>Content-Type: <code>application/json</code> (Obligatorio)</li> <li>Authorization: <code>Bearer ${token}</code> (Obligatorio)</li> </ul>"},{"location":"credito_digital/#consideraciones","title":"Consideraciones","text":"<ul> <li>El par\u00e1metro tipo_servicio debe establecerse por defecto en API_PLAN_PAGOS, ya que este valor permite al sistema identificar que se trata de una generaci\u00f3n de plan de pagos.</li> <li>Si este par\u00e1metro no es proporcionado, el sistema responder\u00e1 con el siguiente error:</li> </ul> <pre><code>{\n    \"error\": \"Parametro requerido\",\n    \"message\": \"No se han definido par\u00e1metros requeridos tipo_servicio\",\n    \"code\": 400\n}\n</code></pre>"},{"location":"credito_digital/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>La informaci\u00f3n debe enviarse en formato JSON. Ejemplo:</p>"},{"location":"credito_digital/#campos-obligatorios","title":"Campos Obligatorios","text":"<pre><code>{\n  \"tipo_servicio\": \"API_PLAN_PAGOS\",\n  \"valor\": \"1821340\",\n  \"fecha\": \"2024-11-21\",\n  \"tasa\": \"27.13\",\n  \"plazo\": 3,\n  \"cuota_maxima\": 100000\n}\n\n</code></pre>"},{"location":"credito_digital/#ejemplo-respuesta-succes-segun-parametrizacion-del-cliente","title":"Ejemplo Respuesta Succes segun parametrizaci\u00f3n del cliente","text":"<pre><code>{\n  \"plan_pagos\": [\n    {\n      \"nro_cuota\": 1,\n      \"fecha_vence\": \"2024-11-21\",\n      \"cuota\": \"619433.0\",\n      \"abono_capital\": \"619432.19\",\n      \"interes_corriente\": \"0.0\",\n      \"saldo_final\": \"1201907.81\"\n    },\n    {\n      \"nro_cuota\": 2,\n      \"fecha_vence\": \"2024-12-21\",\n      \"cuota\": \"619433.0\",\n      \"abono_capital\": \"595147.64\",\n      \"interes_corriente\": \"24284.55\",\n      \"saldo_final\": \"606760.17\"\n    },\n    {\n      \"nro_cuota\": 3,\n      \"fecha_vence\": \"2025-01-21\",\n      \"cuota\": \"619433.0\",\n      \"abono_capital\": \"606760.17\",\n      \"interes_corriente\": \"12672.19\",\n      \"saldo_final\": \"0.0\"\n    }\n  ]\n}\n</code></pre>"},{"location":"credito_digital/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"credito_digital/#respuesta-campos-requeridos","title":"Respuesta Campos Requeridos","text":"<pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"valor no puede estar en blanco\"\n  ]\n}\n</code></pre>"},{"location":"descripcion_insertar_recaudos/","title":"Descripci\u00f3n del Servicio","text":""},{"location":"descripcion_insertar_recaudos/#introduccion","title":"Introducci\u00f3n","text":"<p>La finalidad de este servicio es registrar un recaudo asociado a una obligaci\u00f3n a trav\u00e9s de la API expuesta, siguiendo una estructura definida.</p>"},{"location":"descripcion_insertar_recaudos/#funcionamiento","title":"Funcionamiento","text":"<ul> <li>Recibe una solicitud con datos en formato JSON.</li> <li>Valida que todos los campos obligatorios est\u00e9n presentes.</li> <li>Valida que tenga permisos al consumo del servicio.</li> <li>Procesa la informaci\u00f3n seg\u00fan la configuraci\u00f3n establecida.</li> <li>Devuelve el plan de pagos generado en respuesta.</li> </ul>"},{"location":"descripcion_insertar_recaudos/#validaciones","title":"Validaciones","text":"<p>Para garantizar la integridad y coherencia de los datos, el servicio realiza diversas validaciones antes de procesar la solicitud. Si alg\u00fan dato es inv\u00e1lido o falta informaci\u00f3n requerida, se generar\u00e1 un mensaje de error con la descripci\u00f3n del problema.</p>"},{"location":"descripcion_insertar_recaudos/#formato-de-entrada","title":"Formato de Entrada","text":"<p>Los datos deben enviarse en formato JSON, siguiendo la estructura establecida.</p> <ul> <li>Ejemplo de solicitud </li> </ul> <pre><code>{\n  \"tipo_servicio\": \"INSERTAR_RECAUDO\", // OBLIGATORIO\n  \"personasobligacion_id\": \"193833\", // OBLIGATORIO\n  \"fecha\": \"02-07-2024\", // DD-MM-YYYY - OBLIGATORIO - FORMATO\n  \"valor\": \"10000\", // OBLIGATORIO\n  \"sucursal\": \"TENJO\", // Sede desde donde se envia el servicio\n  \"codigo_transaccion\": \"2763637388\",\n  \"usuario\": \"USUARIO DE LA TRANSACCION\",\n  \"observacion\": \"PAGO REALIZADO POR LA PLATAFORMA TESEO\"\n}\n</code></pre>"},{"location":"descripcion_plan_pagos/","title":"Descripci\u00f3n del Servicio","text":""},{"location":"descripcion_plan_pagos/#introduccion","title":"Introducci\u00f3n","text":"<p>Este servicio permite la generaci\u00f3n de un plan de pagos de cr\u00e9dito, procesando la informaci\u00f3n enviada en formato JSON. Su prop\u00f3sito es calcular el plan de pagos seg\u00fan la parametrizaci\u00f3n definida para cada cliente.</p>"},{"location":"descripcion_plan_pagos/#funcionamiento","title":"Funcionamiento","text":"<ul> <li>Recibe una solicitud con datos en formato JSON.</li> <li>Valida que todos los campos obligatorios est\u00e9n presentes.</li> <li>Procesa la informaci\u00f3n seg\u00fan la configuraci\u00f3n establecida.</li> <li>Devuelve el plan de pagos generado en respuesta.</li> </ul>"},{"location":"descripcion_plan_pagos/#validaciones","title":"Validaciones","text":"<p>Para garantizar la integridad y coherencia de los datos, el servicio realiza diversas validaciones antes de procesar la solicitud. Si alg\u00fan dato es inv\u00e1lido o falta informaci\u00f3n requerida, se generar\u00e1 un mensaje de error con la descripci\u00f3n del problema.</p>"},{"location":"descripcion_plan_pagos/#formato-de-entrada","title":"Formato de Entrada","text":"<p>Los datos deben enviarse en formato JSON, siguiendo la estructura establecida.</p> <ul> <li>Ejemplo de solicitud: Este es un ejemplo de solicitud JSON. La estructura exacta puede variar seg\u00fan la parametrizaci\u00f3n definida para cada cliente.</li> </ul> <pre><code>{\n  \"tipo_servicio\": \"API_PLAN_PAGOS\",\n  \"valor\": \"3000000\",\n  \"fecha\": \"2025-02-06\",\n  \"tasa\": \"20.04\",\n  \"plazo\": 10\n}\n</code></pre>"},{"location":"descripcion_reversar_recaudos/","title":"Descripci\u00f3n del Servicio","text":""},{"location":"descripcion_reversar_recaudos/#introduccion","title":"Introducci\u00f3n","text":"<p>La finalidad de este servicio es reversar un recaudo asociado a una obligaci\u00f3n a trav\u00e9s de la API expuesta, siguiendo una estructura definida.</p>"},{"location":"descripcion_reversar_recaudos/#funcionamiento","title":"Funcionamiento","text":"<ul> <li>Recibe una solicitud con datos en formato JSON.</li> <li>Valida que todos los campos obligatorios est\u00e9n presentes.</li> <li>Valida que tenga permisos al consumo del servicio.</li> <li>Procesa la informaci\u00f3n seg\u00fan la configuraci\u00f3n establecida.</li> <li>Devuelve el plan de pagos generado en respuesta.</li> </ul>"},{"location":"descripcion_reversar_recaudos/#validaciones","title":"Validaciones","text":"<p>Para garantizar la integridad y coherencia de los datos, el servicio realiza diversas validaciones antes de procesar la solicitud. Si alg\u00fan dato es inv\u00e1lido o falta informaci\u00f3n requerida, se generar\u00e1 un mensaje de error con la descripci\u00f3n del problema.</p>"},{"location":"descripcion_reversar_recaudos/#formato-de-entrada","title":"Formato de Entrada","text":"<p>Los datos deben enviarse en formato JSON, siguiendo la estructura establecida.</p> <ul> <li>Ejemplo de solicitud </li> </ul> <pre><code>{\n  \"tipo_servicio\": \"REVERSAR_RECAUDO\", // OBLIGATORIO\n  \"recaudo_id\": \"2783288828\", // OBLIGATORIO\n  \"observacion\": \"SE REVERSA POR MOTIVOS DE PRUEBAS\" // OBLIGATORIO - SE DEBE DE JUSTIFICAR PORQUE SE DESEA REVERSAR\n}\n</code></pre>"},{"location":"grupoctl_actualizar/","title":"Servicio para actualizar datos","text":"<p>Descripci\u00f3n: Este servicio permite recibir  parametros para el proceso de la actualizacion del credito.</p> <p>Tipo de Servicio: POST</p>"},{"location":"grupoctl_actualizar/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/originador</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/originador</code></li> </ul>"},{"location":"grupoctl_actualizar/#headers","title":"Headers","text":"<p>El proceso requiere los siguientes encabezados en la solicitud:</p> <ul> <li>Accept: <code>application/json</code> (Obligatorio)</li> <li>Content-Type: <code>application/json</code> (Obligatorio)</li> <li>Authorization: <code>Bearer ${token}</code> (Obligatorio)</li> </ul>"},{"location":"grupoctl_actualizar/#consideracion","title":"Consideracion","text":"<ul> <li>El par\u00e1metro tipo_servicio debe establecerse por defecto en UPDATE, ya que con este valor el sistema identifica que se trata de una actualizaci\u00f3n. Por otro lado, id_transaccion corresponde a un identificador propio de la entidad que debe enviarse con el fin de que, al momento de cruzar informaci\u00f3n, se pueda identificar.</li> </ul>"},{"location":"grupoctl_actualizar/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>La informaci\u00f3n debe enviarse en formato JSON. Ejemplo:</p>"},{"location":"grupoctl_actualizar/#campos-obligatorios","title":"Campos Obligatorios","text":"<pre><code>\n{\n  \"datostecfinanza\": {\n    \"cuota_corriente\": \"281498.00\",\n    \"valor_cuota_total\": \"293387.00\",\n    \"p_patrimonial\": \"1406044.00\",\n    \"prima_segvida\": \"11889.00\",\n    \"valor_aval\": \"0.00\",\n    \"int_anticipado\": \"472196.00\",\n    \"gto_plataforma\": \"0.00\",\n    \"corretaje\": \"781136.00\",\n    \"seguro_incorporacion\": \"0.00\",\n    \"estudio_credito\": \"520549.00\",\n    \"gmf\": \"62491.00\",\n    \"descuentos_giro\": \"12000.00\",\n    \"tasa_interes\": \"1.500000\",\n    \"plazo_inicial_credito\": \"120\",\n    \"valor_desembolso\": \"15622710.00\",\n    \"nit_pagaduria\": \"8999991181\",\n    \"fecha_desemb\": \"2025-02-07\",\n    \"no_pagare\": \"639\",\n    \"estado_credito\": \"Tesoreria\",\n    \"nro_credito\": \"639\",\n    \"tipo_servicio\": \"UPDATE\",\n    \"id_transaccion\": 32645\n  }\n}\n\n</code></pre>"},{"location":"grupoctl_actualizar/#respuesta-success","title":"Respuesta Success","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"id\": 832,\n    \"nro_documento\": null,\n    \"dir_residencia\": null,\n    \"correo\": null,\n    \"dir_familiar\": null,\n    \"dir_correspondencia\": null,\n    \"dir_empresa_labora\": null,\n    \"email_labora\": null,\n    \"dir_ref_fam1\": null,\n    \"dir_ref_per1\": null,\n    \"cuenta_ext1\": null,\n    \"cuenta_ext2\": null,\n    \"no_pagare\": \"639\",\n    \"nro_solicitud\": null,\n    \"poliza\": null,\n    \"fecha_expedicion_doc\": null,\n    \"fecha_nacimiento\": null,\n    \"fecha_ingreso\": null,\n    \"fecha_ultima\": null,\n    \"fecha_ini_cargo\": null,\n    \"fecha_fin_cargo\": null,\n    \"fecha_desemb\": \"2025-02-07\",\n    \"fecha_ing_poliza\": null,\n    \"clase_poliza\": null,\n    \"tipo_cliente\": null,\n    \"codigo_dane_exp_doc\": null,\n    \"codigo_dane_nacim\": null,\n    \"codigo_ciiu_cliente\": null,\n    \"antig_actividad\": null,\n    \"codigo_dane_resid\": null,\n    \"tel_fijo_resi\": null,\n    \"tel_cel\": null,\n    \"codigo_dane_dir_fam\": null,\n    \"codigo_dane_dir_corr\": null,\n    \"codigo_dane_dir_emp\": null,\n    \"tel_fijo_ofi\": null,\n    \"ext_ofi_lab\": null,\n    \"nro_renov_contrato\": null,\n    \"nro_personas\": null,\n    \"menores_18\": null,\n    \"codigo_dane_ref_fam1\": null,\n    \"tel_ref_fam1\": null,\n    \"codigo_dane_ref_per1\": null,\n    \"tel_ref_per1\": null,\n    \"nro_cuenta\": null,\n    \"valor_ingreso_salario\": null,\n    \"valor_ingreso_comisiones\": null,\n    \"valor_ingreso_honorarios\": null,\n    \"valor_ingresos_arrend\": null,\n    \"valor_rendimientos\": null,\n    \"otros_ingresos\": null,\n    \"valor_total_ingresos\": null,\n    \"valor_deducciones_ley\": null,\n    \"valor_otras_deducciones\": null,\n    \"valor_arrend_cliente\": null,\n    \"valor_cuota_credito\": null,\n    \"valor_gastos_tarjeta\": null,\n    \"valor_gastos_familiares\": null,\n    \"valor_gastos_sost\": null,\n    \"valor_pago_otros_creditos\": null,\n    \"otros_egresos\": null,\n    \"valor_total_egresos\": null,\n    \"valor_activos_corrientes\": null,\n    \"valor_activos_fijos\": null,\n    \"valor_otros_activos\": null,\n    \"total_activos\": null,\n    \"valor_pasivos_financieros\": null,\n    \"valor_pasivos_corrientes\": null,\n    \"valor_otros_pasivos\": null,\n    \"total_pasivos\": null,\n    \"patrimonio\": null,\n    \"monto_solicitado\": null,\n    \"monto_cuenta_ext1\": null,\n    \"monto_cuenta_ext2\": null,\n    \"puntaje_acierta\": null,\n    \"nro_cuentas_embargadas\": null,\n    \"nro_cuentas_canceladas\": null,\n    \"nro_obligaciones_mora\": null,\n    \"nro_obligaciones_mora_coop\": null,\n    \"nro_carteras_castigadas\": null,\n    \"nro_carteras_dudoso\": null,\n    \"nro_obligaciones_reestructuradas\": null,\n    \"nro_obligaciones_calificadas_c\": null,\n    \"nro_obligaciones_calificadas_d\": null,\n    \"nro_obligaciones_calificadas_e\": null,\n    \"nro_moras_30_dias\": null,\n    \"nro_moras_60_dias\": null,\n    \"nro_moras_sup_60_dias\": null,\n    \"nro_entidades_consulta\": null,\n    \"quanto_minimo\": null,\n    \"quanto_maximo\": null,\n    \"quanto_medio\": null,\n    \"sum_cuotas_creditos\": null,\n    \"sum_saldos_tdc\": null,\n    \"sum_cupos_tdc\": null,\n    \"nro_embargos_pago\": null,\n    \"nro_procesos_civiles\": null,\n    \"nit_custodia\": null,\n    \"nit_originador\": null,\n    \"nit_pagaduria\": 8999991181,\n    \"nit_fideicomisos\": null,\n    \"codigo_fideicomiso\": null,\n    \"valor_desembolso\": 15622710,\n    \"plazo_inicial_credito\": 120,\n    \"tasa_interes\": \"1.5\",\n    \"valor_aval\": 0,\n    \"periodicidad\": null,\n    \"porcentaje_reserva\": null,\n    \"prima_segvida\": 11889,\n    \"no_doc_benef_grat1\": null,\n    \"porc_benef_grat1\": null,\n    \"no_doc_benef_grat2\": null,\n    \"porc_benef_grat2\": null,\n    \"tipo_entidad\": null,\n    \"cliente_declara\": null,\n    \"desempena_cargo\": null,\n    \"manejo_recursos\": null,\n    \"representa_organizacion\": null,\n    \"cliente_es_pep\": null,\n    \"vinculo_con_pep\": null,\n    \"reconocimiento_publico\": null,\n    \"posee_cuenta\": null,\n    \"realiza_operaciones\": null,\n    \"importaciones\": null,\n    \"credito_documentario\": null,\n    \"giros_directos\": null,\n    \"negociacion_divisas\": null,\n    \"leasing_importacion\": null,\n    \"giros_financiados\": null,\n    \"exportaciones\": null,\n    \"inversiones\": null,\n    \"venta_bienes\": null,\n    \"honorarios_comisiones\": null,\n    \"ingresos_actividad\": null,\n    \"prestamo_bancario\": null,\n    \"rifas\": null,\n    \"pension\": null,\n    \"herencia\": null,\n    \"liq_prestaciones\": null,\n    \"liq_sucesiones\": null,\n    \"otros\": null,\n    \"cuentas_moneda_ext\": null,\n    \"permanencia_eeuu\": null,\n    \"tarjeta_verde\": null,\n    \"ingresos_fdap\": null,\n    \"ingreso_bruto_venta\": null,\n    \"ciudadano_eeuu\": null,\n    \"obligado_tributar\": null,\n    \"coincidencia_listas\": null,\n    \"procesos_cooperativa\": null,\n    \"extraprima\": null,\n    \"primer_apellido\": null,\n    \"segundo_apellido\": null,\n    \"primer_nombre\": null,\n    \"segundo_nombre\": null,\n    \"tipo_doc\": null,\n    \"pais_nacimiento\": null,\n    \"nacionalidad\": null,\n    \"genero\": null,\n    \"estado_civil\": null,\n    \"nivel_estudios\": null,\n    \"grupo_etnico\": null,\n    \"profesion\": null,\n    \"ocupacion\": null,\n    \"clase_cliente\": null,\n    \"barrio_resi\": null,\n    \"estrato_resi\": null,\n    \"tipo_vivienda\": null,\n    \"nombre_empresa\": null,\n    \"punto_venta\": null,\n    \"tipo_contrato\": null,\n    \"tipo_empresa\": null,\n    \"cargo_actual\": null,\n    \"cargo_politico\": null,\n    \"nombre_ref_fam1\": null,\n    \"parentesco_ref_fam1\": null,\n    \"nombre_ref_fam2\": null,\n    \"nombre_ref_per1\": null,\n    \"nombre_banco_cuenta\": null,\n    \"tipo_cuenta\": null,\n    \"desc_otros_activos\": null,\n    \"desc_otros_pasivos\": null,\n    \"otros_activos_pasivos\": null,\n    \"nombre_banco_ext1\": null,\n    \"tipo_producto_ext1\": null,\n    \"moneda_ext1\": null,\n    \"ciudad_banco_ext1\": null,\n    \"pais_banco_ext1\": null,\n    \"nombre_banco_ext2\": null,\n    \"tipo_producto_ext2\": null,\n    \"moneda_ext2\": null,\n    \"ciudad_banco_ext2\": null,\n    \"pais_banco_ext2\": null,\n    \"calificacion_cliente\": null,\n    \"tipo_cliente_datacredito\": null,\n    \"tipo_libranza\": null,\n    \"razon_social_originador\": null,\n    \"razon_social_pagaduria\": null,\n    \"segmento_libranza\": null,\n    \"razon_social_fideicomisos\": null,\n    \"fondeador\": null,\n    \"oficina_asociado\": null,\n    \"tipo_aval\": null,\n    \"benef_grat1\": null,\n    \"benef_grat2\": null,\n    \"created_at\": \"2025-02-10T12:28:28.942-05:00\",\n    \"updated_at\": \"2025-02-10T12:28:28.942-05:00\",\n    \"persona_id\": null,\n    \"p_patrimonial\": \"1406044.0\",\n    \"personasobligacion_id\": null,\n    \"cuotas_credito\": null,\n    \"cuota_cupo_tdcusado\": null,\n    \"cuota_cupo_tdcconting\": null,\n    \"cuota_cupo_rotausado\": null,\n    \"cuota_cupo_rotaconting\": null,\n    \"gastos_familiares_pensionado\": null,\n    \"gastos_familiares_activo\": null,\n    \"tasa_usura_ultimos_meses\": null,\n    \"gastos_financieros\": null,\n    \"porcent_endeudamiento\": null,\n    \"dias_int_ant\": null,\n    \"int_anticipado\": \"472196.0\",\n    \"gto_plataforma\": \"0.0\",\n    \"valor_prestamo_sin_c\": null,\n    \"valor_prestamo_sin_r\": null,\n    \"valor_prestamo_sin_cc\": null,\n    \"total_oblm_sf\": null,\n    \"total_oblm_mayor_7\": null,\n    \"total_obl_castigadas_mayor_15\": null,\n    \"total_oblm_mayor_90\": null,\n    \"total_deuda_sf\": null,\n    \"total_deuda_sc\": null,\n    \"total_deuda_sr\": null,\n    \"valor_cuota_total\": \"293387.0\",\n    \"email_ref_fam1\": null,\n    \"email_ref_pers1\": null,\n    \"estadoscivil_id\": null,\n    \"municipio_id\": null,\n    \"ciudadexpedicion_id\": null,\n    \"tiposdocumento_id\": null,\n    \"partiposproducto_id\": null,\n    \"portafoliosvehiculo_id\": null,\n    \"pagaduria_id\": null,\n    \"cliente_id\": null,\n    \"fecha_solicitud\": null,\n    \"barrio_empresa\": null,\n    \"det_otros_ingr\": null,\n    \"origen_fondos\": null,\n    \"ingresos_brutos\": null,\n    \"estado_credito\": \"Tesoreria\",\n    \"departamento_residencia\": null,\n    \"departamento_empresa\": null,\n    \"cuota_corriente\": \"281498.0\",\n    \"cambio_condiciones\": null,\n    \"codigo_region\": null,\n    \"id_transaccion\": 32645,\n    \"request\": null,\n    \"response\": null,\n    \"municipio_residencia\": null,\n    \"corretaje\": \"781136.0\",\n    \"seguro_incorporacion\": \"0.0\",\n    \"estudio_credito\": \"520549.0\",\n    \"descuentos_giro\": \"12000.0\",\n    \"gmf\": \"62491.0\",\n    \"parentesco_benef1\": null,\n    \"parentesco_benef2\": null,\n    \"porc_benef_grat3\": null,\n    \"parentesco1\": null,\n    \"parentesco2\": null,\n    \"parentesco3\": null,\n    \"benef_grat3\": null,\n    \"no_doc_benef_grat3\": null,\n    \"descuento_giro\": null,\n    \"tipo_servicio\": \"UPDATE\",\n    \"portafoliossucursal_id\": null,\n    \"nro_credito\": \"639\",\n    \"prima_comercial\": null\n  }\n}\n</code></pre>"},{"location":"grupoctl_actualizar/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"grupoctl_actualizar/#respuesta-campos-requeridos","title":"Respuesta Campos Requeridos","text":"<pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"Nro documento no puede estar en blanco\"\n  ]\n}\n</code></pre>"},{"location":"grupoctl_importar/","title":"Servicio para importar datos","text":"<p>Descripci\u00f3n: Este servicio permite recibir parametros para el proceso de creacion de los datos demograficos y informaci\u00f3n financiera dentro de TESEO.</p> <p>Tipo de Servicio: POST</p>"},{"location":"grupoctl_importar/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/originador</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/originador</code></li> </ul>"},{"location":"grupoctl_importar/#headers","title":"Headers","text":"<p>El proceso requiere los siguientes encabezados en la solicitud:</p> <ul> <li>Accept: <code>application/json</code> (Obligatorio)</li> <li>Content-Type: <code>application/json</code> (Obligatorio)</li> <li>Authorization: <code>Bearer ${token}</code> (Obligatorio)</li> </ul>"},{"location":"grupoctl_importar/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>La informaci\u00f3n debe enviarse en formato JSON. Ejemplo:</p>"},{"location":"grupoctl_importar/#campos-obligatorios","title":"Campos Obligatorios","text":"<ul> <li>Para que la solicitud sea procesada correctamente por el motor de cr\u00e9dito y desembolso, es obligatorio enviar los siguientes campos con informaci\u00f3n v\u00e1lida y completa:</li> </ul> Campo Descripci\u00f3n Ejemplo / Formato <code>valor_desembolso</code> Valor total a desembolsar <code>25000000</code> <code>plazo_inicial_credito</code> Plazo del cr\u00e9dito en meses <code>36</code> <code>primer_nombre</code> Primer nombre del solicitante <code>JUAN</code> <code>primer_apellido</code> Primer apellido del solicitante <code>P\u00c9REZ</code> <code>nro_documento</code> N\u00famero de documento de identidad <code>1037654321</code> <code>tipo_cuenta</code> Tipo de cuenta bancaria (AHORROS / CORRIENTE) <code>AHORROS</code> <code>nombre_banco_cuenta</code> Nombre del banco destino <code>BANCOLOMBIA</code> <code>tel_cel</code> Celular del solicitante <code>3001234567</code> <code>nro_cuenta</code> N\u00famero de cuenta bancaria <code>1234567890</code> <code>correo</code> Correo electr\u00f3nico del solicitante <code>juan.perez@dominio.com</code> <code>fecha_expedicion_doc</code> Fecha de expedici\u00f3n del documento (AAAA-MM-DD) <code>2015-06-20</code> <code>fecha_nacimiento</code> Fecha de nacimiento del solicitante (AAAA-MM-DD) <code>1985-03-15</code> <code>codigo_dane_nacim</code> C\u00f3digo DANE del municipio de nacimiento <code>05001</code> (Medell\u00edn) <code>codigo_dane_resid</code> C\u00f3digo DANE del municipio de residencia actual <code>05001</code> (Medell\u00edn) <code>id_simulacion</code> ID del simulador consolidado en TESEO <code>117</code> <p>Importante</p> <ul> <li>Todos los campos son obligatorios en esta etapa.</li> <li>Si falta alguno o tiene formato incorrecto, el proceso se detendr\u00e1 y se generar\u00e1 un error de validaci\u00f3n.</li> <li>Los c\u00f3digos DANE deben corresponder a municipios v\u00e1lidos seg\u00fan el est\u00e1ndar DIVIPOLA del DANE.**</li> <li>detalle_comodin - Debe contener los n\u00fameros de pagar\u00e9s anteriores separados por |</li> <li>estado_cavca - Solo acepta: PARCIAL, INICIAL o FINAL (en may\u00fasculas)</li> </ul> <pre><code> {\n  \"datostecfinanza\": {\n    \"nro_documento\": \"26708493\",\n    \"dir_residencia\": \"CALLE  35 # 15 -42 \",\n    \"correo\": \"cesar371542@gmail.com\",\n    \"dir_correspondencia\": \"CALLE  35 # 15 -42 \",\n    \"no_pagare\": \"6515\",\n    \"poliza\": \"083005225665\",\n    \"fecha_expedicion_doc\": \"1964-09-07\",\n    \"fecha_nacimiento\": \"1940-08-08\",\n    \"fecha_ultima\": \"2025-11-11\",\n    \"fecha_desemb\": \"2025-11-18\",\n    \"fecha_ing_poliza\": \"2025-11-18\",\n    \"clase_poliza\": \"1\",\n    \"tipo_cliente\": \"N\",\n    \"codigo_dane_exp_doc\": \"47189\",\n    \"codigo_dane_nacim\": \"47980\",\n    \"codigo_ciiu_cliente\": \"0020\",\n    \"codigo_dane_resid\": \"47001\",\n    \"tel_fijo_resi\": \"3002496128\",\n    \"tel_cel\": \"3002496128\",\n    \"nro_personas\": \"0\",\n    \"tel_ref_per1\": \"3162717102\",\n    \"valor_ingreso_salario\": \"2194010\",\n    \"otros_ingresos\": \"0\",\n    \"valor_total_ingresos\": \"2194010\",\n    \"valor_deducciones_ley\": \"219401\",\n    \"valor_otras_deducciones\": \"781875\",\n    \"otros_egresos\": \"0\",\n    \"valor_total_egresos\": \"0\",\n    \"valor_otros_activos\": \"350000000\",\n    \"total_activos\": \"350000000\",\n    \"valor_otros_pasivos\": \"0\",\n    \"total_pasivos\": \"0\",\n    \"patrimonio\": \"350000000\",\n    \"monto_solicitado\": \"7180636\",\n    \"tasa_usura_ultimos_meses\": \"1.862403\",\n    \"nit_custodia\": \"900011545\",\n    \"nit_originador\": \"901693496\",\n    \"nit_pagaduria\": \"860066736\",\n    \"nit_fideicomisos\": \"900978303\",\n    \"codigo_fideicomiso\": \"112768\",\n    \"valor_desembolso\": \"7180634\",\n    \"plazo_inicial_credito\": \"60\",\n    \"tasa_interes\": \"1.780000\",\n    \"valor_aval\": \"502644\",\n    \"no_doc_benef_grat1\": \"7631479\",\n    \"porc_benef_grat1\": \"100\",\n    \"tipo_entidad\": \"PUBLICA\",\n    \"manejo_recursos\": \"2\",\n    \"cliente_es_pep\": \"2\",\n    \"vinculo_con_pep\": \"2\",\n    \"primer_apellido\": \"BROCHERO\",\n    \"segundo_apellido\": \"SANDOVAL\",\n    \"primer_nombre\": \"MARIA\",\n    \"segundo_nombre\": \"LUISA\",\n    \"tipo_doc\": \"1\",\n    \"genero\": \"2\",\n    \"estado_civil\": \"1\",\n    \"nivel_estudios\": \"5\",\n    \"ocupacion\": \"2\",\n    \"clase_cliente\": \"VEJEZ\",\n    \"barrio_resi\": \"MARIA  EUGENCIA \",\n    \"estrato_resi\": \"3\",\n    \"tipo_vivienda\": \"4\",\n    \"punto_venta\": \"CIENAGA\",\n    \"tipo_contrato\": \"10\",\n    \"nombre_ref_per1\": \"MAR\\u00cdA  AMARILES  SIERRA \",\n    \"nombre_banco_cuenta\": \"10\",\n    \"tipo_cuenta\": \"2\",\n    \"desc_otros_activos\": \"0\",\n    \"desc_otros_pasivos\": \"0\",\n    \"tipo_libranza\": \"LIBRE INVERSI\\u00d3N\",\n    \"razon_social_originador\": \"PATRIMONIO AUTONOMO CTL\",\n    \"razon_social_pagaduria\": \"FOPEP\",\n    \"segmento_libranza\": \"4\",\n    \"destino_credito\": \"11581\",\n    \"razon_social_fideicomisos\": \"FIDUCOOMEVA\",\n    \"benef_grat1\": \"CESAR AUGUSTO RAMIREZ BROCHERO\",\n    \"int_anticipado\": \"73243\",\n    \"gto_plataforma\": \"0\",\n    \"corretaje\": \"359031\",\n    \"nro_solicitud\": \"1630\",\n    \"fecha_solicitud\": \"2025-11-11\",\n    \"det_otros_ingr\": \"0\",\n    \"departamento_residencia\": \"47\",\n    \"cuota_corriente\": \"197973\",\n    \"valor_cuota_total\": \"233876\",\n    \"origen_fondos\": \"PENSION\",\n    \"ingresos_brutos\": \"2194010\",\n    \"dias_int_ant\": \"17\",\n    \"id_transaccion\": \"20251119213624006515001630\",\n    \"parentesco1\": \"HIJO\",\n    \"id_simulacion\": \"117\",\n    \"detalle_comodin\": \"626|7736|621\",\n    \"estado_cavca\": \"PARCIAL\"\n  }\n}\n\n</code></pre>"},{"location":"grupoctl_importar/#respuesta-success","title":"Respuesta Success","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"id\": 3,\n    \"nro_documento\": \"26708493\",\n    \"dir_residencia\": \"CALLE  35 # 15 -42 \",\n    \"correo\": \"cesar371542@gmail.com\",\n    \"dir_correspondencia\": \"CALLE  35 # 15 -42 \",\n    \"no_pagare\": \"6515\",\n    \"poliza\": \"083005225665\",\n    \"fecha_expedicion_doc\": \"1964-09-07\",\n    \"fecha_nacimiento\": \"1940-08-08\",\n    \"fecha_ultima\": \"2025-11-11\",\n    \"fecha_desemb\": \"2025-11-18\",\n    \"fecha_ing_poliza\": \"2025-11-18\",\n    \"clase_poliza\": \"1\",\n    \"tipo_cliente\": \"N\",\n    \"codigo_dane_exp_doc\": \"47189\",\n    \"codigo_dane_nacim\": \"47980\",\n    \"codigo_ciiu_cliente\": \"0020\",\n    \"codigo_dane_resid\": \"47001\",\n    \"tel_fijo_resi\": \"3002496128\",\n    \"tel_cel\": \"3002496128\",\n    \"nro_personas\": \"0\",\n    \"tel_ref_per1\": \"3162717102\",\n    \"valor_ingreso_salario\": \"2194010\",\n    \"otros_ingresos\": \"0\",\n    \"valor_total_ingresos\": \"2194010\",\n    \"valor_deducciones_ley\": \"219401\",\n    \"valor_otras_deducciones\": \"781875\",\n    \"otros_egresos\": \"0\",\n    \"valor_total_egresos\": \"0\",\n    \"valor_otros_activos\": \"350000000\",\n    \"total_activos\": \"350000000\",\n    \"valor_otros_pasivos\": \"0\",\n    \"total_pasivos\": \"0\",\n    \"patrimonio\": \"350000000\",\n    \"monto_solicitado\": \"7180636\",\n    \"tasa_usura_ultimos_meses\": \"1.862403\",\n    \"nit_custodia\": \"900011545\",\n    \"nit_originador\": \"901693496\",\n    \"nit_pagaduria\": \"860066736\",\n    \"nit_fideicomisos\": \"900978303\",\n    \"codigo_fideicomiso\": \"112768\",\n    \"valor_desembolso\": \"7180634\",\n    \"plazo_inicial_credito\": \"60\",\n    \"tasa_interes\": \"1.780000\",\n    \"valor_aval\": \"502644\",\n    \"no_doc_benef_grat1\": \"7631479\",\n    \"porc_benef_grat1\": \"100\",\n    \"tipo_entidad\": \"PUBLICA\",\n    \"manejo_recursos\": \"2\",\n    \"cliente_es_pep\": \"2\",\n    \"vinculo_con_pep\": \"2\",\n    \"primer_apellido\": \"BROCHERO\",\n    \"segundo_apellido\": \"SANDOVAL\",\n    \"primer_nombre\": \"MARIA\",\n    \"segundo_nombre\": \"LUISA\",\n    \"tipo_doc\": \"1\",\n    \"genero\": \"2\",\n    \"estado_civil\": \"1\",\n    \"nivel_estudios\": \"5\",\n    \"ocupacion\": \"2\",\n    \"clase_cliente\": \"VEJEZ\",\n    \"barrio_resi\": \"MARIA  EUGENCIA \",\n    \"estrato_resi\": \"3\",\n    \"tipo_vivienda\": \"4\",\n    \"punto_venta\": \"CIENAGA\",\n    \"tipo_contrato\": \"10\",\n    \"nombre_ref_per1\": \"MAR\\u00cdA  AMARILES  SIERRA \",\n    \"nombre_banco_cuenta\": \"10\",\n    \"tipo_cuenta\": \"2\",\n    \"desc_otros_activos\": \"0\",\n    \"desc_otros_pasivos\": \"0\",\n    \"tipo_libranza\": \"LIBRE INVERSI\\u00d3N\",\n    \"razon_social_originador\": \"PATRIMONIO AUTONOMO CTL\",\n    \"razon_social_pagaduria\": \"FOPEP\",\n    \"segmento_libranza\": \"4\",\n    \"destino_credito\": \"11581\",\n    \"razon_social_fideicomisos\": \"FIDUCOOMEVA\",\n    \"benef_grat1\": \"CESAR AUGUSTO RAMIREZ BROCHERO\",\n    \"int_anticipado\": \"73243\",\n    \"gto_plataforma\": \"0\",\n    \"corretaje\": \"359031\",\n    \"nro_solicitud\": \"1630\",\n    \"fecha_solicitud\": \"2025-11-11\",\n    \"det_otros_ingr\": \"0\",\n    \"departamento_residencia\": \"47\",\n    \"cuota_corriente\": \"197973\",\n    \"valor_cuota_total\": \"233876\",\n    \"origen_fondos\": \"PENSION\",\n    \"ingresos_brutos\": \"2194010\",\n    \"dias_int_ant\": \"17\",\n    \"id_transaccion\": \"20251119213624006515001630\",\n    \"parentesco1\": \"HIJO\",\n    \"id_simulacion\": \"117\",\n    \"detalle_comodin\": \"626|7736|621\",\n    \"estado_cavca\": \"PARCIAL\",\n    \"created_at\": \"2024-08-16T17:32:11.761Z\",\n    \"updated_at\": \"2024-08-16T17:32:11.761Z\"\n  }\n}\n</code></pre>"},{"location":"grupoctl_importar/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"grupoctl_importar/#respuestas-por-campos-requeridos","title":"Respuestas por Campos Requeridos","text":"<p>Durante el procesamiento de la solicitud, el sistema puede devolver respuestas en caso de que falten campos obligatorios o existan errores en la informaci\u00f3n enviada.</p>"},{"location":"grupoctl_importar/#ejemplo-de-respuesta-para-campos-requeridos","title":"Ejemplo de Respuesta para Campos Requeridos","text":"<pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"Nro documento no puede estar en blanco\"\n  ]\n}\n</code></pre>"},{"location":"grupoctl_importar/#descripcion-de-los-campos","title":"Descripci\u00f3n de los campos","text":"DESCRIPCI\u00d3N CAMPO TIPO CAMPO COMPONENTE N\u00famero Documento nro_documento VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n Residencia dir_residencia VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n de correo electr\u00f3nico correo VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n familiar dir_familiar VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n Correspondencia dir_correspondencia VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n de la Empresa donde Labora dir_empresa_labora VARCHAR2 DEMOGR\u00c1FICOS E-mail laboral email_labora VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n Referencia Familiar 1 dir_ref_fam1 VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n Referencia Personal 1 dir_ref_per1 VARCHAR2 DEMOGR\u00c1FICOS N\u00famero de cuenta en moneda extranjera1 cuenta_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA N\u00famero de cuenta en moneda extranjera2 cuenta_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA No. Pagar\u00e9 = N\u00famero Cr\u00e9dito no_pagare VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO N\u00famero de Solicitud del Cr\u00e9dito nro_solicitud VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO N\u00famero P\u00f3liza Cobertura Actual (para libranza privada viene vac\u00edo) poliza VARCHAR2 SEGURO Fecha Expedici\u00f3n Documento fecha_expedicion_doc DATE DEMOGR\u00c1FICOS Fecha Nacimiento fecha_nacimiento DATE DEMOGR\u00c1FICOS Fecha de ingreso a la empresa fecha_ingreso DATE DEMOGR\u00c1FICOS Fecha \u00daltima Actualizaci\u00f3n DATACR\u00c9DITO - EXPIRIAN fecha_ultima DATE DEMOGR\u00c1FICOS Fecha Inicio Cargo Pol\u00edtico fecha_ini_cargo DATE DEMOGR\u00c1FICOS Fecha Fin Cargo Pol\u00edtico fecha_fin_cargo DATE DEMOGR\u00c1FICOS Fecha desembolso (DD/MM/AAAA) fecha_desemb DATE INFORMACI\u00d3N CR\u00c9DITO Fecha ingreso p\u00f3liza (DEBE COINCIDIR CON FECHA DESEMBOLSO) fecha_ing_poliza DATE SEGURO Clase de p\u00f3liza de vida: SIMPRE HACER REFERENCIA A \"INDIVIDUAL\" clase_poliza VARCHAR2 SEGURO Tipo de Cliente (ALUDE A PERSONA NATURAL o PERSONA JUR\u00cdDICA) EN ESTE PROYECTO SIEMPRE PERSONA NATURAL tipo_cliente VARCHAR2 DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Expedici\u00f3n Documento codigo_dane_exp_doc NUMBER DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Nacimiento codigo_dane_nacim NUMBER DEMOGR\u00c1FICOS C\u00f3digo CIIU Registra Cliente (SIEMPRE SER\u00c1: \"020\" PENSIONADO o \"010\" EMPLEADO codigo_ciiu_cliente NUMBER DEMOGR\u00c1FICOS Antig\u00fcedad Actividad Econ\u00f3mica en meses (ES UN C\u00c1LCULO EN FECHA INGRESO - FECHA RADICACI\u00d3N) antig_actividad NUMBER DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Residencia codigo_dane_resid NUMBER DEMOGR\u00c1FICOS Tel\u00e9fono Fijo Residencia tel_fijo_resi VARCHAR2 DEMOGR\u00c1FICOS Tel\u00e9fono celular tel_cel VARCHAR2 DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Direcci\u00f3n Familiar codigo_dane_dir_fam NUMBER DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Correspondencia codigo_dane_dir_corr NUMBER DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Direcci\u00f3n Empresa donde labora codigo_dane_dir_emp NUMBER DEMOGR\u00c1FICOS Tel\u00e9fono Fijo Oficina donde labora tel_fijo_ofi VARCHAR2 DEMOGR\u00c1FICOS Extensi\u00f3n Oficina donde Labora ext_ofi_lab VARCHAR2 DEMOGR\u00c1FICOS N\u00famero Renovaciones Contrato T\u00e9rmino Fijo (normalmente vendr\u00e1 vac\u00edo) nro_renov_contrato VARCHAR2 DEMOGR\u00c1FICOS No. de personas a cargo nro_personas NUMBER DEMOGR\u00c1FICOS Personas a cargo menores de 18 a\u00f1os menores_18 NUMBER DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Direcci\u00f3n Referencia Familiar 1 codigo_dane_ref_fam1 NUMBER DEMOGR\u00c1FICOS Tel\u00e9fono Referencia Familiar 1 tel_ref_fam1 VARCHAR2 DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Direcci\u00f3n Referencia Personal 1 codigo_dane_ref_per1 NUMBER DEMOGR\u00c1FICOS Tel\u00e9fono Referencia Personal 1 tel_ref_per1 VARCHAR2 DEMOGR\u00c1FICOS N\u00famero Cuenta Bancaria nro_cuenta NUMBER INFORMACI\u00d3N FINANCIERA Valor Ingreso / Salario FIJO Mensual valor_ingreso_salario NUMBER INFORMACI\u00d3N FINANCIERA Valor Ingreso por Comisiones Mensual valor_ingreso_comisiones NUMBER INFORMACI\u00d3N FINANCIERA Valor Ingresos por Honorarios Mensual valor_ingreso_honorarios NUMBER INFORMACI\u00d3N FINANCIERA Valor Ingresos por Arrendamientos Mensual valor_ingresos_arrend NUMBER INFORMACI\u00d3N FINANCIERA Valor Rendimientos Financieros Mensuales valor_rendimientos NUMBER INFORMACI\u00d3N FINANCIERA Otros ingresos Mensuales otros_ingresos NUMBER INFORMACI\u00d3N FINANCIERA Valor Total Ingresos Mes valor_total_ingresos NUMBER INFORMACI\u00d3N FINANCIERA Valor Deducciones de ley mes valor_deducciones_ley NUMBER INFORMACI\u00d3N FINANCIERA Valor Otras deducciones n\u00f3mina mes valor_otras_deducciones NUMBER INFORMACI\u00d3N FINANCIERA Valor Arrendamiento cliente mes valor_arrend_cliente NUMBER INFORMACI\u00d3N FINANCIERA Valor Cuota Cr\u00e9dito de vivienda cliente mes valor_cuota_credito NUMBER INFORMACI\u00d3N FINANCIERA Valor Gastos por Tarjeta Cr\u00e9dito cliente mes valor_gastos_tarjeta NUMBER INFORMACI\u00d3N FINANCIERA Valor Gastos Familiares cliente mes valor_gastos_familiares NUMBER INFORMACI\u00d3N FINANCIERA Valor Gastos de sostenimiento cliente mes valor_gastos_sost NUMBER INFORMACI\u00d3N FINANCIERA Valor Pago Otros Cr\u00e9ditos cliente mes valor_pago_otros_creditos NUMBER INFORMACI\u00d3N FINANCIERA Otros egresos cliente mes otros_egresos NUMBER INFORMACI\u00d3N FINANCIERA Valor Total egresos cliente mes valor_total_egresos NUMBER INFORMACI\u00d3N FINANCIERA Valor Activos Corrientes valor_activos_corrientes NUMBER INFORMACI\u00d3N FINANCIERA Valor Activos Fijos valor_activos_fijos NUMBER INFORMACI\u00d3N FINANCIERA Valor Otros Activos valor_otros_activos NUMBER INFORMACI\u00d3N FINANCIERA Total activos total_activos NUMBER INFORMACI\u00d3N FINANCIERA Valor Pasivos Financieros (deudas financieras) valor_pasivos_financieros NUMBER INFORMACI\u00d3N FINANCIERA Valor Pasivos Corrientes valor_pasivos_corrientes NUMBER INFORMACI\u00d3N FINANCIERA Valor Otros Pasivos valor_otros_pasivos NUMBER INFORMACI\u00d3N FINANCIERA Total pasivos total_pasivos NUMBER INFORMACI\u00d3N FINANCIERA Patrimonio patrimonio NUMBER INFORMACI\u00d3N FINANCIERA Monto Cr\u00e9dito Solicitado (antes estaba como Cupo Solicitado) monto_solicitado NUMBER INFORMACI\u00d3N FINANCIERA Monto cuenta en moneda extranjera1 monto_cuenta_ext1 NUMBER INFORMACI\u00d3N FINANCIERA Monto cuenta en moneda extranjera2 monto_cuenta_ext2 NUMBER INFORMACI\u00d3N FINANCIERA Puntaje Acierta Deudor puntaje_acierta NUMBER INFORMACI\u00d3N FINANCIERA Barrio Residencia barrio_resi VARCHAR2 DEMOGR\u00c1FICOS Estrato Residencia estrato_resi VARCHAR2 DEMOGR\u00c1FICOS Tipo de vivienda Residencia tipo_vivienda VARCHAR2 DEMOGR\u00c1FICOS Nombre empresa donde labora nombre_empresa VARCHAR2 DEMOGR\u00c1FICOS Punto de Venta donde labora (POR DEFECTIVO VIENE \"PRINCIPAL\") punto_venta VARCHAR2 DEMOGR\u00c1FICOS Tipo de contrato tipo_contrato VARCHAR2 DEMOGR\u00c1FICOS Tipo de empresa (\"P\u00daBLICA\", \"PRIVADA\", \"MIXTA\") tipo_empresa VARCHAR2 DEMOGR\u00c1FICOS Cargo Actual en la empresa cargo_actual VARCHAR2 DEMOGR\u00c1FICOS \u00bfCu\u00e1l Cargo Politico Desempe\u00f1a? cargo_politico VARCHAR2 DEMOGR\u00c1FICOS Nombre Referencia Familiar 1 nombre_ref_fam1 VARCHAR2 DEMOGR\u00c1FICOS Parentesco Referencia Familiar 1 parentesco_ref_fam1 VARCHAR2 DEMOGR\u00c1FICOS Nombre Referencia Personal 1 nombre_ref_per1 VARCHAR2 DEMOGR\u00c1FICOS Nombre Banco Cuenta Bancaria nombre_banco_cuenta VARCHAR2 INFORMACI\u00d3N FINANCIERA Tipo de Cuenta Bancaria tipo_cuenta VARCHAR2 INFORMACI\u00d3N FINANCIERA Descripci\u00f3n Otros Activos desc_otros_activos VARCHAR2 INFORMACI\u00d3N FINANCIERA Descripci\u00f3n Otros Pasivos desc_otros_pasivos VARCHAR2 INFORMACI\u00d3N FINANCIERA Otros otros_activos_pasivos VARCHAR2 INFORMACI\u00d3N FINANCIERA Nombre del banco donde tiene cuenta en moneda extranjera1 nombre_banco_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA Tipo producto en moneda extranjera1 tipo_producto_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA Moneda extranjera1 moneda_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA Ciudad del banco donde tiene cuenta en moneda extranjera1 ciudad_banco_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA Pa\u00eds donde posee cuenta en moneda extranjera1 pais_banco_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA Nombre del banco donde tiene cuenta en moneda extranjera2 nombre_banco_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA Tipo producto en moneda extranjera2 tipo_producto_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA Moneda extranjera2 moneda_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA Ciudad del banco donde tiene cuenta en moneda extranjera2 ciudad_banco_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA Pa\u00eds donde posee cuenta en moneda extranjera2 pais_banco_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA Calificaci\u00f3n del Cliente (MEJOR CALIFICACI\u00d3N EN DATACR\u00c9DITO) calificacion_cliente VARCHAR2 INFORMACI\u00d3N CENTRALES Tipo Cliente Datacredito tipo_cliente_datacredito VARCHAR2 INFORMACI\u00d3N CENTRALES Tipo de libranza (LINEA DE LIBRANZA : \"COMPRA DE CARTERA\", \"LIBRE INVERSI\u00d3N\", ETC) tipo_libranza VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Raz\u00f3n Social Originador (EN PRINCIPIO \"VANTAGE\") razon_social_originador VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Raz\u00f3n Social Pagaduria razon_social_pagaduria VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Segmento Libranza (\"PENSIONADO\", \"DOCENTE\", ETC) segmento_libranza VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Raz\u00f3n Social Fideicomisos razon_social_fideicomisos VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Fondeador (VIENE VACIO PORQUE AUN NO SE HA VENDIDO) fondeador VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Oficina Asociado (ALUDE A LA OFICINA DONDE SE RADIC\u00d3 CR\u00c9DITO) oficina_asociado VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Tipo de AVAL (EN LIBRANZA PRIVADA DEBE VENIR \"NORMALIZATE\", LIBRANZA P\u00daBLICA \"FIGARANTIAS\") tipo_aval VARCHAR2 SEGURO Beneficiario gratuito 1 benef_grat1 VARCHAR2 SEGURO Beneficiario gratuito 2 benef_grat2 VARCHAR2 SEGURO Protecci\u00f3n Patrimial o Seguro Cr\u00e9dito p_patrimonial NUMBER SEGURO No. de cuentas embargadas nro_cuentas_embargadas NUMBER INFORMACI\u00d3N CENTRALES No. de cuentas canceladas por mal manejo nro_cuentas_canceladas NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones en mora nro_obligaciones_mora NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones en mora (Sector cooperativo) nro_obligaciones_mora_coop NUMBER INFORMACI\u00d3N CENTRALES No. de carteras castigadas (Sector financiero o cooperativo) nro_carteras_castigadas NUMBER INFORMACI\u00d3N CENTRALES No. de carteras en dudoso recaudo nro_carteras_dudoso NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones reestructuradas nro_obligaciones_reestructuradas NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones calificadas en \"C\" (Sector financiero) nro_obligaciones_calificadas_C NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones calificadas en \"D\" (Sector financiero) nro_obligaciones_calificadas_D NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones calificadas en \"E\" (Sector financiero) nro_obligaciones_calificadas_E NUMBER INFORMACI\u00d3N CENTRALES N\u00famero moras de 30 d\u00edas en los \u00faltimos 12 meses nro_moras_30_dias NUMBER INFORMACI\u00d3N CENTRALES N\u00famero moras de 60 d\u00edas en los \u00faltimos 12 meses nro_moras_60_dias NUMBER INFORMACI\u00d3N CENTRALES N\u00famero moras superiores a 60 d\u00edas en los \u00faltimos 12 meses nro_moras_sup_60_dias NUMBER INFORMACI\u00d3N CENTRALES No. entidades (financieras y cooperativas) que consultan \u00faltimos 6 meses nro_entidades_consulta NUMBER INFORMACI\u00d3N CENTRALES Quanto m\u00ednimo ($) quanto_minimo NUMBER INFORMACI\u00d3N CENTRALES Quanto m\u00e1ximo ($) quanto_maximo NUMBER INFORMACI\u00d3N CENTRALES Quanto medio ($) quanto_medio NUMBER INFORMACI\u00d3N CENTRALES \u2211 Cuotas cr\u00e9ditos de consumo (sin incluir TDC, CBR ni CAV) Centrales de Riesgo sum_cuotas_creditos NUMBER INFORMACI\u00d3N CENTRALES \u2211 Saldos TDC y CBR Centrales de Riesgo sum_saldos_tdc NUMBER INFORMACI\u00d3N CENTRALES \u2211 Cupos TDC y CBR Centrales de Riesgo sum_cupos_tdc NUMBER INFORMACI\u00d3N CENTRALES No. de embargos en desprendible de pago nro_embargos_pago NUMBER INFORMACI\u00d3N CENTRALES N\u00b0 de procesos civiles en contra en curso nro_procesos_civiles NUMBER INFORMACI\u00d3N CENTRALES NIT Custodia Pagar\u00e9 (normalmente vac\u00edo por el momento) nit_custodia NUMBER INFORMACI\u00d3N CR\u00c9DITO NIT Originador (NIT VANTAGE 900690783) nit_originador NUMBER INFORMACI\u00d3N CR\u00c9DITO NIT Pagadur\u00eda (NIT DE LA PAGADURIA ASOCIADA AL DEUDOR) nit_pagaduria NUMBER INFORMACI\u00d3N CR\u00c9DITO NIT Fideicomisos (NIT MASTER TRUST - NIT PA VANTAGE) nit_fideicomisos NUMBER INFORMACI\u00d3N CR\u00c9DITO C\u00f3digo Fideicomiso codigo_fideicomiso NUMBER INFORMACI\u00d3N CR\u00c9DITO Valor Desembolsado valor_desembolso NUMBER INFORMACI\u00d3N CR\u00c9DITO Plazo inicial cr\u00e9dito (meses) plazo_inicial_credito NUMBER INFORMACI\u00d3N CR\u00c9DITO Tasa Inter\u00e9s Colocaci\u00f3n nominal mes vencido tasa_interes NUMBER INFORMACI\u00d3N CR\u00c9DITO Valor AVAL - FIANZA valor_aval NUMBER SEGURO Per\u00edodicidad (VENDR\u00c1 C\u00d3DIGO \"2\" QUE ALUDE A PAGO MENSUAL) periodicidad NUMBER SEGURO Porcentaje de reserva (ANTERIORMENTE ERA 9% \u2026 NUEVA POL\u00cdTICA) porcentaje_reserva NUMBER SEGURO Prima Mensual Seguro Vida prima_segvida NUMBER SEGURO No de documento beneficiario gratuito 1 no_doc_benef_grat1 NUMBER SEGURO % Beneficiario gratuito 1 porc_benef_grat1 NUMBER SEGURO No de documento beneficiario gratuito 2 no_doc_benef_grat2 NUMBER SEGURO % Beneficiario gratuito 2 porc_benef_grat2 NUMBER SEGURO Tipo Entidad Pagadur\u00eda (DETALLAR SI ES \"P\u00daBLICA\" o \"PRIVADA\") tipo_entidad VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Cliente Declara Renta cliente_declara VARCHAR2 DEMOGR\u00c1FICOS \u00bfActualmente Desempe\u00f1a un cargo pol\u00edtico? desempena_cargo VARCHAR2 DEMOGR\u00c1FICOS Manejo de recursos p\u00fablicos manejo_recursos VARCHAR2 DEMOGR\u00c1FICOS \u00bfRepresenta legalmente alguna organizaci\u00f3n internacional (ONG/OIG)? representa_organizacion VARCHAR2 DEMOGR\u00c1FICOS Cliente es PEP cliente_es_pep VARCHAR2 DEMOGR\u00c1FICOS \u00bfTiene alg\u00fan vinculo con un PEP? vinculo_con_pep VARCHAR2 DEMOGR\u00c1FICOS Reconocimiento p\u00fablico reconocimiento_publico VARCHAR2 DEMOGR\u00c1FICOS Posee Cuenta Bancaria posee_cuenta VARCHAR2 INFORMACI\u00d3N FINANCIERA Realiza operaciones en moneda extranjera realiza_operaciones VARCHAR2 INFORMACI\u00d3N FINANCIERA Importaciones** importaciones VARCHAR2 INFORMACI\u00d3N FINANCIERA Cr\u00e9dito documentario** credito_documentario VARCHAR2 INFORMACI\u00d3N FINANCIERA Giros directos** giros_directos VARCHAR2 INFORMACI\u00d3N FINANCIERA Negociaci\u00f3n de divisas** negociacion_divisas VARCHAR2 INFORMACI\u00d3N FINANCIERA Leasing de importaci\u00f3n** leasing_importacion VARCHAR2 INFORMACI\u00d3N FINANCIERA Giros financiados** giros_financiados VARCHAR2 INFORMACI\u00d3N FINANCIERA Exportaciones** exportaciones VARCHAR2 INFORMACI\u00d3N FINANCIERA Inversiones** inversiones VARCHAR2 INFORMACI\u00d3N FINANCIERA Venta de bienes* venta_bienes VARCHAR2 INFORMACI\u00d3N FINANCIERA Honorarios y comisiones* honorarios_comisiones VARCHAR2 INFORMACI\u00d3N FINANCIERA Ingresos por actividad* ingresos_actividad VARCHAR2 INFORMACI\u00d3N FINANCIERA Pr\u00e9stamo bancario* prestamo_bancario VARCHAR2 INFORMACI\u00d3N FINANCIERA Rifas* rifas VARCHAR2 INFORMACI\u00d3N FINANCIERA Pensi\u00f3n* pension VARCHAR2 INFORMACI\u00d3N FINANCIERA Herencia* herencia VARCHAR2 INFORMACI\u00d3N FINANCIERA Liquidaci\u00f3n de prestaciones* liq_prestaciones VARCHAR2 INFORMACI\u00d3N FINANCIERA Liquidaci\u00f3n de sucesiones* liq_sucesiones VARCHAR2 INFORMACI\u00d3N FINANCIERA Otros* otros VARCHAR2 INFORMACI\u00d3N FINANCIERA Tiene cuentas en moneda extranjera cuentas_moneda_ext VARCHAR2 INFORMACI\u00d3N FINANCIERA He permanecido 31 d\u00edas o m\u00e1s durante el a\u00f1o en curso o 183 d\u00edas durante un periodo de 3 a\u00f1os, que incluye el a\u00f1o en curso y los dos a\u00f1os inmediatamente anteriores dentro del territorio de los Estados Unidos permanencia_eeuu VARCHAR2 INFORMACI\u00d3N FINANCIERA Soy poseedor de la tarjeta verde(Green Card) de los Estados Unidos de Norteam\u00e9rica (Tarjeta de residencia) tarjeta_verde VARCHAR2 INFORMACI\u00d3N FINANCIERA Recibo sumas de dinero fijas u ocasionales(FDAP) que provienen de fuentes dentro de los Estados Unidos de Norteam\u00e9rica ingresos_fdap VARCHAR2 INFORMACI\u00d3N FINANCIERA Recibo ingreso bruto procedente de la venta u otra disposici\u00f3n de cualquier propiedad que pueda producir rentas intereses o dividendos cuya fuente se encuentre dentro de los estados unidos de Norteam\u00e9rica ingreso_bruto_venta VARCHAR2 INFORMACI\u00d3N FINANCIERA Soy ciudadano de los Estados Unidos residente en Colombia ciudadano_eeuu VARCHAR2 INFORMACI\u00d3N FINANCIERA Estoy obligado a tributar en Estados Unidos obligado_tributar VARCHAR2 INFORMACI\u00d3N FINANCIERA \u00bfCoincidencia en listas de control? (No, Listas) coincidencia_listas VARCHAR2 INFORMACI\u00d3N CENTRALES Procesos en contra en curso con Cooperativa o Demanda por Alimentos (S\u00ed/No) procesos_cooperativa VARCHAR2 INFORMACI\u00d3N CENTRALES Extraprima extraprima VARCHAR2 SEGURO Primer apellido primer_apellido VARCHAR2 DEMOGR\u00c1FICOS Segundo apellido segundo_apellido VARCHAR2 DEMOGR\u00c1FICOS Primer nombre primer_nombre VARCHAR2 DEMOGR\u00c1FICOS Segundo nombre segundo_nombre VARCHAR2 DEMOGR\u00c1FICOS Tipo de documento tipo_doc VARCHAR2 DEMOGR\u00c1FICOS Pa\u00eds Nacimiento pais_nacimiento VARCHAR2 DEMOGR\u00c1FICOS Nacionalidad nacionalidad VARCHAR2 DEMOGR\u00c1FICOS G\u00e9nero genero VARCHAR2 DEMOGR\u00c1FICOS Estado Civil estado_civil VARCHAR2 DEMOGR\u00c1FICOS Nivel de Estudios nivel_estudios VARCHAR2 DEMOGR\u00c1FICOS Grupo \u00e9tnico grupo_etnico VARCHAR2 DEMOGR\u00c1FICOS Profesi\u00f3n profesion VARCHAR2 DEMOGR\u00c1FICOS Ocupaci\u00f3n ocupacion VARCHAR2 DEMOGR\u00c1FICOS Clase de Cliente (1.) clase_cliente VARCHAR2 DEMOGR\u00c1FICOS Cuotas Cr\u00e9dito (ALUDE SUMATORIO TODAS CUOTAS CONSUMO DIFERENTES A TDC Y CR Y SECTOR DELCOS) cuotas_credito NUMBER INFORMACI\u00d3N CENTRALES Cuota Cupo TDC UTILIZADO (ALUDE A SUMATORIA CUPOS UTILIZADOS DE TODAS TARJETAS CR\u00c9DITO * TASA PONDERADA * PLAZO) cuota_cupo_tdcusado NUMBER INFORMACI\u00d3N CENTRALES Cuota Cupo TDC CONTINGENTE (ALUDE A SUMATORIA CUPOS UTILIZADOS DE TODAS TARJETAS CR\u00c9DITO * 33% * TASA PONDERADA 3 MESES * PLAZO) cuota_cupo_tdcconting NUMBER INFORMACI\u00d3N CENTRALES Cuota Cupo ROTA USADO (SUMATORIA LOS CUPOS UTILIZADOS ROTATIVO * TASA PONDERADA 3 MESES * PLAZO 48 MESES) cuota_cupo_rotausado NUMBER INFORMACI\u00d3N CENTRALES Cuota Cupo ROTA CONTINGENTE (SUMATORIA TODAS CUPOS ROTATIVO * 33% * TASA PONDERADA 3 MESES * PLAZO 48 MESES) cuota_cupo_rotaconting NUMBER INFORMACI\u00d3N CENTRALES Gastos Familiares Pensionados (ESTIMADO 10% DEL INGRESO) gastos_familiares_pensionado NUMBER INFORMACI\u00d3N FINANCIERA Gastos Familiares Activos (C\u00c1LCULO INGRESO SOBRE TABLA ENTREGADA POR VANTAGE) gastos_familiares_activo NUMBER INFORMACI\u00d3N FINANCIERA Tasa Usura Promedio \u00daltimos 3 meses tasa_usura_ultimos_meses NUMBER INFORMACI\u00d3N FINANCIERA Gastos Financieros (CORRESPONDEN A SUMATORIA CUOTAS CREDITOS + CUOTAS TDC + CUOTAS ROTATIVOS) gastos_financieros NUMBER INFORMACI\u00d3N FINANCIERA % Endeudamiento (C\u00c1LCULO GASTOS FINANCIEROS + GASTOS FAMILIARES + CUOTA NUEVO CREDITO) / INGRESOS CAPACIDAD CREDITO porcent_endeudamiento NUMBER INFORMACI\u00d3N FINANCIERA D\u00edas Intereses Anticipados dias_int_ant NUMBER INFORMACI\u00d3N CR\u00c9DITO Intereses Anticipados Cobrados int_anticipado NUMBER INFORMACI\u00d3N CR\u00c9DITO Gasto por Plataforma gto_plataforma NUMBER INFORMACI\u00d3N CR\u00c9DITO Valor pr\u00e9stamos diferentes a Coomeva (Financiero) valor_prestamo_sin_c NUMBER INFORMACI\u00d3N CENTRALES Valor pr\u00e9stamos diferentes a Coomeva (Real) valor_prestamo_sin_r NUMBER INFORMACI\u00d3N CENTRALES Valor pr\u00e9stamos diferentes a Coomeva (Cooperativa) valor_prestamo_sin_cc NUMBER INFORMACI\u00d3N CENTRALES No obligaciones en mora Sector Financiero total_oblm_sf NUMBER INFORMACI\u00d3N CENTRALES No obligaciones en mora &gt; saldo cartera a 7 millones Sector Financiero total_oblm_mayor_7 NUMBER INFORMACI\u00d3N CENTRALES No obligaciones castigadas &gt; saldo cartera a 15 millones Sector Financiero total_obl_castigadas_mayor_15 NUMBER INFORMACI\u00d3N CENTRALES No Moras =&gt;90 d\u00edas Todos los sectores total_oblm_mayor_90 NUMBER INFORMACI\u00d3N CENTRALES Total Endeudamiento Sector Financiero Sumatoria de los saldos total_deuda_sf NUMBER INFORMACI\u00d3N CENTRALES Total Endeudamiento Sector Cooperativo Sumatoria de los saldos total_deuda_sc NUMBER INFORMACI\u00d3N CENTRALES Total Endeudamiento Sector Real Sumatoria de los saldos total_deuda_sr NUMBER INFORMACI\u00d3N CENTRALES Valor de la cuota total que debe pagar deudor (incluye seguros y avales) valor_cuota_total NUMBER INFORMACI\u00d3N CR\u00c9DITO Correo electr\u00f3nico referencia familiar 1 email_ref_fam1 NUMBER DEMOGR\u00c1FICOS Correo electr\u00f3nico referencia personal 1 email_ref_pers1 NUMBER DEMOGR\u00c1FICOS Fecha de la solicitud del cr\u00e9dito de libranza fecha_solicitud DATE INFORMACI\u00d3N CR\u00c9DITO Es el barrio donde est\u00e1 ubicada la empresa barrio_empresa VARCHAR2 DEMOGR\u00c1FICOS Detalle, otros ingresos det_otros_ingr VARCHAR2 INFORMACI\u00d3N FINANCIERA Origen de Fondos origen_fondos VARCHAR2 INFORMACI\u00d3N FINANCIERA Ingresos Brutos ingresos_brutos NUMBER INFORMACI\u00d3N FINANCIERA Estado Actual del Cr\u00e9dito: NECESITAMOS EL DETALLE DE LOS ESTADOS estado_credito VARCHAR2 INFORMACI\u00d3N FINANCIERA Departamento donde est\u00e1 ubicada la residencia del deudor departamento_residencia VARCHAR2 DEMOGR\u00c1FICOS Departamento donde est\u00e1 ubicada la empresa del deudor departamento_empresa VARCHAR2 DEMOGR\u00c1FICOS Valor Cuota Corrientes: la cuota financiera del cr\u00e9dito (intereses corrientes + amortizaci\u00f3n) cuota_corriente NUMBER INFORMACI\u00d3N FINANCIERA"},{"location":"grupoctl_importar/#diccionario-de-datos","title":"Diccionario de Datos","text":"<p>Este diccionario proporciona los valores posibles para varios campos en la solicitud. Los IDs se utilizan en los campos correspondientes, y las descripciones ayudan a entender qu\u00e9 representa cada ID.</p>"},{"location":"grupoctl_importar/#tipo-de-documento","title":"Tipo de Documento","text":"ID Descripci\u00f3n 1 C\u00c9DULA DE CIUDADAN\u00cdA 2 C\u00c9DULA DE EXTRANJER\u00cdA 5 TARJETA DE IDENTIDAD 161 PERMISO POR PROTECCI\u00d3N TEMPORAL 162 PERSONAS EXPUESTAS POL\u00cdTICAMENTE"},{"location":"grupoctl_importar/#estado-civil","title":"Estado Civil","text":"ID Descripci\u00f3n 1 SOLTERO(A) 2 CASADO(A) 3 DIVORCIADO(A) 4 VIUDO(A) 5 UNI\u00d3N LIBRE"},{"location":"grupoctl_importar/#genero","title":"G\u00e9nero","text":"ID Descripci\u00f3n 1 MASCULINO 2 FEMENINO"},{"location":"grupoctl_importar/#nivel-de-estudios","title":"Nivel de Estudios","text":"ID Descripci\u00f3n 1 PRIMARIA 2 BACHILLERATO 3 UNIVERSITARIA 4 OTROS 5 TECN\u00d3LOGO 6 POSTGRADO 7 NINGUNO"},{"location":"grupoctl_importar/#ocupacion","title":"Ocupaci\u00f3n","text":"ID Descripci\u00f3n 1 Empleado 2 PENSIONADO 3 Rentista de capital 4 Estudiante 5 Ama de casa 6 Desempleado 7 Independiente"},{"location":"grupoctl_importar/#tipo-de-vivienda","title":"Tipo de Vivienda","text":"ID Descripci\u00f3n 1 Arrendada 2 Familiar 4 Propia"},{"location":"grupoctl_importar/#tipo-de-cuenta-bancaria","title":"Tipo de Cuenta Bancaria","text":"ID Descripci\u00f3n 1 CORRIENTE 2 AHORROS"},{"location":"grupoctl_importar/#clase-de-poliza","title":"Clase de P\u00f3liza","text":"ID Descripci\u00f3n 1 INDIVIDUAL"},{"location":"grupoctl_importar/#reconocimiento-publico","title":"Reconocimiento P\u00fablico","text":"ID Descripci\u00f3n 1 SI 2 NO"},{"location":"grupoctl_importar/#cliente-pep","title":"Cliente PEP","text":"ID Descripci\u00f3n 1 SI 2 NO"},{"location":"grupoctl_importar/#tipo-de-empresa","title":"Tipo de Empresa","text":"ID Descripci\u00f3n 1 P\u00daBLICA 2 PRIVADA 3 MIXTA"},{"location":"grupoctl_importar/#tipo-de-libranza","title":"Tipo de Libranza","text":"ID Descripci\u00f3n 1 LIBRE INVERSI\u00d3N 2 COMPRA DE CARTERA 3 EDUCACI\u00d3N 4 DESEMBOLSOS PARCIALES 5 REFINANCIACI\u00d3N 6 REESTRUCTURACI\u00d3N"},{"location":"grupoctl_importar/#segmento-libranza","title":"Segmento Libranza","text":"ID Descripci\u00f3n 1 DOCENTES 2 ENTES DE CONTROL 3 FUERZAS MILITARES 4 PENSIONADOS 5 PRIVADO"},{"location":"grupoctl_importar/#tipo-de-contrato","title":"Tipo de Contrato","text":"ID Descripci\u00f3n 1 T\u00c9RMINO FIJO 2 INDEFINIDO 3 CARRERA ADMINISTRATIVA 4 PROVISIONAL 5 CONTRATISTA 6 TEMPORAL 9 ACTIVO 10 PENSIONADOS 11 OBRA LABOR 12 PLANTA 13 EN PROPIEDAD"},{"location":"grupoctl_importar/#grupo-etnico","title":"Grupo \u00c9tnico","text":"ID Descripci\u00f3n 1 IND\u00cdGENA 2 GITANO (A) O RROM 3 RAIZAL DEL ARCHIPI\u00c9LAGO DE SAN ANDR\u00c9S, PROVIDENCIA Y SANTA CATALINA 4 PALENQUERO (A) DE SAN BASILIO 5 NEGRO (A), MULATO (A), AFRODESCENDIENTE, AFROCOLOMBIANO 6 NING\u00daN GRUPO \u00c9TNICO 7 SIN INFORMACI\u00d3N"},{"location":"grupoctl_importar/#parentesco-familiar","title":"Parentesco Familiar","text":"ID Descripci\u00f3n 2 PADRE 3 MADRE 4 HIJO 5 C\u00d3NYUGE 6 SOBRINO(A) 7 HERMANO(A) 8 NIETO(A) 9 PRIMO(A) 10 ABUELO(A) 11 COMPA\u00d1ERO(A) 12 C\u00d3NYUGE SOLIDARIO(A) 13 CU\u00d1ADO(A) 14 ENTIDAD JUR\u00cdDICA 15 HIJA 16 HERMANASTRO(A) 17 HIJASTRO(A) 18 MADRASTRA 19 NUERA 20 OTRO 21 PADRASTRO 22 PRIMO(A) 23 SUEGRO(A) 24 T\u00cdO(A) 25 YERNO"},{"location":"grupoctl_importar/#bancos-nombre_banco_cuenta","title":"Bancos (nombre_banco_cuenta)","text":"ID Descripci\u00f3n 1 BANCO AV VILLAS 2 BANCO BBVA 3 BANCO CAJA SOCIAL 4 BANCO DE BOGOT\u00c1 5 BANCO DE CR\u00c9DITO 6 BANCO DE OCCIDENTE 7 BANCO GNB SUDAMERIS 8 BANCO POPULAR 9 BANCO ITAU CORPBANCA 10 BANCOLOMBIA 11 SCOTIABANK COLPATRIA 12 BANCO DAVIVIENDA 13 BANCOOMEVA 14 FINANCIERA JURISCOOP 15 BANCO AGRARIO 16 BANCO PICHINCHA 17 BANCO FALABELLA 18 BANCAMIA 19 BANCO MUNDO MUJER 20 BANCO CREDIFINANCIERA 21 BANCO SANTANDER DE NEGOCIOS COLOMBIA S.A. 22 BANCO SERFINANZA 23 CITIBANK-COLOMBIA 24 BANCO 25 BANCO COOPERATIVO COOPCENTRAL 26 BANCO DE LA MICROEMPRESA DE COLOMBIA MIBANCO 27 BANCO J.P. MORGAN COLOMBIA 28 LULO BANK 29 BANCO BTG PACTUAL COLOMBIA 30 BANCO UNION 31 CORPORACI\u00d3N FINANCIERA COLOMBIANA CORFICOLOMBIANA 32 BNP PARIBAS COLOMBIA CORPORACI\u00d3N FINANCIERA 33 IRIS CF - COMPA\u00d1\u00cdA DE FINANCIAMIENTO 34 CREDIFAMILIA COMPA\u00d1\u00cdA DE FINANCIAMIENTO 35 RAPPIPAY COMPA\u00d1\u00cdA DE FINANCIAMIENTO 36 NEQUI 37 NU"},{"location":"grupoctl_importar/#nit-originador-fideicomiso-sucursal","title":"NIT Originador / Fideicomiso / Sucursal","text":"NIT Descripci\u00f3n 1212 CTL"},{"location":"grupoctl_importar/#municipios-codigos-dane","title":"Municipios (C\u00f3digos DANE)","text":"<p>Los c\u00f3digos DANE corresponden al est\u00e1ndar DIVIPOLA del DANE. Se utilizan en campos como: <code>codigo_dane_nacim</code>, <code>codigo_dane_resid</code>, <code>codigo_dane_exp_doc</code>, etc.</p> <p>Nota: La lista completa contiene m\u00e1s de 1100 municipios. Puedes consultar la fuente oficial en: https://www.datos.gov.co/widgets/gdxc-w37w</p> <p>Ejemplos:</p> ID Municipio / Departamento C\u00f3digo DANE 05001 ANTIOQUIA - MEDELL\u00cdN 05001 11001 AMAZONAS - LETICIA 91001 76001 VALLE DEL CAUCA - CALI 76001 11000 VICHADA - PUERTO CARRE\u00d1O 99001"},{"location":"identificacion_consulta/","title":"Servicio para consultar por identificaci\u00f3n + Obligaciones","text":"<p>Descripci\u00f3n: Este servicio recibe dos par\u00e1metros para consultar a un deudor por su identificaci\u00f3n y devuelve la informaci\u00f3n b\u00e1sica del deudor y del cr\u00e9dito.</p> <p>Tipo de Servicio: POST</p>"},{"location":"identificacion_consulta/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/consultar</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/consultar</code></li> </ul>"},{"location":"identificacion_consulta/#headers","title":"Headers","text":"<p>El proceso requiere los siguientes encabezados en la solicitud:</p> <ul> <li>Accept: <code>application/json</code> (Obligatorio)</li> <li>Content-Type: <code>application/json</code> (Obligatorio)</li> <li>Authorization: <code>Bearer ${token}</code> (Obligatorio)</li> </ul>"},{"location":"identificacion_consulta/#consideraciones","title":"Consideraciones","text":"<ul> <li>El par\u00e1metro servicio debe establecerse por defecto en CONSULTA_BASICO, ya que este valor permite al sistema identificar que se trata de una consulta por identificaci\u00f3n.</li> <li>El parametro dato corresponde al <code>N\u00famero de Identificaci\u00f3n</code> del deudor que se desea consultar.</li> <li>Si este par\u00e1metro no es proporcionado, el sistema responder\u00e1 con el siguiente error:</li> </ul> <pre><code>{\n  \"status\": false,\n  \"message\": \"No cuenta con los permisos para consumir el servicio\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"identificacion_consulta/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>La informaci\u00f3n debe enviarse en formato JSON. Ejemplo:</p>"},{"location":"identificacion_consulta/#campos-obligatorios","title":"Campos Obligatorios","text":"<pre><code>{\n  \"servicio\": \"CONSULTA_BASICO\", \n  \"dato\": \"37195302\" \n}\n\n</code></pre>"},{"location":"identificacion_consulta/#respuesta-identificacion-no-valida","title":"Respuesta Identificaci\u00f3n no valida","text":"<pre><code>{\n  \"status\": true,\n  \"message\": \"No se encontro informacion sobre este registro - 37195302111\",\n  \"code\": 200\n}\n</code></pre>"},{"location":"identificacion_consulta/#ejemplo-respuesta-succes","title":"Ejemplo Respuesta Succes","text":"<pre><code>{\n  \"persona\": {\n    \"persona_id\": \"9755361\",\n    \"identificacion\": \"37195302\",\n    \"nombre\": \"PRUEBA\",\n    \"telefono\": \"\",\n    \"obl_nro_total\": \"1\",\n    \"obl_pago_minimo\": \"210000\",\n    \"obl_pago_total\": \"271045\",\n    \"obligaciones\": [\n      {\n        \"personasobligacion_id\": \"8864800\",\n        \"nro_obligacion\": \"204202004788\",\n        \"idcredito\": \"11632563\",\n        \"pago_minimo\": \"210000\",\n        \"dias_mora\": \"20\",\n        \"pago_total\": \"271045\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"identificacion_consulta/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"identificacion_consulta/#respuesta-campos-requeridos","title":"Respuesta Campos Requeridos","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"El par\u00e1metro :dato es requerido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"identificacion_consulta_completo/","title":"Servicio para consultar por identificaci\u00f3n + Tipo documento","text":"<p>Descripci\u00f3n: Este servicio recibe dos par\u00e1metros para consultar a un deudor por su identificaci\u00f3n y devuelve un JSON con toda su informaci\u00f3n y obligaciones.</p> <p>Tipo de Servicio: POST</p>"},{"location":"identificacion_consulta_completo/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/consultar</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/consultar</code></li> </ul>"},{"location":"identificacion_consulta_completo/#headers","title":"Headers","text":"<p>El proceso requiere los siguientes encabezados en la solicitud:</p> <ul> <li>Accept: <code>application/json</code> (Obligatorio)</li> <li>Content-Type: <code>application/json</code> (Obligatorio)</li> <li>Authorization: <code>Bearer ${token}</code> (Obligatorio)</li> </ul>"},{"location":"identificacion_consulta_completo/#consideraciones","title":"Consideraciones","text":"<ul> <li>El par\u00e1metro servicio debe establecerse por defecto en CONSULTA_COMPLETO, ya que este valor permite al sistema identificar que se trata de una consulta por identificaci\u00f3n.</li> <li>El parametro dato corresponde al <code>N\u00famero de Identificaci\u00f3n</code> del deudor que se desea consultar.</li> <li>Si este par\u00e1metro no es proporcionado, el sistema responder\u00e1 con el siguiente error:</li> </ul> <pre><code>{\n  \"status\": false,\n  \"message\": \"No cuenta con los permisos para consumir el servicio\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"identificacion_consulta_completo/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>La informaci\u00f3n debe enviarse en formato JSON. Ejemplo:</p>"},{"location":"identificacion_consulta_completo/#campos-obligatorios","title":"Campos Obligatorios","text":"<pre><code>{\n  \"servicio\": \"CONSULTA_COMPLETO\", \n  \"dato\": \"37195302\" \n}\n\n</code></pre>"},{"location":"identificacion_consulta_completo/#respuesta-identificacion-no-valida","title":"Respuesta Identificaci\u00f3n no valida","text":"<pre><code>{\n  \"status\": true,\n  \"message\": \"No se encontro informacion sobre este registro - 37195302111\",\n  \"code\": 200\n}\n</code></pre>"},{"location":"identificacion_consulta_completo/#ejemplo-respuesta-succes-segun-parametrizacion-del-cliente","title":"Ejemplo Respuesta Succes segun parametrizaci\u00f3n del cliente","text":"<pre><code>{\n  \"persona\": {\n    \"persona_id\": \"9755361\",\n    \"identificacion\": \"37195302\",\n    \"nombre\": \"PRUEBA\",\n    \"telefono\": \"\",\n    \"obligaciones\": [\n      {\n        \"personasobligacion_id\": \"8864800\",\n        \"nro_obligacion\": \"204202004788\",\n        \"idcredito\": \"11632563\",\n        \"fecha_matricula\": \"27-11-2020\",\n        \"portafoliossucursal_id\": \"17146\",\n        \"sucursal\": \"CUCUTA AGENCIA ATALAYA\",\n        \"portafoliosvehiculo_id\": \"627\",\n        \"vehiculo\": \"API\",\n        \"cliente\": \"12940\",\n        \"originador\": \"PRUEBA ORIGINADOR\",\n        \"saldo_capital\": \"264863\",\n        \"pago_minimo\": \"28283\",\n        \"dias_mora\": \"20\",\n        \"saldo_total\": \"271044\",\n        \"plan_pagos\": [\n          {\n            \"personasobligacion_id\": \"8864800\",\n            \"nro_cuota\": \"1\",\n            \"fecha_vence\": \"14-07-2021\",\n            \"capital\": \"264863.21\",\n            \"corriente\": \"0\",\n            \"comisiones\": \"0\",\n            \"ivacomisiones\": \"0\",\n            \"seguro\": \"0\",\n            \"mora\": \"6181.48\",\n            \"valor_pagar\": \"264863.21\"\n          }\n        ],\n        \"recaudos\": [\n          {\n            \"planesrecaudo_id\": \"76428062\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"20-01-2025\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2025-01-20 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76299147\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"16-12-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-12-16 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76136590\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-11-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-11-15 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76005785\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-10-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR LA PLATAFORMA TESEO DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-10-15 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272730\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"29-06-2023\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"276000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272729\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"01-03-2021\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"60064\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272728\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-01-2021\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"60064\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"identificacion_consulta_completo/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"identificacion_consulta_completo/#respuesta-campos-requeridos","title":"Respuesta Campos Requeridos","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"El par\u00e1metro :dato es requerido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"identificacion_descripcion/","title":"Descripci\u00f3n del Servicio","text":""},{"location":"identificacion_descripcion/#introduccion","title":"Introducci\u00f3n","text":"<p>Este servicio genera un archivo JSON con la informaci\u00f3n b\u00e1sica de un deudor registrado en la plataforma TESEO. La consulta se puede realizar utilizando diversos par\u00e1metros, como el n\u00famero de obligaci\u00f3n y la identificaci\u00f3n.</p>"},{"location":"identificacion_descripcion/#funcionamiento","title":"Funcionamiento","text":"<ul> <li>Recibe una solicitud con datos en formato JSON.</li> <li>Valida que todos los campos obligatorios est\u00e9n presentes.</li> <li>Valida que tenga permisos al consumo del servicio.</li> <li>Procesa la informaci\u00f3n seg\u00fan la configuraci\u00f3n establecida.</li> <li>Devuelve el plan de pagos generado en respuesta.</li> </ul>"},{"location":"identificacion_descripcion/#validaciones","title":"Validaciones","text":"<p>Para garantizar la integridad y coherencia de los datos, el servicio realiza diversas validaciones antes de procesar la solicitud. Si alg\u00fan dato es inv\u00e1lido o falta informaci\u00f3n requerida, se generar\u00e1 un mensaje de error con la descripci\u00f3n del problema.</p>"},{"location":"identificacion_descripcion/#formato-de-entrada","title":"Formato de Entrada","text":"<p>Los datos deben enviarse en formato JSON, siguiendo la estructura establecida.</p> <ul> <li>Ejemplo de solicitud Consulta Persona (API_BASICO): </li> </ul> <pre><code>{\n  \"persona\": {\n    \"persona_id\": \"97553680\",\n    \"identificacion\": \"37195302\",\n    \"nombre\": \"PRUEBA\",\n    \"telefono\": \"\",\n    \"obl_nro_total\": \"1\",\n    \"obl_pago_minimo\": \"210000\",\n    \"obl_pago_total\": \"271045\",\n    \"obligaciones\": [\n      {\n        \"personasobligacion_id\": \"8864800\",\n        \"nro_obligacion\": \"204202004788\",\n        \"idcredito\": \"11632563\",\n        \"pago_minimo\": \"210000\",\n        \"pago_total\": \"271045\"\n      }\n    ]\n  }\n}\n</code></pre> <ul> <li>Ejemplo de solicitud Consulta Persona (API_COMPLETO):</li> </ul> <pre><code>{\n  \"persona\": {\n    \"persona_id\": \"9755361\",\n    \"identificacion\": \"37195302\",\n    \"nombre\": \"PRUEBA\",\n    \"telefono\": \"\",\n    \"obligaciones\": [\n      {\n        \"personasobligacion_id\": \"8864800\",\n        \"nro_obligacion\": \"204202004788\",\n        \"idcredito\": \"11632563\",\n        \"fecha_matricula\": \"27-11-2020\",\n        \"portafoliossucursal_id\": \"17146\",\n        \"sucursal\": \"CUCUTA AGENCIA ATALAYA\",\n        \"portafoliosvehiculo_id\": \"627\",\n        \"vehiculo\": \"API\",\n        \"cliente\": \"12940\",\n        \"originador\": \"PRUEBA ORIGINADOR\",\n        \"saldo_capital\": \"264863\",\n        \"pago_minimo\": \"28283\",\n        \"dias_mora\": \"20\",\n        \"saldo_total\": \"271044\",\n        \"plan_pagos\": [\n          {\n            \"personasobligacion_id\": \"8864800\",\n            \"nro_cuota\": \"1\",\n            \"fecha_vence\": \"14-07-2021\",\n            \"capital\": \"264863.21\",\n            \"corriente\": \"0\",\n            \"comisiones\": \"0\",\n            \"ivacomisiones\": \"0\",\n            \"seguro\": \"0\",\n            \"mora\": \"6181.48\",\n            \"valor_pagar\": \"264863.21\"\n          }\n        ],\n        \"recaudos\": [\n          {\n            \"planesrecaudo_id\": \"76428062\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"20-01-2025\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2025-01-20 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76299147\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"16-12-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-12-16 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76136590\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-11-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-11-15 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76005785\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-10-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR LA PLATAFORMA TESEO DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-10-15 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272730\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"29-06-2023\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"276000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272729\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"01-03-2021\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"60064\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272728\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-01-2021\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"60064\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre> <ul> <li>Ejemplo de solicitud Consulta por ID Obligaci\u00f3n (API_OBLIGACION):</li> </ul> <pre><code>{\n  \"persona\": {\n    \"persona_id\": \"9755361\",\n    \"identificacion\": \"37195302\",\n    \"nombre\": \"PRUEBA\",\n    \"telefono\": \"\",\n    \"obligaciones\": [\n      {\n        \"personasobligacion_id\": \"8864800\",\n        \"nro_obligacion\": \"204202004788\",\n        \"idcredito\": \"11632563\",\n        \"fecha_matricula\": \"27-11-2020\",\n        \"portafoliossucursal_id\": \"17146\",\n        \"sucursal\": \"CUCUTA AGENCIA ATALAYA\",\n        \"portafoliosvehiculo_id\": \"627\",\n        \"vehiculo\": \"API\",\n        \"cliente\": \"12940\",\n        \"originador\": \"PRUEBA ORIGINADOR\",\n        \"saldo_capital\": \"264863\",\n        \"pago_minimo\": \"28283\",\n        \"dias_mora\": \"20\",\n        \"saldo_total\": \"271044\",\n        \"plan_pagos\": [\n          {\n            \"personasobligacion_id\": \"8864800\",\n            \"nro_cuota\": \"1\",\n            \"fecha_vence\": \"14-07-2021\",\n            \"capital\": \"264863.21\",\n            \"corriente\": \"0\",\n            \"comisiones\": \"0\",\n            \"ivacomisiones\": \"0\",\n            \"seguro\": \"0\",\n            \"mora\": \"6181.48\",\n            \"valor_pagar\": \"264863.21\"\n          }\n        ],\n        \"recaudos\": [\n          {\n            \"planesrecaudo_id\": \"76428062\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"20-01-2025\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2025-01-20 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76299147\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"16-12-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-12-16 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76136590\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-11-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR CAJATRANSTERCEROS DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-11-15 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"76005785\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-10-2024\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"WS_USUARIO_CONSULTA\",\n            \"valor\": \"210000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"PAGO REALIZADO POR LA PLATAFORMA TESEO DESDE FUNDACION DELAMUJER - APLICACION TANQUE - FECHA MOVIMIENTO: 2024-10-15 - OBS-OPCIONAL1: CONSIGNACION *\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272730\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"29-06-2023\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"276000\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272729\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"01-03-2021\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"60064\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          },\n          {\n            \"planesrecaudo_id\": \"73272728\",\n            \"personasobligacion_id\": \"8864800\",\n            \"fecha_recaudo\": \"15-01-2021\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"usuario\": \"ADMINISTRADOR SISTEMA\",\n            \"valor\": \"60064\",\n            \"sucursal\": \"\",\n            \"codigo_transaccion\": \"\",\n            \"observaciones\": \"MIGRACION DE INFORMACION - API\",\n            \"anulado_por\": \"\",\n            \"obs_anulacion\": \"\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"invictus_aprobacion_linea/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Aprobaci\u00f3n de linea de credito y monto","text":""},{"location":"invictus_aprobacion_linea/#descripcion-del-servicio","title":"\ud83d\udcc4 Descripci\u00f3n del Servicio","text":"<p>Este servicio permite la aprobaci\u00f3n de la linea de credito por parte del usuario , donde solose maneja por medio de dos estados aprobado o desiste</p>"},{"location":"invictus_aprobacion_linea/#tipo-de-servicio","title":"\ud83d\ude80 Tipo de Servicio","text":"<p><code>POST</code></p>"},{"location":"invictus_aprobacion_linea/#url-de-integracion","title":"\ud83d\udd17 URL de Integraci\u00f3n","text":"<ul> <li>Ambiente de Pruebas: <code>https://testing-sygma.com/api/validar_linea_credito</code> </li> <li>Producci\u00f3n: <code>POR DEFINIR</code></li> </ul>"},{"location":"invictus_aprobacion_linea/#headers-requeridos","title":"\ud83d\udcc9 Headers Requeridos","text":"Nombre Valor Requerido Authorization Bearer <code>{token}</code> \u2705 Accept application/json \u2705 Content-Type application/json \u2705 <p>\ud83d\udd10 Nota: El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n (ver secci\u00f3n Token).</p>"},{"location":"invictus_aprobacion_linea/#cuerpo-de-la-solicitud-json","title":"\ud83d\udd22 Cuerpo de la Solicitud (JSON)","text":""},{"location":"invictus_aprobacion_linea/#campos-obligatorios","title":"\ud83d\udd38 Campos Obligatorios","text":"<ul> <li><code>linea_credito_id</code>: El id de la linea de credito define que linea fue seleccionada.</li> <li><code>estado</code>: El estado define cual fue la decision que tomo el usuario , solo permite dos opciones APROBADO o DESISTE.</li> <li><code>guid</code>: ID \u00fanico de la transacci\u00f3n (internamente vinculado al cliente).</li> </ul> <p>\u26a0\ufe0f Nota: No es necesario enviar el n\u00famero de documento, ya que el sistema lo obtiene autom\u00e1ticamente con el <code>guid</code>.</p>"},{"location":"invictus_aprobacion_linea/#ejemplo-de-body","title":"\ud83d\udce6 Ejemplo de Body","text":"<pre><code>{\n  \"linea_credito_id\": 100,\n  \"estado\": \"APROBADO\",\n  \"guid\": \"68406a6a2d9aa64766060ee2\"\n}\n</code></pre>"},{"location":"invictus_aprobacion_linea/#respuesta-exitosa","title":"\u2757 Respuesta Exitosa","text":"<pre><code>{\n  \"status\": \"success\",\n  \"mensaje\": \"Tu linea de credito ha sido APROBADA con Exito!!\",\n  \"guid\": \"68406a6a2d9aa64766060ee2\"        \n}\n\n</code></pre>"},{"location":"invictus_aprobacion_linea/#tabla-de-estados","title":"\ud83d\udcca Tabla de estados","text":"Estado Significado breve Acci\u00f3n TESEO APROBADO Si es APROBADO, el flujo continua normal, porque el usuario aprobo la linea de credito Retorna estado success DESISTE Si es DESISTE, el usuario no APROBO LA LINEA DE CREDITO Se regitra como DESISTE, pero debe quedar en un contenedor durante 30 d\u00edas, por si el usuario se dirige antes de cumplir los 30 dias, no se debe de consultar ante EXPIRIAM y decirle que tiene un credito pendiente de APROBACION ---"},{"location":"invictus_aprobacion_linea/#respuesta-rechazado","title":"\u2757 Respuesta Rechazado","text":"<pre><code>{\n  \"status\": \"success\",\n  \"mensaje\": \"Tu linea de credito fue DESISTIDA con Exito!!\",\n  \"guid\": \"68406a6a2d9aa64766060ee2\"\n}\n\n</code></pre>"},{"location":"invictus_aprobacion_linea/#respuesta-solicitud-error","title":"\u2757 Respuesta Solicitud Error","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"No fue posible obtener la decisi\u00f3n del proveedor.\"\n}\n</code></pre>"},{"location":"invictus_aprobacion_linea/#ejemplo-de-error-por-token-ausente-o-invalido","title":"\u2757 Ejemplo de Error por Token Ausente o Inv\u00e1lido","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\"\n}\n</code></pre>"},{"location":"invictus_aprobacion_linea/#ejemplo-de-error-estado-o-parametro","title":"\u2757 Ejemplo de Error estado o parametro","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"No enviaste un parametro valido\"\n}\n</code></pre>"},{"location":"invictus_desembolso_linea_credito/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: C\u00e1lculo de Desembolso","text":""},{"location":"invictus_desembolso_linea_credito/#descripcion-del-servicio","title":"Descripci\u00f3n del Servicio","text":"<p>Este servicio permite calcular los descuentos, cobros y el valor final a pagar al cliente para un desembolso de cr\u00e9dito. El servicio recibe la informaci\u00f3n de la l\u00ednea de cr\u00e9dito seleccionada, el plazo y el valor deseado por el cliente, y retorna el desglose completo de los montos aplicables, incluyendo todos los descuentos que TESEO aplicar\u00e1 al desembolso.</p>"},{"location":"invictus_desembolso_linea_credito/#flujo-del-proceso","title":"Flujo del Proceso","text":""},{"location":"invictus_desembolso_linea_credito/#contexto-general","title":"Contexto General","text":"<p>Este servicio es el cuarto paso del flujo de desembolso, ejecut\u00e1ndose despu\u00e9s de que el usuario confirma la selecci\u00f3n de l\u00ednea, plazo y valor en el modal de confirmaci\u00f3n:</p> <pre><code>Servicio 1: Validaci\u00f3n de Cr\u00e9dito Vigente\n     \u2193\nServicio 2: Validaci\u00f3n de OTP\n     \u2193 (retorna success + l\u00edneas de cr\u00e9dito)\nSecci\u00f3n 2: Datos Cr\u00e9dito (Selecci\u00f3n UI)\n     \u2193 (usuario selecciona l\u00ednea, plazo, valor)\n     \u2193 (presiona [Calcular Desembolso])\nModal de Confirmaci\u00f3n\n     \u2193 (usuario selecciona [Aceptar])\nServicio 4: C\u00e1lculo de Desembolso (este documento) \u2190 ESTAMOS AQU\u00cd\n     \u2193 (calcula descuentos y valor final)\nSecci\u00f3n 3: Realizar Desembolso\n</code></pre>"},{"location":"invictus_desembolso_linea_credito/#secuencia-del-flujo","title":"Secuencia del Flujo","text":"<pre><code>1. Usuario completa Secci\u00f3n 2: Datos Cr\u00e9dito\n   - Ha seleccionado una l\u00ednea de cr\u00e9dito\n   - Ha ingresado y confirmado plazo\n   - Ha ingresado y confirmado valor\n   - Todos los campos validados correctamente\n   \u2193\n2. Usuario presiona [Calcular Desembolso]\n   \u2193\n3. Sistema muestra Modal de Confirmaci\u00f3n\n   - Cliente: [Nombre]\n   - L\u00ednea de Cr\u00e9dito: [Nombre l\u00ednea]\n   - Plazo: [X meses]\n   - Valor Total: $[XXX,XXX]\n   \u2193\n4. Usuario selecciona [Aceptar]\n   \u2193\n5. Sistema consume este servicio (TESEO)\n   \u2193\n6. Servicio ejecuta c\u00e1lculo de descuentos\n   \u2193\n7. Respuesta seg\u00fan resultado:\n   - exitosa \u2192 Habilita Secci\u00f3n 3 con valores calculados\n   - error \u2192 Muestra modal de error y regresa a inicio\n</code></pre>"},{"location":"invictus_desembolso_linea_credito/#informacion-tecnica","title":"Informaci\u00f3n T\u00e9cnica","text":""},{"location":"invictus_desembolso_linea_credito/#tipo-de-servicio","title":"Tipo de Servicio","text":"<p>M\u00e9todo HTTP: <code>POST</code></p>"},{"location":"invictus_desembolso_linea_credito/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"Ambiente URL Pruebas (QA) <code>https://testing-sygma.com/api/calculo_desembolso</code> Producci\u00f3n <code>POR DEFINIR</code>"},{"location":"invictus_desembolso_linea_credito/#headers-requeridos","title":"Headers Requeridos","text":"Nombre Valor Requerido Descripci\u00f3n <code>Authorization</code> <code>Bearer {token}</code> \u2705 Token de autenticaci\u00f3n JWT <code>Accept</code> <code>application/json</code> \u2705 Formato de respuesta esperado <code>Content-Type</code> <code>application/json</code> \u2705 Formato del cuerpo de la petici\u00f3n"},{"location":"invictus_desembolso_linea_credito/#obtencion-del-token","title":"\ud83d\udd10 Obtenci\u00f3n del Token","text":"<p>!!! \"Obtenci\u00f3n del Token\" El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n, usando el usuario y contrase\u00f1a asignados por la entidad.</p> <p>Endpoint de autenticaci\u00f3n:</p> <pre><code>POST https://testing-sygma.com/api/login\n</code></pre>"},{"location":"invictus_desembolso_linea_credito/#request","title":"Request","text":""},{"location":"invictus_desembolso_linea_credito/#cuerpo-de-la-solicitud","title":"Cuerpo de la Solicitud","text":"<p>La solicitud debe enviarse en formato raw JSON con los siguientes campos:</p>"},{"location":"invictus_desembolso_linea_credito/#campos-obligatorios","title":"Campos Obligatorios","text":"Campo Tipo Longitud Requerido Descripci\u00f3n <code>tiposdocumento_id</code> string - \u2705 ID del tipo de documento seg\u00fan cat\u00e1logo <code>identificacion</code> string variable \u2705 N\u00famero de identificaci\u00f3n del usuario <code>guid</code> string UUID \u2705 UUID de la transacci\u00f3n del proceso actual <code>linea_credito</code> string - \u2705 Identificador de la l\u00ednea de cr\u00e9dito seleccionada <code>plazo_meses</code> integer - \u2705 Plazo en meses seleccionado por el cliente <code>valor_desembolso</code> number - \u2705 Valor del desembolso solicitado"},{"location":"invictus_desembolso_linea_credito/#catalogo-de-tipos-de-documento","title":"Cat\u00e1logo de Tipos de Documento","text":"<code>tiposdocumento_id</code> Descripci\u00f3n C\u00f3digo <code>1</code> C\u00e9dula de ciudadan\u00eda CC <code>2</code> C\u00e9dula de extranjer\u00eda CE <code>3</code> NIT NIT <code>8</code> Pasaporte PA <code>181</code> Permiso Especial PEP"},{"location":"invictus_desembolso_linea_credito/#origen-de-los-datos-captura-en-invictus","title":"Origen de los Datos (Captura en Invictus)","text":"Campo Origen en Invictus Momento de Captura <code>id_linea_credito</code> Secci\u00f3n 1: Identificador de la linea de credito\" Al inicio del proceso <code>tiposdocumento_id</code> Secci\u00f3n 1: Datos Cliente \u2192 Campo \"Tipo de Identificaci\u00f3n\" Al inicio del proceso <code>identificacion</code> Secci\u00f3n 1: Datos Cliente \u2192 Campo \"N\u00famero de Identificaci\u00f3n\" Al inicio del proceso <code>guid</code> Retornado por Servicio 2 (Validaci\u00f3n OTP) o Servicio 3 (Reenv\u00edo OTP) Durante validaci\u00f3n OTP <code>linea_credito</code> Secci\u00f3n 2: Datos Cr\u00e9dito \u2192 L\u00ednea seleccionada (checkbox) Al seleccionar l\u00ednea <code>plazo_meses</code> Secci\u00f3n 2: Datos Cr\u00e9dito \u2192 Campo [Confirme Plazo] Al confirmar plazo <code>valor_desembolso</code> Secci\u00f3n 2: Datos Cr\u00e9dito \u2192 Campo [Confirme Valor] Al confirmar valor"},{"location":"invictus_desembolso_linea_credito/#ejemplo-de-request","title":"Ejemplo de Request","text":"<pre><code>{\n  \"id_linea_credito\": 27375, \n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n  \"linea_credito\": \"linea_digital_001\",\n  \"plazo_meses\": 4,\n  \"valor_desembolso\": 500000\n}\n</code></pre>"},{"location":"invictus_desembolso_linea_credito/#response","title":"Response","text":""},{"location":"invictus_desembolso_linea_credito/#estructura-de-respuesta-exitosa","title":"Estructura de Respuesta Exitosa","text":"<p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Status: <code>\"exitosa\"</code></p> <pre><code>{\n  \"status\": \"exitosa\",\n  \"datos\": {\n    \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n    \"mensaje\": \"C\u00e1lculo de desembolso realizado exitosamente.\",\n    \"nombre_cliente\": \"Fernando Osorio\",\n    \"id_linea_credito\": 27375,\n    \"linea_credito\": \"L\u00ednea Digital\",\n    \"plazo_meses\": 4,\n    \"valor_total\": 500000,\n    \"valor_cobros\": 12050,\n    \"valor_a_pagar_cliente\": 487950,\n    \"plaza_empresa\": 50,\n    \"detalles_descuentos\": [\n      {\n        \"concepto\": \"IVA\",\n        \"valor\": 8000,\n        \"descripcion\": \"Impuesto al Valor Agregado sobre comisiones\"\n      },\n      {\n        \"concepto\": \"Seguro\",\n        \"valor\": 4000,\n        \"descripcion\": \"Seguro de vida y desempleo\"\n      },\n      {\n        \"concepto\": \"Comisi\u00f3n\",\n        \"valor\": 50,\n        \"descripcion\": \"Comisi\u00f3n administrativa\"\n      }\n    ],\n    \"fecha_calculo\": \"2025-10-10 15:45:30\"\n  }\n}\n</code></pre>"},{"location":"invictus_desembolso_linea_credito/#descripcion-de-campos-de-respuesta","title":"Descripci\u00f3n de Campos de Respuesta","text":"Campo Tipo Descripci\u00f3n <code>status</code> string Indicador del resultado: <code>\"exitosa\"</code> <code>datos</code> object Objeto con toda la informaci\u00f3n calculada <code>datos.guid</code> string Identificador \u00fanico de la transacci\u00f3n (mismo del request) <code>datos.mensaje</code> string Mensaje de confirmaci\u00f3n del c\u00e1lculo <code>datos.nombre_cliente</code> string Nombre completo del cliente (confirmaci\u00f3n) <code>datos.linea_credito</code> string Nombre de la l\u00ednea de cr\u00e9dito seleccionada <code>datos.plazo_meses</code> integer Plazo en meses (confirmaci\u00f3n) <code>datos.valor_total</code> number Valor total solicitado por el cliente <code>datos.valor_cobros</code> number Suma de todos los descuentos/cobros aplicados <code>datos.valor_a_pagar_cliente</code> number Monto final que recibir\u00e1 el cliente f\u00edsicamente <code>datos.plaza_empresa</code> number C\u00f3digo de la plaza/empresa donde se realiza el desembolso <code>datos.detalles_descuentos</code> array Array con el desglose de cada cobro/descuento <code>datos.detalles_descuentos[].concepto</code> string Nombre del cobro (IVA, Seguro, Comisi\u00f3n, etc.) <code>datos.detalles_descuentos[].valor</code> number Monto del cobro individual <code>datos.detalles_descuentos[].descripcion</code> string Descripci\u00f3n detallada del cobro <code>datos.fecha_calculo</code> string Timestamp del c\u00e1lculo (formato: YYYY-MM-DD HH:MM:SS)"},{"location":"invictus_desembolso_linea_credito/#respuestas-de-error","title":"Respuestas de Error","text":""},{"location":"invictus_desembolso_linea_credito/#error-1-token-de-autenticacion-invalido","title":"Error 1: Token de Autenticaci\u00f3n Inv\u00e1lido","text":"<p>C\u00f3digo HTTP: <code>401 Unauthorized</code></p> <p>Response:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre> <p>Comportamiento en Invictus: - Mostrar mensaje modal rojo: \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 REGRESA a la pantalla principal de Invictus - Usuario debe reiniciar la transacci\u00f3n de desembolso - Nota: Este token corresponde a la autenticaci\u00f3n del sistema Invictus con TESEO</p>"},{"location":"invictus_desembolso_linea_credito/#error-2-transaccion-no-encontrada","title":"Error 2: Transacci\u00f3n No Encontrada","text":"<p>C\u00f3digo HTTP: <code>404 Not Found</code></p> <p>Response:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o inv\u00e1lida.\"\n}\n</code></pre> <p>Comportamiento en Invictus: - Mostrar mensaje modal naranja: \"Transacci\u00f3n no encontrada o inv\u00e1lida\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 REGRESA a la pantalla principal de Invictus - Usuario debe reiniciar la transacci\u00f3n de desembolso</p>"},{"location":"invictus_desembolso_linea_credito/#error-3-campos-requeridos-faltantes","title":"Error 3: Campos Requeridos Faltantes","text":"<p>C\u00f3digo HTTP: <code>400 Bad Request</code></p> <p>Response:</p> <pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo id_linea_credito es obligatorio.\",\n    \"El campo plazo_meses es obligatorio.\"\n  ]\n}\n</code></pre>"},{"location":"invictus_desembolso_linea_credito/#tabla-resumen-de-respuestas","title":"Tabla Resumen de Respuestas","text":"# Condici\u00f3n HTTP Code status Mensaje Comportamiento Invictus Reinicia Proceso 1 C\u00e1lculo exitoso 200 <code>exitosa</code> \"C\u00e1lculo de desembolso realizado exitosamente.\" Habilita Secci\u00f3n 3 con valores No 2 Token inv\u00e1lido/ausente 401 <code>error</code> \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\" Modal rojo, regresa a inicio S\u00cd 3 Transacci\u00f3n no encontrada 404 <code>error</code> \"Transacci\u00f3n no encontrada o inv\u00e1lida.\" Modal naranja, regresa a inicio S\u00cd 4 Campos faltantes 400 <code>error</code> Lista de campos obligatorios - -"},{"location":"invictus_desembolso_linea_credito/#ejemplos-completos","title":"Ejemplos Completos","text":""},{"location":"invictus_desembolso_linea_credito/#ejemplo-1-calculo-exitoso","title":"\u2705 Ejemplo 1: C\u00e1lculo Exitoso","text":"<p>Request:</p> <pre><code>POST /api/calculo_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n  \"linea_credito\": \"linea_digital_001\",\n  \"id_linea_credito\": 27375,\n  \"plazo_meses\": 4,\n  \"valor_desembolso\": 500000\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"exitosa\",\n  \"datos\": {\n    \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n    \"mensaje\": \"C\u00e1lculo de desembolso realizado exitosamente.\",\n    \"nombre_cliente\": \"Fernando Osorio\",\n    \"id_linea_credito\": 27375,\n    \"linea_credito\": \"L\u00ednea Digital\",\n    \"plazo_meses\": 4,\n    \"valor_total\": 500000,\n    \"valor_cobros\": 12050,\n    \"valor_a_pagar_cliente\": 487950,\n    \"plaza_empresa\": 50,\n    \"detalles_descuentos\": [\n      {\n        \"concepto\": \"IVA\",\n        \"valor\": 8000,\n        \"descripcion\": \"Impuesto al Valor Agregado sobre comisiones\"\n      },\n      {\n        \"concepto\": \"Seguro\",\n        \"valor\": 4000,\n        \"descripcion\": \"Seguro de vida y desempleo\"\n      },\n      {\n        \"concepto\": \"Comisi\u00f3n\",\n        \"valor\": 50,\n        \"descripcion\": \"Comisi\u00f3n administrativa\"\n      }\n    ],\n    \"fecha_calculo\": \"2025-10-10 15:45:30\"\n  }\n}\n</code></pre> <p>Acci\u00f3n en Invictus: 1. Habilita Secci\u00f3n 3: Realizar Desembolso 2. Muestra valores calculados en los campos:    - Valor Total: $500,000    - Valor Cobros: $12,050    - Plaza Empresa: 50    - Valor a Pagar al Cliente: $487,950 \u2190 DESTACADO (monto a entregar f\u00edsicamente) 3. Muestra tabla de desglose de descuentos:    <code>IVA         $8,000    Impuesto al Valor Agregado    Seguro      $4,000    Seguro de vida y desempleo    Comisi\u00f3n    $50       Comisi\u00f3n administrativa</code> 4. BLOQUEA Secci\u00f3n 1 y Secci\u00f3n 2 (no editables) 5. Usuario NO debe entregar dinero todav\u00eda (espera completar Secci\u00f3n 3)</p>"},{"location":"invictus_desembolso_linea_credito/#ejemplo-2-error-de-autenticacion","title":"\ud83d\udd10 Ejemplo 2: Error de Autenticaci\u00f3n","text":"<p>Request:</p> <pre><code>POST /api/calculo_desembolso\nAuthorization: Bearer token_invalido_expirado\nContent-Type: application/json\n\n{\n  \"id_linea_credito\": 27375,\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n  \"linea_credito\": \"linea_digital_001\",\n  \"plazo_meses\": 4,\n  \"valor_desembolso\": 500000\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 401 Unauthorized\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal ROJO con texto: \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\" - Bot\u00f3n [CERRAR] - Al cerrar \u2192 REGRESA a pantalla principal de Invictus - Proceso de desembolso se REINICIA desde el principio</p>"},{"location":"invictus_desembolso_linea_credito/#ejemplo-3-transaccion-no-encontrada","title":"\u274c Ejemplo 3: Transacci\u00f3n No Encontrada","text":"<p>Request:</p> <pre><code>POST /api/calculo_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"id_linea_credito\": 27375,\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"guid-invalido-12345\",\n  \"linea_credito\": \"linea_digital_001\",\n  \"plazo_meses\": 4,\n  \"valor_desembolso\": 500000\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 404 Not Found\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o inv\u00e1lida.\"\n}\n</code></pre>"},{"location":"invictus_desembolso_otp_valida/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Validaci\u00f3n de C\u00f3digo OTP para Desembolso","text":""},{"location":"invictus_desembolso_otp_valida/#descripcion-del-servicio","title":"Descripci\u00f3n del Servicio","text":"<p>Este servicio permite validar el c\u00f3digo OTP (One Time Password) ingresado por el cliente para confirmar su identidad y autorizar el desembolso del cr\u00e9dito en un punto Gana. El servicio controla el n\u00famero de intentos permitidos, gestiona el tiempo de vigencia del c\u00f3digo y devuelve informaci\u00f3n de las l\u00edneas de cr\u00e9dito del cliente una vez validado exitosamente.</p>"},{"location":"invictus_desembolso_otp_valida/#flujo-del-proceso","title":"Flujo del Proceso","text":""},{"location":"invictus_desembolso_otp_valida/#contexto-general","title":"Contexto General","text":"<p>Este servicio es el segundo paso del flujo de desembolso, ejecut\u00e1ndose despu\u00e9s de la validaci\u00f3n exitosa del cr\u00e9dito vigente:</p> <pre><code>Servicio 1: Validaci\u00f3n de Cr\u00e9dito Vigente\n     \u2193 (retorna success + guid + codigo_otp + canales_envio)\nPantalla de Autenticaci\u00f3n Cliente (Invictus)\n     \u2193 (cliente proporciona c\u00f3digo OTP)\nServicio 2: Validaci\u00f3n de OTP (este documento) \u2190 ESTAMOS AQU\u00cd\n     \u2193 (confirma identidad del cliente + devuelve l\u00edneas de cr\u00e9dito)\nSecci\u00f3n 2: Datos Cr\u00e9dito (se habilita en Invictus)\n     \u2193\nDesembolso Final\n</code></pre>"},{"location":"invictus_desembolso_otp_valida/#secuencia-del-flujo","title":"Secuencia del Flujo","text":"<pre><code>1. Usuario se encuentra en \"Pantalla de Autenticaci\u00f3n Cliente\"\n   (ver HUE 002 - Consulta de cliente para validar Cr\u00e9dito)\n   - T\u00edtulo parametrizable con instrucciones\n   - Medios de env\u00edo del OTP (WhatsApp, SMS, Email) ofuscados\n   - 6 casillas individuales para ingreso de c\u00f3digo OTP\n   - Temporizador de vigencia activo (ej: 3:00 minutos)\n   - Opci\u00f3n \"Reenviar c\u00f3digo OTP\" (inhabilitada por defecto)\n   - Botones: [Limpiar], [Cancelar], [Confirmar (inhabilitado)]\n   \u2193\n2. Cliente proporciona c\u00f3digo OTP de 6 d\u00edgitos\n   \u2193\n3. Validaci\u00f3n Front-end (Invictus)\n   - \u00bfTodas las casillas est\u00e1n completas (6 d\u00edgitos)?\n   - NO \u2192 Resalta casillas vac\u00edas en ROJO\n   - NO \u2192 Bot\u00f3n [Confirmar] permanece INHABILITADO\n   - NO \u2192 NO se consume ning\u00fan servicio de TESEO\n   - S\u00cd \u2192 Habilita bot\u00f3n [Confirmar]\n   \u2193\n4. Usuario presiona [Confirmar]\n   \u2193\n5. Sistema consume Servicio de Validaci\u00f3n OTP (TESEO)\n   \u2193\n6. Servicio ejecuta validaciones en orden secuencial:\n\n   a) Validaci\u00f3n de Autenticaci\u00f3n\n      \u2193 Token inv\u00e1lido/vencido? \u2192 S\u00cd: retorna \"error\" (401)\n\n   b) Validaci\u00f3n de Campos Requeridos\n      \u2193 Campos vac\u00edos/inv\u00e1lidos? \u2192 S\u00cd: retorna \"error\" (400)\n\n   c) Validaci\u00f3n de Transacci\u00f3n Existente\n      \u2193 GUID no existe/no coincide? \u2192 S\u00cd: retorna \"error\" (404)\n\n   d) Validaci\u00f3n de Vigencia del OTP\n      \u2193 OTP expirado (&gt;3 min)? \u2192 S\u00cd: retorna \"expired\"\n\n   e) Validaci\u00f3n de Intentos Fallidos\n      \u2193 Intentos superados (&gt;=3)? \u2192 S\u00cd: retorna \"blocked\"\n\n   f) Validaci\u00f3n del C\u00f3digo OTP\n      \u2193 C\u00f3digo incorrecto? \u2192 S\u00cd: incrementa contador, retorna \"invalid\"\n      \u2193 C\u00f3digo correcto? \u2192 S\u00cd: invalida OTP, retorna \"success\" + l\u00edneas de cr\u00e9dito\n   \u2193\n7. Comportamiento de Invictus seg\u00fan respuesta:\n\n   - success \u2192 Modal verde: \"C\u00f3digo OTP validado correctamente...\"\n               Cierra modal, permanece en pantalla\n               Habilita Secci\u00f3n 2: Datos Cr\u00e9dito con l\u00edneas disponibles\n\n   - invalid \u2192 Modal naranja: \"El c\u00f3digo ingresado es incorrecto...\"\n               Muestra intentos restantes\n               Cierra modal, permanece en pantalla OTP para reintentar\n\n   - blocked \u2192 Modal naranja: \"Ha superado el n\u00famero m\u00e1ximo de intentos...\"\n               Cierra modal, REGRESA a pantalla principal de Invictus\n               Proceso de desembolso se REINICIA desde cero\n\n   - expired \u2192 Modal naranja: \"El c\u00f3digo OTP ha expirado...\"\n               Muestra tiempo transcurrido y vigencia m\u00e1xima\n               Cierra modal, REGRESA a pantalla principal de Invictus\n               Proceso de desembolso se REINICIA desde cero\n\n   - error (transacci\u00f3n) \u2192 Modal naranja: \"Transacci\u00f3n no encontrada o inv\u00e1lida\"\n                           Cierra modal, permanece en pantalla OTP\n\n   - error (autenticaci\u00f3n) \u2192 Modal naranja: \"Token de autorizaci\u00f3n inv\u00e1lido...\"\n                             Cierra modal, permanece en pantalla OTP\n</code></pre>"},{"location":"invictus_desembolso_otp_valida/#informacion-tecnica","title":"Informaci\u00f3n T\u00e9cnica","text":""},{"location":"invictus_desembolso_otp_valida/#tipo-de-servicio","title":"Tipo de Servicio","text":"<p>M\u00e9todo HTTP: <code>POST</code></p>"},{"location":"invictus_desembolso_otp_valida/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"Ambiente URL Pruebas (QA) <code>https://testing-sygma.com/api/validacion_otp_desembolso</code> Producci\u00f3n <code>POR DEFINIR</code>"},{"location":"invictus_desembolso_otp_valida/#headers-requeridos","title":"Headers Requeridos","text":"Nombre Valor Requerido Descripci\u00f3n <code>Authorization</code> <code>Bearer {token}</code> \u2705 Token de autenticaci\u00f3n JWT <code>Accept</code> <code>application/json</code> \u2705 Formato de respuesta esperado <code>Content-Type</code> <code>application/json</code> \u2705 Formato del cuerpo de la petici\u00f3n"},{"location":"invictus_desembolso_otp_valida/#obtencion-del-token","title":"\ud83d\udd10 Obtenci\u00f3n del Token","text":"<p>!!! \"Obtenci\u00f3n del Token\" El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n, usando el usuario y contrase\u00f1a asignados por la entidad.</p> <p>Endpoint de autenticaci\u00f3n:</p> <pre><code>POST https://testing-sygma.com/api/login\n</code></pre>"},{"location":"invictus_desembolso_otp_valida/#request","title":"Request","text":""},{"location":"invictus_desembolso_otp_valida/#cuerpo-de-la-solicitud","title":"Cuerpo de la Solicitud","text":"<p>La solicitud debe enviarse en formato raw JSON con los siguientes campos:</p>"},{"location":"invictus_desembolso_otp_valida/#campos-obligatorios","title":"Campos Obligatorios","text":"Campo Tipo Longitud Requerido Descripci\u00f3n <code>id_linea_credito</code> numerico - \u2705 ID de la linea de credito <code>tiposdocumento_id</code> string - \u2705 ID del tipo de documento seg\u00fan cat\u00e1logo <code>identificacion</code> string variable \u2705 N\u00famero de identificaci\u00f3n del usuario <code>codigo_otp</code> string 6 \u2705 C\u00f3digo OTP ingresado por el cliente (num\u00e9rico o alfanum\u00e9rico) <code>guid</code> string UUID \u2705 UUID de la transacci\u00f3n generado en el servicio anterior"},{"location":"invictus_desembolso_otp_valida/#catalogo-de-tipos-de-documento","title":"Cat\u00e1logo de Tipos de Documento","text":"<code>tiposdocumento_id</code> Descripci\u00f3n C\u00f3digo <code>1</code> C\u00e9dula de ciudadan\u00eda CC <code>2</code> C\u00e9dula de extranjer\u00eda CE <code>3</code> NIT NIT <code>8</code> Pasaporte PA <code>181</code> Permiso Especial PEP"},{"location":"invictus_desembolso_otp_valida/#ejemplo-de-request","title":"Ejemplo de Request","text":"<pre><code>{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"codigo_otp\": \"202023\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre>"},{"location":"invictus_desembolso_otp_valida/#validaciones-del-servicio","title":"Validaciones del Servicio","text":"<p>El servicio ejecuta las siguientes validaciones en orden secuencial:</p>"},{"location":"invictus_desembolso_otp_valida/#nivel-1-validacion-de-front-end-invictus","title":"Nivel 1: Validaci\u00f3n de Front-end (Invictus)","text":"<p>Reglas (antes de consumir el servicio): - Usuario debe completar todas las 6 casillas del c\u00f3digo OTP - Si alguna casilla est\u00e1 vac\u00eda al intentar presionar [Confirmar]:     - Invictus resalta en color ROJO las casillas faltantes     - Bot\u00f3n [Confirmar] permanece INHABILITADO     - NO se consume ning\u00fan servicio de TESEO     - Usuario debe completar todas las casillas antes de continuar</p>"},{"location":"invictus_desembolso_otp_valida/#nivel-2-validacion-de-autenticacion","title":"Nivel 2: Validaci\u00f3n de Autenticaci\u00f3n","text":"<p>Reglas: - Token debe estar presente en el header <code>Authorization</code> - Token debe tener formato v\u00e1lido: <code>Bearer {token}</code> - Token debe estar vigente (no expirado) - Token debe corresponder a un usuario autorizado</p> <p>Resultado: Token Inv\u00e1lido o Vencido</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>401 Unauthorized</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal naranja: \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\" - Bot\u00f3n [CERRAR] para cerrar el modal - Dejar al usuario en la pantalla para ingresar el OTP (no reinicia proceso) - Nota: Este token corresponde a la autenticaci\u00f3n del sistema Invictus con el sistema TESEO</p>"},{"location":"invictus_desembolso_otp_valida/#nivel-3-validacion-de-campos-requeridos","title":"Nivel 3: Validaci\u00f3n de Campos Requeridos","text":"<p>Reglas: - Todos los campos son obligatorios: <code>tiposdocumento_id</code>, <code>identificacion</code>, <code>codigo_otp</code>, <code>guid</code> - Campos deben ser tipo string - No se permiten valores vac\u00edos o nulos - <code>codigo_otp</code> debe tener exactamente 6 caracteres - <code>guid</code> debe ser un UUID v\u00e1lido</p> <p>Respuesta en caso de error:</p> <pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo codigo_otp es obligatorio.\",\n    \"El campo guid es obligatorio.\"\n  ]\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>400 Bad Request</code></p>"},{"location":"invictus_desembolso_otp_valida/#nivel-4-validacion-de-transaccion-existente","title":"Nivel 4: Validaci\u00f3n de Transacci\u00f3n Existente","text":"<p>Proceso: 1. Se verifica que el <code>guid</code> proporcionado exista en el sistema TESEO 2. Se valida que el <code>guid</code> corresponda al <code>tiposdocumento_id</code> e <code>identificacion</code> enviados 3. Se verifica que la transacci\u00f3n est\u00e9 en estado v\u00e1lido para recibir OTP</p> <p>Resultado: Transacci\u00f3n No Encontrada o No Corresponde</p> <p>La transacci\u00f3n con el <code>guid</code> proporcionado no existe o no coincide con la identificaci\u00f3n del cliente.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o no corresponde a esta identificaci\u00f3n.\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>404 Not Found</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal naranja: \"Transacci\u00f3n no encontrada o inv\u00e1lida\" - Bot\u00f3n [CERRAR] para cerrar el modal - Dejar al usuario en la pantalla para ingresar el OTP (no reinicia proceso)</p>"},{"location":"invictus_desembolso_otp_valida/#nivel-5-validacion-de-vigencia-del-otp","title":"Nivel 5: Validaci\u00f3n de Vigencia del OTP","text":"<p>Reglas de negocio: - Vigencia m\u00e1xima: 3 minutos desde la generaci\u00f3n del c\u00f3digo - F\u00f3rmula: <code>tiempo_transcurrido = timestamp_actual - timestamp_generacion</code> - Si <code>tiempo_transcurrido &gt; 3 minutos</code> \u2192 OTP expirado - El tiempo de vigencia es parametrizable en el sistema</p> <p>Resultado: OTP Expirado</p> <p>El c\u00f3digo OTP ha superado el tiempo m\u00e1ximo de vigencia permitido.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"expired\",\n  \"mensaje\": \"El c\u00f3digo OTP ha expirado. Debe solicitar un nuevo c\u00f3digo.\",\n  \"tiempo_transcurrido\": \"6 minutos\",\n  \"vigencia_maxima\": \"3 minutos\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal naranja con texto:   <code>\"El c\u00f3digo OTP ha expirado. Debe solicitar un nuevo c\u00f3digo   tiempo_transcurrido: '6 minutos'   vigencia_maxima: '3 minutos'\"</code> - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 REGRESA a la pantalla principal de Invictus - El proceso de desembolso se debe REINICIAR desde cero - Usuario debe iniciar nuevamente desde Secci\u00f3n 1: Datos Cliente</p> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>expired</code>) - <code>mensaje</code>: Descripci\u00f3n para el usuario final - <code>tiempo_transcurrido</code>: Tiempo desde que se gener\u00f3 el OTP (formato legible) - <code>vigencia_maxima</code>: Tiempo m\u00e1ximo permitido (formato legible)</p>"},{"location":"invictus_desembolso_otp_valida/#nivel-6-validacion-de-intentos-fallidos","title":"Nivel 6: Validaci\u00f3n de Intentos Fallidos","text":"<p>Reglas de negocio: - N\u00famero m\u00e1ximo de intentos: 3 intentos (parametrizable) - Los intentos se cuentan por <code>guid</code> (por transacci\u00f3n) - Cada intento fallido incrementa el contador en 1 - Al alcanzar el m\u00e1ximo de intentos, la transacci\u00f3n se bloquea autom\u00e1ticamente</p> <p>Resultado: Intentos Superados</p> <p>El usuario ha agotado los 3 intentos permitidos para ingresar el c\u00f3digo OTP correcto.</p> <p>Acciones autom\u00e1ticas del sistema: 1. Bloquea la transacci\u00f3n asociada al <code>guid</code> 2. Invalida el c\u00f3digo OTP actual (ya no puede ser utilizado) 3. Registra el bloqueo en el sistema con timestamp 4. El cliente debe solicitar un nuevo c\u00f3digo OTP y reiniciar el proceso</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"blocked\",\n  \"mensaje\": \"Ha superado el n\u00famero m\u00e1ximo de intentos permitidos (3). Debe solicitar un nuevo c\u00f3digo OTP.\",\n  \"intentos_realizados\": 3,\n  \"intentos_permitidos\": 3\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal naranja con texto:   <code>\"Ha superado el n\u00famero m\u00e1ximo de intentos permitidos (3). Debe solicitar un nuevo c\u00f3digo   intentos_realizados: '3'   intentos_permitidos: '3'\"</code> - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 REGRESA a la pantalla principal de Invictus - El proceso de desembolso se debe REINICIAR desde cero - Usuario debe iniciar nuevamente desde Secci\u00f3n 1: Datos Cliente</p> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>blocked</code>) - <code>mensaje</code>: Descripci\u00f3n para el usuario final - <code>intentos_realizados</code>: N\u00famero de intentos que realiz\u00f3 el usuario - <code>intentos_permitidos</code>: N\u00famero m\u00e1ximo de intentos configurado</p>"},{"location":"invictus_desembolso_otp_valida/#nivel-7-validacion-del-codigo-otp","title":"Nivel 7: Validaci\u00f3n del C\u00f3digo OTP","text":"<p>Proceso: 1. Se compara el <code>codigo_otp</code> ingresado con el c\u00f3digo generado y almacenado en el sistema 2. La comparaci\u00f3n es case-sensitive si el c\u00f3digo es alfanum\u00e9rico 3. Se verifica que el c\u00f3digo no haya sido ya utilizado exitosamente</p> <p>Resultado: C\u00f3digo OTP Incorrecto</p> <p>El c\u00f3digo ingresado no coincide con el c\u00f3digo generado para esta transacci\u00f3n.</p> <p>Acciones del sistema: 1. Incrementa el contador de intentos fallidos para este <code>guid</code> 2. Calcula los intentos restantes 3. No invalida el c\u00f3digo (el cliente puede reintentar) 4. Registra el intento fallido con timestamp</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"invalid\",\n  \"mensaje\": \"El c\u00f3digo OTP ingresado es incorrecto.\",\n  \"intentos_realizados\": 1,\n  \"intentos_restantes\": 2\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal naranja con texto:   <code>\"El c\u00f3digo ingresado es incorrecto   intentos_restantes: 2\"</code> - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 Dejar al usuario en la pantalla para ingresar el OTP - Usuario puede volver a intentar ingresando un nuevo c\u00f3digo - Las casillas OTP se limpian autom\u00e1ticamente para un nuevo intento</p> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>invalid</code>) - <code>mensaje</code>: Descripci\u00f3n para el usuario final - <code>intentos_realizados</code>: N\u00famero de intentos que ha realizado hasta el momento - <code>intentos_restantes</code>: Cu\u00e1ntos intentos le quedan antes del bloqueo</p>"},{"location":"invictus_desembolso_otp_valida/#nivel-8-validacion-exitosa","title":"Nivel 8: Validaci\u00f3n Exitosa \u2705","text":"<p>Condiciones cumplidas: - \u2705 Token de autenticaci\u00f3n v\u00e1lido - \u2705 Todos los campos requeridos presentes - \u2705 Transacci\u00f3n (GUID) existe y corresponde a la identificaci\u00f3n - \u2705 C\u00f3digo OTP NO ha expirado (&lt;3 minutos) - \u2705 Intentos NO superados (&lt;3 intentos) - \u2705 C\u00f3digo OTP es CORRECTO</p> <p>Acciones autom\u00e1ticas del sistema: 1. Actualiza el estado del cr\u00e9dito a \"listo para desembolsar\" 2. Registra la validaci\u00f3n exitosa con timestamp completo 3. Invalida el c\u00f3digo OTP (uso \u00fanico, no puede reutilizarse) 4. Marca la transacci\u00f3n como autenticada 5. Habilita el proceso de desembolso 6. Retorna informaci\u00f3n de las l\u00edneas de cr\u00e9dito del cliente</p> <p>Respuesta exitosa:</p> <pre><code>{\n  \"status\": \"success\",\n  \"datos\": {\n    \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n    \"mensaje\": \"C\u00f3digo OTP validado correctamente. Cr\u00e9dito autorizado para desembolso.\",\n    \"nombre_cliente\": \"Juan P\u00e9rez\",\n    \"fecha_validacion\": \"2025-10-10 14:30:45\",\n    \"puede_desembolsar\": true,\n    \"lineas_credito\": [\n      {\n        \"id_linea_credito\": 27373,\n        \"linea_credito\": \"L\u00ednea 1\",\n        \"valor_cupo\": 50000,\n        \"total_entregado\": 50000,\n        \"total_disponible\": 50000,\n        \"plazo_meses\": 12,\n        \"monto_fijo\": 'NO'\n      },\n      {\n        \"id_linea_credito\": 27375, \n        \"linea_credito\": \"L\u00ednea 2\",\n        \"valor_cupo\": 50000,\n        \"total_entregado\": 50000,\n        \"total_disponible\": 50000,\n        \"plazo_meses\": 2, \n        \"monto_fijo\": 'SI'\n      }\n    ]\n  }\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus:</p> <ol> <li> <p>Mostrar mensaje modal verde con texto:    <code>\"C\u00f3digo OTP validado correctamente. Cr\u00e9dito autorizado para desembolso.\"</code></p> <ul> <li>Bot\u00f3n [CERRAR] para cerrar el modal</li> </ul> </li> <li> <p>Cerrar modal \u2192 Permanece en la pantalla para completar el desembolso</p> </li> <li> <p>Habilitar Secci\u00f3n 2: Datos Cr\u00e9dito con la informaci\u00f3n retornada:</p> <ul> <li>Mostrar tabla con las l\u00edneas de cr\u00e9dito del cliente</li> <li>Columnas visibles:<ul> <li>L\u00ednea cr\u00e9dito</li> <li>Valor Cupo</li> <li>Total Entregado</li> <li>Total Disponible</li> <li>Plazo (meses)</li> <li>Ingresos Plazo</li> <li>Confirme Plazo</li> <li>Ingresos Valor</li> <li>Confirme Valor</li> <li>Bot\u00f3n [Selecci\u00f3n] por cada l\u00ednea</li> </ul> </li> </ul> </li> <li> <p>Cliente debe seleccionar una l\u00ednea de cr\u00e9dito para continuar con el desembolso</p> </li> </ol> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>success</code>) - <code>datos.guid</code>: Identificador \u00fanico de la transacci\u00f3n (mismo UUID) - <code>datos.mensaje</code>: Mensaje de confirmaci\u00f3n para el usuario - <code>datos.nombre_cliente</code>: Nombre completo del cliente - <code>datos.fecha_validacion</code>: Timestamp de cuando se valid\u00f3 el OTP (formato: YYYY-MM-DD HH:MM:SS) - <code>datos.puede_desembolsar</code>: Booleano que indica si est\u00e1 autorizado (siempre <code>true</code> en success) - <code>datos.lineas_credito</code>: Array con las l\u00edneas de cr\u00e9dito disponibles del cliente</p> <p>Estructura de cada l\u00ednea de cr\u00e9dito: - <code>linea_credito</code>: Identificador de la l\u00ednea (ej: \"L\u00ednea 1\", \"L\u00ednea 2\") - <code>valor_cupo</code>: Monto total del cupo aprobado - <code>total_entregado</code>: Monto ya entregado al cliente - <code>total_disponible</code>: Monto disponible para desembolsar - <code>plazo_meses</code>: Plazo en meses para el cr\u00e9dito - <code>ingresos_plazo</code>: Informaci\u00f3n de ingresos relacionada al plazo - <code>confirme_plazo</code>: Campo de confirmaci\u00f3n del plazo - <code>ingresos_valor</code>: Valor de ingresos - <code>confirme_valor</code>: Confirmaci\u00f3n del valor</p> <p>Nota importante: La respuesta exitosa en este punto devuelve informaci\u00f3n de las l\u00edneas de cr\u00e9dito del cliente que deben mostrarse en la Secci\u00f3n 2: Datos Cr\u00e9dito de Invictus.</p>"},{"location":"invictus_desembolso_otp_valida/#response-tabla-resumen-de-respuestas","title":"Response - Tabla Resumen de Respuestas","text":"# Condici\u00f3n HTTP Code status Mensaje UI Invictus Color Modal Comportamiento Reinicia Proceso 1 Validaci\u00f3n Front-end fallida - - Resalta casillas en rojo - No consume servicio No 2 Token inv\u00e1lido/ausente 401 <code>error</code> \"Token de autorizaci\u00f3n inv\u00e1lido...\" Naranja Permanece en OTP No 3 Campos requeridos faltantes 400 <code>error</code> - - - No 4 Transacci\u00f3n no encontrada 404 <code>error</code> \"Transacci\u00f3n no encontrada o inv\u00e1lida\" Naranja Permanece en OTP No 5 OTP expirado (&gt;3 min) 200 <code>expired</code> \"El c\u00f3digo OTP ha expirado...\" Naranja Regresa a inicio S\u00cd 6 Intentos superados (&gt;=3) 200 <code>blocked</code> \"Ha superado el n\u00famero m\u00e1ximo...\" Naranja Regresa a inicio S\u00cd 7 C\u00f3digo OTP incorrecto 200 <code>invalid</code> \"El c\u00f3digo ingresado es incorrecto\" Naranja Permanece en OTP No 8 C\u00f3digo OTP correcto 200 <code>success</code> \"C\u00f3digo OTP validado correctamente...\" Verde Habilita Secci\u00f3n 2 No"},{"location":"invictus_desembolso_otp_valida/#ejemplos-de-respuestas-completas","title":"Ejemplos de Respuestas Completas","text":""},{"location":"invictus_desembolso_otp_valida/#caso-1-validacion-exitosa-otp-valido","title":"\u2705 Caso 1: Validaci\u00f3n Exitosa - OTP V\u00e1lido","text":"<p>Request:</p> <pre><code>POST /api/validacion_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"codigo_otp\": \"202023\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"success\",\n  \"datos\": {\n    \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n    \"mensaje\": \"C\u00f3digo OTP validado correctamente. Cr\u00e9dito autorizado para desembolso.\",\n    \"nombre_cliente\": \"Juan P\u00e9rez\",\n    \"fecha_validacion\": \"2025-10-10 14:30:45\",\n    \"puede_desembolsar\": true,\n    \"lineas_credito\": [\n      {\n        \"id_linea_credito\": 27373,      \n        \"linea_credito\": \"L\u00ednea 1\",\n        \"valor_cupo\": 50000,\n        \"total_entregado\": 50000,\n        \"total_disponible\": 50000,\n        \"plazo_meses\": 12,\n        \"monto_fijo\": 'NO'\n      },\n      {\n        \"id_linea_credito\": 27375,\n        \"linea_credito\": \"L\u00ednea 2\",\n        \"valor_cupo\": 50000,\n        \"total_entregado\": 50000,\n        \"total_disponible\": 50000,\n        \"plazo_meses\": 2,\n        \"monto_fijo\": 'SI'\n      }\n    ]\n  }\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal verde: \"C\u00f3digo OTP validado correctamente. Cr\u00e9dito autorizado para desembolso.\" - Cerrar modal - Habilitar Secci\u00f3n 2: Datos Cr\u00e9dito - Mostrar tabla con las 2 l\u00edneas de cr\u00e9dito disponibles - Cliente puede seleccionar una l\u00ednea para continuar</p>"},{"location":"invictus_desembolso_otp_valida/#caso-2-codigo-otp-incorrecto-primer-intento","title":"\u274c Caso 2: C\u00f3digo OTP Incorrecto (Primer Intento)","text":"<p>Request:</p> <pre><code>POST /api/validacion_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"codigo_otp\": \"123456\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"invalid\",\n  \"mensaje\": \"El c\u00f3digo OTP ingresado es incorrecto.\",\n  \"intentos_realizados\": 1,\n  \"intentos_restantes\": 2\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal naranja con texto:   <code>\"El c\u00f3digo ingresado es incorrecto   intentos_restantes: 2\"</code> - Bot\u00f3n [CERRAR] - Cerrar modal \u2192 Permanece en pantalla de ingreso OTP - Limpia las 6 casillas OTP para nuevo intento - Cliente puede volver a intentar</p>"},{"location":"invictus_desembolso_otp_valida/#caso-3-intentos-superados-tercer-intento-fallido","title":"\ud83d\udeab Caso 3: Intentos Superados (Tercer Intento Fallido)","text":"<p>Request:</p> <pre><code>POST /api/validacion_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"codigo_otp\": \"999999\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"blocked\",\n  \"mensaje\": \"Ha superado el n\u00famero m\u00e1ximo de intentos permitidos (3). Debe solicitar un nuevo c\u00f3digo OTP.\",\n  \"intentos_realizados\": 3,\n  \"intentos_permitidos\": 3\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal naranja con texto:   <code>\"Ha superado el n\u00famero m\u00e1ximo de intentos permitidos (3). Debe solicitar un nuevo c\u00f3digo   intentos_realizados: '3'   intentos_permitidos: '3'\"</code> - Bot\u00f3n [CERRAR] - Cerrar modal \u2192 REGRESA a pantalla principal de Invictus - Proceso de desembolso se REINICIA completamente - Cliente debe iniciar desde Secci\u00f3n 1: Datos Cliente</p>"},{"location":"invictus_desembolso_otp_valida/#caso-4-otp-expirado","title":"\u23f0 Caso 4: OTP Expirado","text":"<p>Request:</p> <pre><code>POST /api/validacion_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"codigo_otp\": \"202023\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"expired\",\n  \"mensaje\": \"El c\u00f3digo OTP ha expirado. Debe solicitar un nuevo c\u00f3digo.\",\n  \"tiempo_transcurrido\": \"6 minutos\",\n  \"vigencia_maxima\": \"3 minutos\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal naranja con texto:   <code>\"El c\u00f3digo OTP ha expirado. Debe solicitar un nuevo c\u00f3digo   tiempo_transcurrido: '6 minutos'   vigencia_maxima: '3 minutos'\"</code> - Bot\u00f3n [CERRAR] - Cerrar modal \u2192 REGRESA a pantalla principal de Invictus - Proceso de desembolso se REINICIA completamente - Cliente debe iniciar desde Secci\u00f3n 1: Datos Cliente</p>"},{"location":"invictus_desembolso_otp_valida/#caso-5-transaccion-no-encontrada","title":"\u26a0\ufe0f Caso 5: Transacci\u00f3n No Encontrada","text":"<p>Request:</p> <pre><code>POST /api/validacion_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"codigo_otp\": \"202023\",\n  \"guid\": \"guid-invalido-12345\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 404 Not Found\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o no corresponde a esta identificaci\u00f3n.\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal naranja: \"Transacci\u00f3n no encontrada o inv\u00e1lida\" - Bot\u00f3n [CERRAR] - Cerrar modal \u2192 Permanece en pantalla de ingreso OTP - No reinicia proceso (puede ser error temporal)</p>"},{"location":"invictus_desembolso_otp_valida/#caso-6-error-de-autenticacion-token-invalido","title":"\ud83d\udd10 Caso 6: Error de Autenticaci\u00f3n (Token Inv\u00e1lido)","text":"<p>Request:</p> <pre><code>POST /api/validacion_otp_desembolso\nAuthorization: Bearer token_invalido_o_expirado\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"codigo_otp\": \"202023\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 401 Unauthorized\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal naranja: \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\" - Bot\u00f3n [CERRAR] - Cerrar modal \u2192 Permanece en pantalla de ingreso OTP - Nota: Este token corresponde a la autenticaci\u00f3n del sistema Invictus con TESEO</p>"},{"location":"invictus_desembolso_otp_valida/#caso-7-error-de-validacion-campos-faltantes","title":"\ud83d\udeab Caso 7: Error de Validaci\u00f3n - Campos Faltantes","text":"<p>Request:</p> <pre><code>POST /api/validacion_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 400 Bad Request\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo codigo_otp es obligatorio.\",\n    \"El campo guid es obligatorio.\"\n  ]\n}\n</code></pre>"},{"location":"invictus_desembolso_otp_valida/#integracion-en-invictus","title":"Integraci\u00f3n en Invictus","text":""},{"location":"invictus_desembolso_otp_valida/#pantalla-autenticacion-cliente-continuacion-de-hue-002","title":"Pantalla: Autenticaci\u00f3n Cliente (Continuaci\u00f3n de HUE 002)","text":"<p>Estado inicial de la pantalla: - T\u00edtulo parametrizable con instrucciones para el cliente - Medios de env\u00edo mostrados (WhatsApp, SMS, Email) con informaci\u00f3n ofuscada - 6 casillas individuales para c\u00f3digo OTP - Temporizador de vigencia (ej: \"3:00 minutos\") - Opci\u00f3n \"Reenviar c\u00f3digo OTP\" (inhabilitada) - Botones: [Limpiar], [Cancelar], [Confirmar (inhabilitado)]</p> <p>Flujo de interacci\u00f3n:</p> <ol> <li> <p>Cliente ingresa c\u00f3digo OTP:</p> <ul> <li>Puede escribir en las 6 casillas</li> <li>Puede editar en cualquier momento</li> <li>Temporizador cuenta regresiva activa</li> </ul> </li> <li> <p>Validaci\u00f3n Front-end:</p> <ul> <li>Si alguna casilla est\u00e1 vac\u00eda:<ul> <li>Resalta casillas vac\u00edas en ROJO</li> <li>Bot\u00f3n [Confirmar] permanece INHABILITADO</li> <li>NO consume servicio</li> </ul> </li> <li>Si todas las casillas est\u00e1n completas:<ul> <li>Habilita bot\u00f3n [Confirmar]</li> </ul> </li> </ul> </li> <li> <p>Usuario presiona [Confirmar]:</p> <ul> <li>Consume servicio de Validaci\u00f3n OTP</li> <li>Espera respuesta</li> </ul> </li> <li> <p>Comportamiento seg\u00fan respuesta:</p> </li> </ol> <p>a) Response: <code>success</code>     - Modal verde: \"C\u00f3digo OTP validado correctamente. Cr\u00e9dito autorizado para desembolso.\"     - [CERRAR]     - Cierra pantalla de autenticaci\u00f3n     - Habilita Secci\u00f3n 2: Datos Cr\u00e9dito     - Muestra tabla con l\u00edneas de cr\u00e9dito del cliente     - Cliente puede seleccionar l\u00ednea y continuar</p> <p>b) Response: <code>invalid</code>     - Modal naranja: \"El c\u00f3digo ingresado es incorrecto\\nintentos_restantes: X\"     - [CERRAR]     - Permanece en pantalla OTP     - Limpia las 6 casillas     - Cliente puede reintentar</p> <p>c) Response: <code>blocked</code>     - Modal naranja: \"Ha superado el n\u00famero m\u00e1ximo de intentos permitidos (3)...\"     - [CERRAR]     - Cierra pantalla de autenticaci\u00f3n     - Regresa a pantalla principal de Invictus     - Proceso completo se REINICIA</p> <p>d) Response: <code>expired</code>     - Modal naranja: \"El c\u00f3digo OTP ha expirado. Debe solicitar un nuevo c\u00f3digo...\"     - Muestra tiempo transcurrido y vigencia m\u00e1xima     - [CERRAR]     - Cierra pantalla de autenticaci\u00f3n     - Regresa a pantalla principal de Invictus     - Proceso completo se REINICIA</p> <p>e) Response: <code>error</code> (transacci\u00f3n)     - Modal naranja: \"Transacci\u00f3n no encontrada o inv\u00e1lida\"     - [CERRAR]     - Permanece en pantalla OTP     - No limpia casillas</p> <p>f) Response: <code>error</code> (autenticaci\u00f3n)     - Modal naranja: \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\"     - [CERRAR]     - Permanece en pantalla OTP     - No limpia casillas</p>"},{"location":"invictus_desembolso_otp_valida/#seccion-2-datos-credito-se-habilita-tras-validacion-exitosa","title":"Secci\u00f3n 2: Datos Cr\u00e9dito (Se habilita tras validaci\u00f3n exitosa)","text":"<p>Tabla de L\u00edneas de Cr\u00e9dito:</p> L\u00ednea cr\u00e9dito Valor Cupo Total Entregado Total Disponible Plazo Ingresos Plazo Confirme Plazo Ingresos Valor Confirme Valor Selecci\u00f3n L\u00ednea 1 $50,000 $50,000 $50,000 12 \u2610 \u2610 \u2610 \u2610 \u2610 L\u00ednea 2 $50,000 $50,000 $50,000 4 \u2610 \u2610 \u2610 \u2610 \u2610 <p>Comportamiento: - Cliente debe seleccionar una l\u00ednea de cr\u00e9dito usando el checkbox [Selecci\u00f3n] - Solo puede seleccionar una l\u00ednea a la vez - Al seleccionar, se habilita continuar al siguiente paso del desembolso</p>"},{"location":"invictus_desembolso_otp_valida/#consideraciones-de-seguridad","title":"Consideraciones de Seguridad","text":""},{"location":"invictus_desembolso_otp_valida/#codigo-otp","title":"C\u00f3digo OTP","text":"<ul> <li>Vigencia: 3 minutos desde su generaci\u00f3n (parametrizable)</li> <li>Longitud: 6 d\u00edgitos (num\u00e9rico o alfanum\u00e9rico seg\u00fan configuraci\u00f3n)</li> <li>Intentos permitidos: 3 intentos m\u00e1ximo (parametrizable)</li> <li>Uso \u00fanico: Una vez validado correctamente, el OTP se invalida autom\u00e1ticamente</li> <li>Bloqueo: Despu\u00e9s de 3 intentos fallidos, se bloquea la transacci\u00f3n y se invalida el OTP</li> </ul>"},{"location":"invictus_desembolso_otp_valida/#control-de-intentos","title":"Control de Intentos","text":"<ul> <li>Se registra cada intento de validaci\u00f3n con timestamp completo</li> <li>Los intentos se cuentan por <code>guid</code> (por transacci\u00f3n \u00fanica)</li> <li>Al superar los intentos m\u00e1ximos, el cliente debe:<ol> <li>Solicitar un nuevo c\u00f3digo OTP (reiniciando el proceso)</li> <li>El contador de intentos se reinicia al generar un nuevo OTP</li> </ol> </li> <li>El GUID anterior queda invalidado y no puede reutilizarse</li> </ul>"},{"location":"invictus_desembolso_otp_valida/#control-de-vigencia","title":"Control de Vigencia","text":"<ul> <li>El temporizador en Invictus debe sincronizarse con el backend</li> <li>Cuando el temporizador llega a 0:00:<ul> <li>Se habilita la opci\u00f3n \"Reenviar c\u00f3digo OTP\"</li> <li>Si el usuario intenta confirmar, recibir\u00e1 error de expiraci\u00f3n</li> </ul> </li> <li>Es responsabilidad del backend validar la vigencia real del c\u00f3digo</li> </ul>"},{"location":"invictus_desembolso_otp_valida/#registro-de-auditoria","title":"Registro de Auditor\u00eda","text":"<p>Cada validaci\u00f3n (exitosa o fallida) debe registrar: - Timestamp: Fecha y hora exacta del intento - IP de origen: Direcci\u00f3n IP desde donde se realiz\u00f3 la petici\u00f3n - Resultado: success, invalid, blocked, expired, error - Intentos realizados: Contador actualizado - Identificaci\u00f3n del cliente: Para trazabilidad - GUID de transacci\u00f3n: Para asociar todos los eventos</p>"},{"location":"invictus_desembolso_otp_valida/#parametros-configurables","title":"Par\u00e1metros Configurables","text":"<p>Los siguientes valores pueden configurarse en el sistema TESEO:</p> Par\u00e1metro Valor por Defecto Descripci\u00f3n N\u00famero m\u00e1ximo de intentos 3 Intentos permitidos antes del bloqueo Vigencia del OTP 3 minutos Tiempo de validez del c\u00f3digo Longitud del c\u00f3digo 6 d\u00edgitos Cantidad de caracteres del OTP Tipo de c\u00f3digo Num\u00e9rico Num\u00e9rico o Alfanum\u00e9rico"},{"location":"invictus_desembolso_otp_valida/#notas-importantes","title":"Notas Importantes","text":""},{"location":"invictus_desembolso_otp_valida/#reglas-de-negocio","title":"\ud83d\udccb Reglas de Negocio","text":"<ul> <li>\u2705 El cliente recibe el OTP a trav\u00e9s de los canales configurados (SMS, Email, WhatsApp) cuando se genera el c\u00f3digo</li> <li>\u2705 Este servicio NO env\u00eda el OTP, solo valida el c\u00f3digo que el cliente ingresa</li> <li>\u2705 Si el c\u00f3digo expira o se agotan los intentos, el proceso completo se reinicia</li> <li>\u2705 El <code>guid</code> es fundamental para vincular la validaci\u00f3n con el OTP correcto generado</li> <li>\u2705 Despu\u00e9s de 3 intentos fallidos, es obligatorio generar un nuevo c\u00f3digo reiniciando desde el inicio</li> <li>\u2705 La validaci\u00f3n exitosa autoriza el desembolso pero NO lo ejecuta autom\u00e1ticamente</li> <li>\u2705 La respuesta exitosa devuelve las l\u00edneas de cr\u00e9dito del cliente para mostrar en Invictus</li> <li>\u2705 El punto Gana debe permitir al cliente seleccionar una l\u00ednea de cr\u00e9dito antes de proceder</li> </ul>"},{"location":"invictus_desembolso_otp_valida/#flujo-completo-de-desembolso","title":"\ud83d\udd04 Flujo Completo de Desembolso","text":"<pre><code>Servicio 1: Validaci\u00f3n de Cr\u00e9dito Vigente\n     \u2193 (retorna guid + codigo_otp si success)\n\nPantalla de Autenticaci\u00f3n Cliente (en Invictus)\n     \u2193 (usuario ingresa c\u00f3digo OTP)\n\nServicio 2: Validaci\u00f3n de OTP (este documento)\n     \u2193 (retorna success + l\u00edneas de cr\u00e9dito)\n\nSecci\u00f3n 2: Datos Cr\u00e9dito (habilita en Invictus)\n     \u2193 (cliente selecciona l\u00ednea de cr\u00e9dito)\n\n[Opcional] Servicio 3: Reenv\u00edo de OTP\n     \u2193 (si el temporizador expira antes de confirmar)\n\nSecci\u00f3n 3: Realizar Desembolso\n     \u2193 (confirma montos y ejecuta desembolso)\n\nDesembolso Final\n</code></pre>"},{"location":"invictus_desembolso_otp_valida/#configuracion-del-ambiente","title":"\u2699\ufe0f Configuraci\u00f3n del Ambiente","text":"<p>Ambiente de Pruebas (QA): - Base URL: <code>https://testing-sygma.com/api</code> - Endpoint Login: <code>/login</code> - Endpoint Validaci\u00f3n OTP: <code>/validacion_otp_desembolso</code> - Usuario: <code>ws_invictus</code> - Password: <code>g3z0OmJP7?@(*</code></p>"},{"location":"invictus_desembolso_otp_valida/#especificaciones-de-ui-para-mensajes-modales","title":"\ud83c\udfa8 Especificaciones de UI para Mensajes Modales","text":"Status Response Color Modal T\u00edtulo/Mensaje Icono Bot\u00f3n Acci\u00f3n al Cerrar <code>success</code> Verde \"C\u00f3digo OTP validado correctamente...\" \u2713 [CERRAR] Habilita Secci\u00f3n 2 <code>invalid</code> Naranja \"El c\u00f3digo ingresado es incorrecto...\" \u26a0\ufe0f [CERRAR] Permanece en OTP <code>blocked</code> Naranja \"Ha superado el n\u00famero m\u00e1ximo...\" \ud83d\udd12 [CERRAR] Regresa a inicio <code>expired</code> Naranja \"El c\u00f3digo OTP ha expirado...\" \u23f0 [CERRAR] Regresa a inicio <code>error</code> (transacci\u00f3n) Naranja \"Transacci\u00f3n no encontrada...\" \u274c [CERRAR] Permanece en OTP <code>error</code> (autenticaci\u00f3n) Naranja \"Token de autorizaci\u00f3n inv\u00e1lido...\" \ud83d\udd10 [CERRAR] Permanece en OTP"},{"location":"invictus_desembolso_otp_valida/#seguridad-adicional","title":"\ud83d\udd12 Seguridad Adicional","text":"<ul> <li>Todos los endpoints requieren autenticaci\u00f3n via Bearer Token</li> <li>Los tokens tienen tiempo de expiraci\u00f3n</li> <li>Se recomienda implementar retry logic para renovaci\u00f3n de token</li> <li>Los datos sensibles no deben ser almacenados en logs</li> <li>El c\u00f3digo OTP nunca debe ser almacenado en texto plano</li> <li>Todos los intentos de validaci\u00f3n deben quedar registrados para auditor\u00eda</li> <li>Implementar rate limiting para prevenir ataques de fuerza bruta</li> </ul>"},{"location":"invictus_desembolso_otp_valida/#monitoreo-y-logs","title":"\ud83d\udcca Monitoreo y Logs","text":"<p>Se recomienda registrar: - Timestamp de cada petici\u00f3n - Identificaci\u00f3n del usuario consultado (encriptada) - GUID de la transacci\u00f3n - Status de respuesta - N\u00famero de intento (para c\u00f3digos incorrectos) - Tiempo de respuesta del servicio - Errores y excepciones - Intentos fallidos consecutivos (alerta de seguridad)</p>"},{"location":"invictus_desembolso_otp_valida/#glosario","title":"Glosario","text":"T\u00e9rmino Definici\u00f3n TESEO Sistema backend que gestiona los cr\u00e9ditos de Credintegral Invictus Sistema frontend utilizado por vendedores (Sellers) en puntos Gana OTP One-Time Password - C\u00f3digo de un solo uso para validaci\u00f3n GUID Globally Unique Identifier - Identificador \u00fanico de transacci\u00f3n (UUID) Seller Vendedor autorizado en punto Gana para realizar desembolsos Desembolso Entrega f\u00edsica del dinero del cr\u00e9dito al cliente L\u00ednea de Cr\u00e9dito Producto crediticio espec\u00edfico con condiciones y montos definidos Parametrizable Valor configurable en el sistema sin necesidad de cambiar c\u00f3digo Intento Cada vez que el cliente ingresa un c\u00f3digo OTP (correcto o incorrecto) Vigencia Tiempo durante el cual el c\u00f3digo OTP es v\u00e1lido Bloqueo Estado en que la transacci\u00f3n ya no permite m\u00e1s intentos"},{"location":"invictus_desembolso_reenvio_otp/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Reenv\u00edo de C\u00f3digo OTP para Desembolso","text":""},{"location":"invictus_desembolso_reenvio_otp/#descripcion-del-servicio","title":"Descripci\u00f3n del Servicio","text":"<p>Este servicio permite reenviar un nuevo c\u00f3digo OTP al cliente cuando el c\u00f3digo anterior ha expirado, se han agotado los intentos de validaci\u00f3n, o el cliente no ha recibido el c\u00f3digo inicial. El servicio controla el l\u00edmite de reenv\u00edos permitidos, valida el tiempo entre solicitudes y gestiona la invalidaci\u00f3n de c\u00f3digos anteriores, generando un nuevo c\u00f3digo completamente independiente.</p>"},{"location":"invictus_desembolso_reenvio_otp/#flujo-del-proceso","title":"Flujo del Proceso","text":""},{"location":"invictus_desembolso_reenvio_otp/#contexto-general","title":"Contexto General","text":"<p>Este servicio es opcional en el flujo de desembolso y se activa solo cuando es necesario reenviar el c\u00f3digo OTP:</p> <pre><code>Servicio 1: Validaci\u00f3n de Cr\u00e9dito Vigente\n     \u2193 (retorna success + guid + codigo_otp)\nPantalla de Autenticaci\u00f3n Cliente (Invictus)\n     \u2193 \nTemporizador llega a 0:00 o Cliente no recibe c\u00f3digo\n     \u2193\nSe habilita opci\u00f3n \"Reenviar c\u00f3digo OTP\"\n     \u2193\nServicio 3: Reenv\u00edo de OTP (este documento) \u2190 ESTAMOS AQU\u00cd\n     \u2193 (retorna success + nuevo guid + nuevo codigo_otp)\nPantalla de Autenticaci\u00f3n Cliente (actualizada)\n     \u2193 (cliente ingresa nuevo c\u00f3digo OTP)\nServicio 2: Validaci\u00f3n de OTP\n     \u2193\nContin\u00faa flujo normal\n</code></pre>"},{"location":"invictus_desembolso_reenvio_otp/#secuencia-del-flujo","title":"Secuencia del Flujo","text":"<pre><code>1. Usuario se encuentra en \"Pantalla de Autenticaci\u00f3n Cliente\"\n   - Temporizador llega a 0:00 (c\u00f3digo expirado)\n   - O cliente indica que no recibi\u00f3 el c\u00f3digo\n   \u2193\n2. Se habilita opci\u00f3n \"Reenviar c\u00f3digo OTP\"\n   - Bot\u00f3n o enlace: \"Reenviar c\u00f3digo OTP\"\n   - Estado: HABILITADO (solo cuando temporizador = 0:00)\n   \u2193\n3. Usuario selecciona \"Reenviar c\u00f3digo OTP\"\n   \u2193\n4. Sistema consume Servicio de Reenv\u00edo OTP (TESEO)\n   \u2193\n5. Servicio ejecuta validaciones en orden:\n\n   a) Validaci\u00f3n de Autenticaci\u00f3n\n      \u2193 Token inv\u00e1lido? \u2192 S\u00cd: retorna \"error\" (401)\n\n   b) Validaci\u00f3n de Campos Requeridos\n      \u2193 Campos vac\u00edos? \u2192 S\u00cd: retorna \"error\" (400)\n\n   c) Validaci\u00f3n de Cr\u00e9dito Vigente\n      \u2193 Sin cr\u00e9dito vigente? \u2192 S\u00cd: retorna \"no_credit\"\n\n   d) Validaci\u00f3n de L\u00edmite de Reenv\u00edos\n      \u2193 L\u00edmite excedido (&gt;5)? \u2192 S\u00cd: retorna \"resend_limit_exceeded\"\n\n   e) Validaci\u00f3n de Transacci\u00f3n Completada\n      \u2193 OTP ya validado exitosamente? \u2192 S\u00cd: retorna \"already_validated\"\n\n   f) Validaci\u00f3n de Transacci\u00f3n No Encontrada\n      \u2193 GUID no existe? \u2192 S\u00cd: retorna \"error\" (404)\n\n   g) Generaci\u00f3n y Env\u00edo de Nuevo OTP\n      \u2193 Todo OK \u2192 Invalida OTP anterior, genera nuevo c\u00f3digo\n      \u2193 Env\u00eda nuevo OTP \u2192 retorna \"success\" + nuevo guid\n   \u2193\n6. Comportamiento de Invictus seg\u00fan respuesta:\n\n   - success \u2192 Modal azul con instrucciones y nuevo temporizador\n               Muestra medios de env\u00edo (ofuscados)\n               Habilita casillas OTP (limpias)\n               Reinicia temporizador (3:00 minutos)\n               Permanece en pantalla de autenticaci\u00f3n\n\n   - resend_limit_exceeded \u2192 Modal naranja: \"Has excedido el n\u00famero m\u00e1ximo (5)...\"\n                              Cierra modal, REGRESA a pantalla principal\n                              Proceso se REINICIA desde cero\n\n   - already_validated \u2192 Modal rojo: \"Esta transacci\u00f3n ya ha sido completada...\"\n                         Cierra modal, REGRESA a pantalla principal\n                         No requiere nuevo c\u00f3digo\n\n   - error (transacci\u00f3n) \u2192 Modal rojo: \"Transacci\u00f3n no encontrada o inv\u00e1lida\"\n                           Cierra modal, permanece en pantalla OTP\n\n   - error (autenticaci\u00f3n) \u2192 Modal rojo: \"Token de autorizaci\u00f3n inv\u00e1lido...\"\n                             Cierra modal, permanece en pantalla OTP\n\n   - no_credit \u2192 Modal con mensaje de cr\u00e9dito no vigente\n                 Cierra modal, REGRESA a pantalla principal\n</code></pre>"},{"location":"invictus_desembolso_reenvio_otp/#informacion-tecnica","title":"Informaci\u00f3n T\u00e9cnica","text":""},{"location":"invictus_desembolso_reenvio_otp/#tipo-de-servicio","title":"Tipo de Servicio","text":"<p>M\u00e9todo HTTP: <code>POST</code></p>"},{"location":"invictus_desembolso_reenvio_otp/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"Ambiente URL Pruebas (QA) <code>https://testing-sygma.com/api/reenvio_otp_desembolso</code> Producci\u00f3n <code>POR DEFINIR</code>"},{"location":"invictus_desembolso_reenvio_otp/#headers-requeridos","title":"Headers Requeridos","text":"Nombre Valor Requerido Descripci\u00f3n <code>Authorization</code> <code>Bearer {token}</code> \u2705 Token de autenticaci\u00f3n JWT <code>Accept</code> <code>application/json</code> \u2705 Formato de respuesta esperado <code>Content-Type</code> <code>application/json</code> \u2705 Formato del cuerpo de la petici\u00f3n"},{"location":"invictus_desembolso_reenvio_otp/#obtencion-del-token","title":"\ud83d\udd10 Obtenci\u00f3n del Token","text":"<p>!!! \"Obtenci\u00f3n del Token\" El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n, usando el usuario y contrase\u00f1a asignados por la entidad.</p> <p>Endpoint de autenticaci\u00f3n:</p> <pre><code>POST https://testing-sygma.com/api/login\n</code></pre>"},{"location":"invictus_desembolso_reenvio_otp/#request","title":"Request","text":""},{"location":"invictus_desembolso_reenvio_otp/#cuerpo-de-la-solicitud","title":"Cuerpo de la Solicitud","text":"<p>La solicitud debe enviarse en formato raw JSON con los siguientes campos:</p>"},{"location":"invictus_desembolso_reenvio_otp/#campos-obligatorios","title":"Campos Obligatorios","text":"Campo Tipo Longitud Requerido Descripci\u00f3n <code>tiposdocumento_id</code> string - \u2705 ID del tipo de documento seg\u00fan cat\u00e1logo <code>identificacion</code> string variable \u2705 N\u00famero de identificaci\u00f3n del usuario <code>guid</code> string UUID \u2705 UUID de la transacci\u00f3n del OTP anterior"},{"location":"invictus_desembolso_reenvio_otp/#catalogo-de-tipos-de-documento","title":"Cat\u00e1logo de Tipos de Documento","text":"<code>tiposdocumento_id</code> Descripci\u00f3n C\u00f3digo <code>1</code> C\u00e9dula de ciudadan\u00eda CC <code>2</code> C\u00e9dula de extranjer\u00eda CE <code>3</code> NIT NIT <code>8</code> Pasaporte PA <code>181</code> Permiso Especial PEP"},{"location":"invictus_desembolso_reenvio_otp/#ejemplo-de-request","title":"Ejemplo de Request","text":"<pre><code>{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre>"},{"location":"invictus_desembolso_reenvio_otp/#validaciones-del-servicio","title":"Validaciones del Servicio","text":"<p>El servicio ejecuta las siguientes validaciones en orden secuencial:</p>"},{"location":"invictus_desembolso_reenvio_otp/#nivel-1-validacion-de-autenticacion","title":"Nivel 1: Validaci\u00f3n de Autenticaci\u00f3n","text":"<p>Reglas: - Token debe estar presente en el header <code>Authorization</code> - Token debe tener formato v\u00e1lido: <code>Bearer {token}</code> - Token debe estar vigente (no expirado) - Token debe corresponder a un usuario autorizado</p> <p>Resultado: Token Inv\u00e1lido o Vencido</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>401 Unauthorized</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal rojo: \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\" - Bot\u00f3n [CERRAR] para cerrar el modal - Dejar al usuario en la pantalla para ingresar el OTP (no reinicia proceso) - Nota: Este token corresponde a la autenticaci\u00f3n del sistema Invictus con el sistema TESEO</p>"},{"location":"invictus_desembolso_reenvio_otp/#nivel-2-validacion-de-campos-requeridos","title":"Nivel 2: Validaci\u00f3n de Campos Requeridos","text":"<p>Reglas: - Todos los campos son obligatorios: <code>tiposdocumento_id</code>, <code>identificacion</code>, <code>guid</code> - Campos deben ser tipo string - No se permiten valores vac\u00edos o nulos - <code>guid</code> debe ser un UUID v\u00e1lido</p> <p>Respuesta en caso de error:</p> <pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo identificacion es obligatorio.\",\n    \"El campo guid es obligatorio.\"\n  ]\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>400 Bad Request</code></p>"},{"location":"invictus_desembolso_reenvio_otp/#nivel-3-validacion-de-credito-aprobado-vigente","title":"Nivel 3: Validaci\u00f3n de Cr\u00e9dito Aprobado Vigente","text":"<p>Proceso: 1. Se verifica que el cliente tenga un cr\u00e9dito aprobado 2. Se valida que el cr\u00e9dito est\u00e9 vigente (dentro del plazo de 30 d\u00edas desde aprobaci\u00f3n) 3. Se verifica que el cr\u00e9dito no haya sido desembolsado</p> <p>Resultado: No Hay Cr\u00e9dito Vigente</p> <p>El cliente no tiene un cr\u00e9dito aprobado, el cr\u00e9dito ha vencido, o ya fue desembolsado.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"no_credit\",\n  \"mensaje\": \"No se encontr\u00f3 un cr\u00e9dito vigente para esta identificaci\u00f3n.\",\n  \"razon\": \"El cr\u00e9dito ha vencido o ya fue desembolsado\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal con la informaci\u00f3n del servicio - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 REGRESA a la pantalla principal de Invictus - El proceso de desembolso se REINICIA desde cero</p> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>no_credit</code>) - <code>mensaje</code>: Descripci\u00f3n para el usuario final - <code>razon</code>: Motivo espec\u00edfico (opcional)</p>"},{"location":"invictus_desembolso_reenvio_otp/#nivel-4-validacion-de-limite-de-reenvios","title":"Nivel 4: Validaci\u00f3n de L\u00edmite de Reenv\u00edos","text":"<p>Reglas de negocio: - L\u00edmite m\u00e1ximo de reenv\u00edos: 5 reenv\u00edos por transacci\u00f3n (parametrizable) - El l\u00edmite se cuenta por cada proceso de desembolso completo - La cantidad de reenv\u00edos es administrada por TESEO - Al alcanzar el l\u00edmite, se debe reiniciar el proceso completo</p> <p>Resultado: L\u00edmite de Reenv\u00edos Excedido</p> <p>El usuario ha superado el n\u00famero m\u00e1ximo de reenv\u00edos permitidos para esta transacci\u00f3n.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"resend_limit_exceeded\",\n  \"mensaje\": \"Has excedido el n\u00famero m\u00e1ximo (5) de re env\u00edos permitidos, Comun\u00edcate con Credintegral\",\n  \"reenvios_realizados\": 5,\n  \"reenvios_permitidos\": 5\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal naranja con texto:   <code>\"Has excedido el n\u00famero m\u00e1ximo (5) de re env\u00edos permitidos,   Comun\u00edcate con Credintegral\"</code> - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 REGRESA a la pantalla principal de Invictus - El proceso de desembolso se debe REINICIAR desde el principio - Cliente debe contactar con Credintegral para resolver el problema</p> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>resend_limit_exceeded</code>) - <code>mensaje</code>: Descripci\u00f3n para el usuario final - <code>reenvios_realizados</code>: N\u00famero de reenv\u00edos que ha realizado - <code>reenvios_permitidos</code>: N\u00famero m\u00e1ximo configurado</p> <p>Nota importante: Este mensaje se da cuando se excede el l\u00edmite de reenv\u00edos permitidos. La cantidad de reenv\u00edos es administrada por TESEO.</p>"},{"location":"invictus_desembolso_reenvio_otp/#nivel-5-validacion-de-transaccion-completada","title":"Nivel 5: Validaci\u00f3n de Transacci\u00f3n Completada","text":"<p>Proceso: 1. Se verifica el estado de la transacci\u00f3n asociada al <code>guid</code> 2. Se valida si el OTP ya fue validado exitosamente previamente</p> <p>Resultado: Transacci\u00f3n Ya Completada Exitosamente</p> <p>La transacci\u00f3n ya fue validada correctamente y no es necesario reenviar el c\u00f3digo.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"already_validated\",\n  \"mensaje\": \"Esta transacci\u00f3n ya ha sido completada exitosamente. No es necesario un nuevo c\u00f3digo.\",\n  \"fecha_validacion\": \"2025-10-10 14:30:00\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal rojo con texto:   <code>\"Esta transacci\u00f3n ya ha sido completada exitosamente.   No es necesario un nuevo c\u00f3digo.\"</code> - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 REGRESA a la pantalla principal de Invictus - No requiere reiniciar proceso, la transacci\u00f3n ya est\u00e1 completa</p> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>already_validated</code>) - <code>mensaje</code>: Descripci\u00f3n para el usuario final - <code>fecha_validacion</code>: Timestamp de cuando se valid\u00f3 el OTP exitosamente</p> <p>Nota importante: Esto se da cuando se env\u00eda el mismo OTP dos o m\u00e1s veces y TESEO ya lo valid\u00f3 correctamente.</p>"},{"location":"invictus_desembolso_reenvio_otp/#nivel-6-validacion-de-transaccion-existente","title":"Nivel 6: Validaci\u00f3n de Transacci\u00f3n Existente","text":"<p>Proceso: 1. Se verifica que el <code>guid</code> proporcionado exista en el sistema TESEO 2. Se valida que el <code>guid</code> corresponda al <code>tiposdocumento_id</code> e <code>identificacion</code> enviados</p> <p>Resultado: Transacci\u00f3n No Encontrada o No Corresponde</p> <p>La transacci\u00f3n con el <code>guid</code> proporcionado no existe o no coincide con la identificaci\u00f3n del cliente.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o inv\u00e1lida.\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>404 Not Found</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal rojo: \"Transacci\u00f3n no encontrada o inv\u00e1lida\" - Bot\u00f3n [CERRAR] para cerrar el modal - Dejar al usuario en la pantalla para ingresar el OTP (no reinicia proceso)</p>"},{"location":"invictus_desembolso_reenvio_otp/#nivel-7-generacion-y-envio-de-nuevo-otp","title":"Nivel 7: Generaci\u00f3n y Env\u00edo de Nuevo OTP \u2705","text":"<p>Condiciones cumplidas: - \u2705 Token de autenticaci\u00f3n v\u00e1lido - \u2705 Todos los campos requeridos presentes - \u2705 Cliente tiene cr\u00e9dito vigente - \u2705 L\u00edmite de reenv\u00edos NO excedido (&lt;5 reenv\u00edos) - \u2705 Transacci\u00f3n NO ha sido completada exitosamente - \u2705 Transacci\u00f3n (GUID) existe y corresponde a la identificaci\u00f3n</p> <p>Acciones autom\u00e1ticas del sistema:</p> <ol> <li> <p>Invalidaci\u00f3n de c\u00f3digos anteriores:</p> <ul> <li>Se invalidan todos los c\u00f3digos OTP anteriores de esta identificaci\u00f3n</li> <li>Solo el c\u00f3digo m\u00e1s reciente ser\u00e1 v\u00e1lido</li> <li>Los intentos fallidos de c\u00f3digos anteriores NO afectan el nuevo c\u00f3digo</li> </ul> </li> <li> <p>Generaci\u00f3n de nuevo c\u00f3digo:</p> <ul> <li>Se genera un nuevo c\u00f3digo OTP de 6 d\u00edgitos (num\u00e9rico o alfanum\u00e9rico)</li> <li>Se genera un nuevo GUID (UUID v4) diferente al anterior</li> <li>Se establece nueva vigencia: 3 minutos desde este momento</li> <li>Se reinicia el contador de intentos a 0 (3 intentos disponibles)</li> </ul> </li> <li> <p>Env\u00edo del c\u00f3digo:</p> <ul> <li>Se env\u00eda el nuevo c\u00f3digo a los canales configurados del cliente:<ul> <li>SMS</li> <li>Correo electr\u00f3nico (Email)</li> <li>WhatsApp (si est\u00e1 configurado)</li> </ul> </li> <li>Se registra el env\u00edo con timestamp completo</li> </ul> </li> <li> <p>Incremento del contador de reenv\u00edos:</p> <ul> <li>Se incrementa el contador de reenv\u00edos para esta transacci\u00f3n</li> <li>Se almacena para validaci\u00f3n futura del l\u00edmite</li> </ul> </li> </ol> <p>Respuesta exitosa:</p> <pre><code>{\n  \"status\": \"success\",\n  \"datos\": {\n    \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n    \"mensaje\": \"Nuevo c\u00f3digo OTP enviado exitosamente a los canales registrados.\",\n    \"codigo_otp\": 456789,\n    \"canales_envio\": {\n      \"whatsapp\": \"314 *** ** 96\",\n      \"sms\": \"314 *** ** 96\",\n      \"email\": \"ars****th@gmail.com\"\n    },\n     \"informacion_personal\": {\n        \"whatsapp\": \"3146795096\",\n        \"sms\": \"3146795096\",\n        \"email\": \"arsenalth@gmail.com\"\n     },\n    \"vigencia_otp\": \"3 minutos\",\n    \"intentos_disponibles\": 3,\n    \"fecha_envio\": \"2025-10-10 14:35:20\",\n    \"reenvios_realizados\": 1,\n    \"reenvios_restantes\": 4\n  }\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus:</p> <ol> <li>Mostrar mensaje modal azul con instrucciones:    ```    \"Ingrese el c\u00f3digo OTP de verificaci\u00f3n suministrado por el cliente para la    autenticaci\u00f3n y env\u00edo de documentos de cr\u00e9dito\"</li> </ol> <p>Medios de env\u00edo:    WhatsApp 314 *** ** 96    SMS 314 *** ** 96    Email ars*th@gmail.com    ```     - Mostrar informaci\u00f3n de los canales de env\u00edo (ofuscada)     - Bot\u00f3n *[CERRAR] para cerrar el modal</p> <ol> <li> <p>Cerrar modal \u2192 Permanece en la pantalla para ingresar el OTP</p> </li> <li> <p>Actualizar pantalla de autenticaci\u00f3n:</p> <ul> <li>Limpiar las 6 casillas del c\u00f3digo OTP (en blanco)</li> <li>Reiniciar temporizador a 3:00 minutos (cuenta regresiva)</li> <li>Inhabilitar nuevamente la opci\u00f3n \"Reenviar c\u00f3digo OTP\"</li> <li>La opci\u00f3n se volver\u00e1 a habilitar cuando el temporizador llegue a 0:00</li> </ul> </li> <li> <p>Validaciones de casillas:</p> <ul> <li>Es obligatorio que el asesor ingrese informaci\u00f3n en todas las casillas del OTP</li> <li>En caso contrario, no debe permitir realizar la confirmaci\u00f3n</li> <li>Debe resaltar en ROJO la casilla que falta por informaci\u00f3n</li> <li>Nota: Esta pantalla debe obedecer a lo descrito en HUE 002 Consultar cliente para validar Cr\u00e9dito, criterio de aceptaci\u00f3n 7</li> </ul> </li> <li> <p>Usuario puede continuar:</p> <ul> <li>Ingresar el nuevo c\u00f3digo OTP en las 6 casillas</li> <li>Presionar [Confirmar] para validar (consume Servicio 2: Validaci\u00f3n OTP)</li> </ul> </li> </ol> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>success</code>) - <code>datos.guid</code>: Nuevo identificador \u00fanico de transacci\u00f3n (diferente al anterior) - <code>datos.mensaje</code>: Mensaje de confirmaci\u00f3n para el usuario - <code>datos.codigo_otp</code>: Nuevo c\u00f3digo OTP generado (para prop\u00f3sitos de prueba/desarrollo) - <code>datos.canales_envio</code>: Objeto con canales disponibles (informaci\u00f3n ofuscada por TESEO)     - <code>whatsapp</code>: N\u00famero ofuscado de WhatsApp     - <code>sms</code>: N\u00famero ofuscado de SMS     - <code>email</code>: Email ofuscado - <code>datos.vigencia_otp</code>: Tiempo de validez del nuevo c\u00f3digo (formato legible) - <code>datos.intentos_disponibles</code>: N\u00famero de intentos disponibles (reiniciado a 3) - <code>datos.fecha_envio</code>: Timestamp del env\u00edo (formato: YYYY-MM-DD HH:MM:SS) - <code>datos.reenvios_realizados</code>: Cantidad de reenv\u00edos realizados hasta el momento - <code>datos.reenvios_restantes</code>: Reenv\u00edos que a\u00fan pueden realizarse</p> <p>Nota importante: El <code>guid</code> generado en el reenv\u00edo es diferente al original y debe ser almacenado por Invictus para usar en la validaci\u00f3n posterior del OTP.</p>"},{"location":"invictus_desembolso_reenvio_otp/#response-tabla-resumen-de-respuestas","title":"Response - Tabla Resumen de Respuestas","text":"# Condici\u00f3n HTTP Code status Mensaje UI Invictus Color Modal Comportamiento Reinicia Proceso 1 Token inv\u00e1lido/ausente 401 <code>error</code> \"Token de autorizaci\u00f3n inv\u00e1lido...\" Rojo Permanece en OTP No 2 Campos requeridos faltantes 400 <code>error</code> - - - No 3 Sin cr\u00e9dito vigente 200 <code>no_credit</code> \"No se encontr\u00f3 un cr\u00e9dito vigente...\" - Regresa a inicio S\u00cd 4 L\u00edmite de reenv\u00edos excedido (&gt;5) 200 <code>resend_limit_exceeded</code> \"Has excedido el n\u00famero m\u00e1ximo (5)...\" Naranja Regresa a inicio S\u00cd 5 Transacci\u00f3n ya completada 200 <code>already_validated</code> \"Esta transacci\u00f3n ya ha sido completada...\" Rojo Regresa a inicio No 6 Transacci\u00f3n no encontrada 404 <code>error</code> \"Transacci\u00f3n no encontrada o inv\u00e1lida\" Rojo Permanece en OTP No 7 Reenv\u00edo exitoso 200 <code>success</code> Instrucciones + medios de env\u00edo Azul Permanece en OTP No"},{"location":"invictus_desembolso_reenvio_otp/#ejemplos-de-respuestas-completas","title":"Ejemplos de Respuestas Completas","text":""},{"location":"invictus_desembolso_reenvio_otp/#caso-1-reenvio-exitoso-nuevo-otp-enviado","title":"\u2705 Caso 1: Reenv\u00edo Exitoso - Nuevo OTP Enviado","text":"<p>Request:</p> <pre><code>POST /api/reenvio_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"success\",\n  \"datos\": {\n    \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n    \"mensaje\": \"Nuevo c\u00f3digo OTP enviado exitosamente a los canales registrados.\",\n    \"codigo_otp\": 456789,\n    \"canales_envio\": {\n      \"whatsapp\": \"314 *** ** 96\",\n      \"sms\": \"314 *** ** 96\",\n      \"email\": \"ars****th@gmail.com\"\n    },\n   \"informacion_personal\": {\n      \"whatsapp\": \"3146795096\",\n      \"sms\": \"3146795096\",\n      \"email\": \"arsenalth@gmail.com\"\n   },\n    \"vigencia_otp\": \"3 minutos\",\n    \"intentos_disponibles\": 3,\n    \"fecha_envio\": \"2025-10-10 14:35:20\",\n    \"reenvios_realizados\": 1,\n    \"reenvios_restantes\": 4\n  }\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal azul con instrucciones y medios de env\u00edo - Cerrar modal - Limpiar las 6 casillas OTP - Reiniciar temporizador a 3:00 - Inhabilitar opci\u00f3n \"Reenviar c\u00f3digo OTP\" - Usuario puede ingresar nuevo c\u00f3digo</p>"},{"location":"invictus_desembolso_reenvio_otp/#caso-2-limite-de-reenvios-excedido","title":"\ud83d\udeab Caso 2: L\u00edmite de Reenv\u00edos Excedido","text":"<p>Request:</p> <pre><code>POST /api/reenvio_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"resend_limit_exceeded\",\n  \"mensaje\": \"Has excedido el n\u00famero m\u00e1ximo (5) de re env\u00edos permitidos, Comun\u00edcate con Credintegral\",\n  \"reenvios_realizados\": 5,\n  \"reenvios_permitidos\": 5\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal naranja: \"Has excedido el n\u00famero m\u00e1ximo (5) de re env\u00edos permitidos, Comun\u00edcate con Credintegral\" - Bot\u00f3n [CERRAR] - Cerrar modal \u2192 REGRESA a pantalla principal de Invictus - Proceso de desembolso se REINICIA desde el principio - Cliente debe contactar con Credintegral</p>"},{"location":"invictus_desembolso_reenvio_otp/#caso-3-transaccion-ya-completada","title":"\u26a0\ufe0f Caso 3: Transacci\u00f3n Ya Completada","text":"<p>Request:</p> <pre><code>POST /api/reenvio_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"already_validated\",\n  \"mensaje\": \"Esta transacci\u00f3n ya ha sido completada exitosamente. No es necesario un nuevo c\u00f3digo.\",\n  \"fecha_validacion\": \"2025-10-10 14:30:00\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal rojo: \"Esta transacci\u00f3n ya ha sido completada exitosamente. No es necesario un nuevo c\u00f3digo.\" - Bot\u00f3n [CERRAR] - Cerrar modal \u2192 REGRESA a pantalla principal de Invictus - Esto se da cuando se env\u00eda el mismo OTP dos o m\u00e1s veces y TESEO ya lo valid\u00f3 correctamente</p>"},{"location":"invictus_desembolso_reenvio_otp/#caso-4-transaccion-no-encontrada","title":"\u274c Caso 4: Transacci\u00f3n No Encontrada","text":"<p>Request:</p> <pre><code>POST /api/reenvio_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"guid-invalido-12345\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 404 Not Found\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o inv\u00e1lida.\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal rojo: \"Transacci\u00f3n no encontrada o inv\u00e1lida\" - Bot\u00f3n [CERRAR] - Cerrar modal \u2192 Permanece en pantalla de ingreso OTP</p>"},{"location":"invictus_desembolso_reenvio_otp/#caso-5-error-de-autenticacion-token-invalido","title":"\ud83d\udd10 Caso 5: Error de Autenticaci\u00f3n (Token Inv\u00e1lido)","text":"<p>Request:</p> <pre><code>POST /api/reenvio_otp_desembolso\nAuthorization: Bearer token_invalido_o_expirado\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 401 Unauthorized\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal rojo: \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\" - Bot\u00f3n [CERRAR] - Cerrar modal \u2192 Permanece en pantalla de ingreso OTP - Nota: Este token corresponde a la autenticaci\u00f3n del sistema Invictus con TESEO</p>"},{"location":"invictus_desembolso_reenvio_otp/#caso-6-sin-credito-vigente","title":"\u26a0\ufe0f Caso 6: Sin Cr\u00e9dito Vigente","text":"<p>Request:</p> <pre><code>POST /api/reenvio_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"no_credit\",\n  \"mensaje\": \"No se encontr\u00f3 un cr\u00e9dito vigente para esta identificaci\u00f3n.\",\n  \"razon\": \"El cr\u00e9dito ha vencido o ya fue desembolsado\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal con mensaje del servicio - Bot\u00f3n [CERRAR] - Cerrar modal \u2192 REGRESA a pantalla principal de Invictus - Proceso se REINICIA desde cero</p>"},{"location":"invictus_desembolso_reenvio_otp/#caso-7-error-de-validacion-campos-faltantes","title":"\ud83d\udeab Caso 7: Error de Validaci\u00f3n - Campos Faltantes","text":"<p>Request:</p> <pre><code>POST /api/reenvio_otp_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 400 Bad Request\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo identificacion es obligatorio.\",\n    \"El campo guid es obligatorio.\"\n  ]\n}\n</code></pre>"},{"location":"invictus_desembolso_reenvio_otp/#integracion-en-invictus","title":"Integraci\u00f3n en Invictus","text":""},{"location":"invictus_desembolso_reenvio_otp/#opcion-reenviar-codigo-otp","title":"Opci\u00f3n \"Reenviar c\u00f3digo OTP\"","text":"<p>Estado inicial: - INHABILITADA cuando se muestra por primera vez la pantalla de autenticaci\u00f3n - Se muestra como bot\u00f3n o enlace en la pantalla de autenticaci\u00f3n</p> <p>Habilitaci\u00f3n: - Se HABILITA autom\u00e1ticamente cuando el temporizador llega a 0:00 - Indicador visual de que el c\u00f3digo ha expirado</p> <p>Al seleccionar: 1. Sistema consume este servicio (Reenv\u00edo OTP) 2. Espera respuesta del servicio</p> <p>Comportamiento seg\u00fan respuesta:</p>"},{"location":"invictus_desembolso_reenvio_otp/#a-response-success","title":"a) Response: <code>success</code>","text":"<ol> <li> <p>Mostrar modal azul con:</p> <ul> <li>T\u00edtulo: \"Autenticaci\u00f3n Cliente\"</li> <li>Mensaje: \"Ingrese el c\u00f3digo OTP de verificaci\u00f3n suministrado por el cliente para la autenticaci\u00f3n y env\u00edo de documentos de cr\u00e9dito\"</li> <li>Medios de env\u00edo (ofuscados):<ul> <li>WhatsApp 314 *** ** 96</li> <li>SMS 314 *** ** 96</li> <li>Email ars****th@gmail.com</li> </ul> </li> <li>Mensaje: \"El tiempo de vigencia del OTP es de 3:00 minutos\"</li> <li>Bot\u00f3n [CERRAR]</li> </ul> </li> <li> <p>Al cerrar modal:</p> <ul> <li>Permanece en pantalla de autenticaci\u00f3n</li> <li>Limpia las 6 casillas OTP (en blanco)</li> <li>Reinicia temporizador a 3:00 minutos</li> <li>Inhabilita opci\u00f3n \"Reenviar c\u00f3digo OTP\" nuevamente</li> </ul> </li> <li> <p>Validaciones de casillas:</p> <ul> <li>Es obligatorio ingresar informaci\u00f3n en todas las casillas</li> <li>Si alguna est\u00e1 vac\u00eda al intentar [Confirmar]:<ul> <li>Resalta en ROJO las casillas faltantes</li> <li>No permite habilitar [Confirmar]</li> </ul> </li> <li>Nota: Debe obedecer HUE 002, criterio 7</li> </ul> </li> </ol>"},{"location":"invictus_desembolso_reenvio_otp/#b-response-resend_limit_exceeded","title":"b) Response: <code>resend_limit_exceeded</code>","text":"<ol> <li>Modal naranja: \"Has excedido el n\u00famero m\u00e1ximo (5) de re env\u00edos permitidos, Comun\u00edcate con Credintegral\"</li> <li>[CERRAR]</li> <li>Cierra modal \u2192 Regresa a pantalla principal de Invictus</li> <li>Proceso completo se REINICIA</li> </ol>"},{"location":"invictus_desembolso_reenvio_otp/#c-response-already_validated","title":"c) Response: <code>already_validated</code>","text":"<ol> <li>Modal rojo: \"Esta transacci\u00f3n ya ha sido completada exitosamente. No es necesario un nuevo c\u00f3digo.\"</li> <li>[CERRAR]</li> <li>Cierra modal \u2192 Regresa a pantalla principal de Invictus</li> <li>Transacci\u00f3n ya est\u00e1 completa</li> </ol>"},{"location":"invictus_desembolso_reenvio_otp/#d-response-error-transaccion","title":"d) Response: <code>error</code> (transacci\u00f3n)","text":"<ol> <li>Modal rojo: \"Transacci\u00f3n no encontrada o inv\u00e1lida\"</li> <li>[CERRAR]</li> <li>Permanece en pantalla OTP</li> </ol>"},{"location":"invictus_desembolso_reenvio_otp/#e-response-error-autenticacion","title":"e) Response: <code>error</code> (autenticaci\u00f3n)","text":"<ol> <li>Modal rojo: \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\"</li> <li>[CERRAR]</li> <li>Permanece en pantalla OTP</li> </ol>"},{"location":"invictus_desembolso_reenvio_otp/#f-response-no_credit","title":"f) Response: <code>no_credit</code>","text":"<ol> <li>Modal con mensaje de cr\u00e9dito no vigente</li> <li>[CERRAR]</li> <li>Cierra modal \u2192 Regresa a pantalla principal de Invictus</li> <li>Proceso se REINICIA</li> </ol>"},{"location":"invictus_desembolso_reenvio_otp/#consideraciones-de-seguridad","title":"Consideraciones de Seguridad","text":""},{"location":"invictus_desembolso_reenvio_otp/#control-de-reenvios","title":"Control de Reenv\u00edos","text":"<ul> <li>L\u00edmite m\u00e1ximo de reenv\u00edos: 5 reenv\u00edos por transacci\u00f3n (parametrizable)</li> <li>Prop\u00f3sito: Evitar spam, ataques de denegaci\u00f3n de servicio y fraude</li> <li>Administraci\u00f3n: La cantidad de reenv\u00edos es administrada por TESEO</li> <li>Contador: Se incrementa con cada reenv\u00edo exitoso</li> </ul>"},{"location":"invictus_desembolso_reenvio_otp/#invalidacion-de-codigos","title":"Invalidaci\u00f3n de C\u00f3digos","text":"<ul> <li>Al generar un nuevo OTP, todos los c\u00f3digos anteriores se invalidan autom\u00e1ticamente</li> <li>Solo el c\u00f3digo m\u00e1s reciente es v\u00e1lido para su validaci\u00f3n</li> <li>Los intentos fallidos de c\u00f3digos anteriores no afectan el nuevo c\u00f3digo</li> <li>El contador de intentos se reinicia a 0 (3 intentos disponibles)</li> </ul>"},{"location":"invictus_desembolso_reenvio_otp/#nuevo-codigo-otp","title":"Nuevo C\u00f3digo OTP","text":"<ul> <li>Vigencia: 3 minutos desde su generaci\u00f3n (parametrizable)</li> <li>Longitud: 6 d\u00edgitos (num\u00e9rico o alfanum\u00e9rico seg\u00fan configuraci\u00f3n)</li> <li>Intentos: 3 intentos m\u00e1ximo (se reinicia el contador)</li> <li>Unicidad: Cada reenv\u00edo genera un c\u00f3digo completamente nuevo y \u00fanico</li> </ul>"},{"location":"invictus_desembolso_reenvio_otp/#nuevo-guid","title":"Nuevo GUID","text":"<ul> <li>Generaci\u00f3n: Se genera un nuevo GUID (UUID v4) diferente al anterior</li> <li>Importancia: Invictus debe almacenar el nuevo GUID para usarlo en:<ul> <li>Validaci\u00f3n posterior del OTP (Servicio 2)</li> <li>Futuros reenv\u00edos si son necesarios</li> </ul> </li> <li>El GUID anterior queda invalidado</li> </ul>"},{"location":"invictus_desembolso_reenvio_otp/#limites-recomendados","title":"L\u00edmites Recomendados","text":"<p>Aunque el sistema valida el l\u00edmite principal, se recomienda:</p> L\u00edmite Valor Sugerido Descripci\u00f3n Reenv\u00edos por transacci\u00f3n 5 M\u00e1ximo por proceso de desembolso Bloqueo temporal 1 hora Despu\u00e9s de exceder l\u00edmite Alertas de seguridad Autom\u00e1ticas Notificar patrones sospechosos"},{"location":"invictus_desembolso_reenvio_otp/#registro-de-auditoria","title":"Registro de Auditor\u00eda","text":"<p>Cada reenv\u00edo debe registrar: - Timestamp: Fecha y hora exacta del reenv\u00edo - Nuevo GUID: UUID generado para este c\u00f3digo - Identificaci\u00f3n del cliente: Para trazabilidad - IP de origen: Direcci\u00f3n IP desde donde se realiz\u00f3 la petici\u00f3n - Canal de env\u00edo: SMS, Email, WhatsApp - Estado del env\u00edo: Exitoso o fallido por canal - Contador de reenv\u00edos: N\u00famero actual de reenv\u00edos realizados</p>"},{"location":"invictus_desembolso_reenvio_otp/#parametros-configurables","title":"Par\u00e1metros Configurables","text":"<p>Los siguientes valores pueden configurarse en el sistema TESEO:</p> Par\u00e1metro Valor por Defecto Descripci\u00f3n Reenv\u00edos m\u00e1ximos permitidos 5 L\u00edmite por transacci\u00f3n de desembolso Vigencia del nuevo OTP 3 minutos Tiempo de validez del c\u00f3digo Intentos de validaci\u00f3n 3 intentos N\u00famero m\u00e1ximo por c\u00f3digo OTP Longitud del c\u00f3digo 6 d\u00edgitos Cantidad de caracteres del OTP Tipo de c\u00f3digo Num\u00e9rico Num\u00e9rico o Alfanum\u00e9rico"},{"location":"invictus_desembolso_reenvio_otp/#notas-importantes","title":"Notas Importantes","text":""},{"location":"invictus_desembolso_reenvio_otp/#reglas-de-negocio","title":"\ud83d\udccb Reglas de Negocio","text":"<ul> <li>\u2705 El <code>guid</code> generado en el reenv\u00edo es diferente al original</li> <li>\u2705 Cada reenv\u00edo invalida todos los c\u00f3digos anteriores de esa identificaci\u00f3n</li> <li>\u2705 El contador de intentos se reinicia a cero (3 intentos disponibles) con cada nuevo c\u00f3digo</li> <li>\u2705 Los canales de env\u00edo (SMS, Email, WhatsApp) son los mismos configurados inicialmente para el cliente</li> <li>\u2705 Si hay fallas en el env\u00edo a alg\u00fan canal, se registra pero no se bloquea el proceso</li> <li>\u2705 El punto Gana (Invictus) debe almacenar el nuevo GUID para la validaci\u00f3n posterior</li> <li>\u2705 La cantidad de reenv\u00edos es administrada por TESEO (no por Invictus)</li> <li>\u2705 Al exceder el l\u00edmite de reenv\u00edos, el cliente debe comunicarse con Credintegral</li> </ul>"},{"location":"invictus_desembolso_reenvio_otp/#flujo-completo-con-reenvio","title":"\ud83d\udd04 Flujo Completo con Reenv\u00edo","text":"<pre><code>Servicio 1: Validaci\u00f3n de Cr\u00e9dito Vigente\n     \u2193 (retorna guid_1 + codigo_otp_1)\nPantalla de Autenticaci\u00f3n Cliente\n     \u2193\nTemporizador llega a 0:00 (c\u00f3digo expirado)\n     \u2193\nSe habilita \"Reenviar c\u00f3digo OTP\"\n     \u2193\nServicio 3: Reenv\u00edo de OTP (este documento)\n     \u2193 (retorna guid_2 + codigo_otp_2 - NUEVO Y DIFERENTE)\nPantalla de Autenticaci\u00f3n Cliente (actualizada)\n     \u2193 (temporizador reiniciado, casillas limpias)\nCliente ingresa nuevo c\u00f3digo OTP\n     \u2193\nServicio 2: Validaci\u00f3n de OTP (usa guid_2)\n     \u2193 (valida codigo_otp_2)\nSecci\u00f3n 2: Datos Cr\u00e9dito\n     \u2193\nDesembolso Final\n</code></pre>"},{"location":"invictus_desembolso_reenvio_otp/#configuracion-del-ambiente","title":"\u2699\ufe0f Configuraci\u00f3n del Ambiente","text":"<p>Ambiente de Pruebas (QA): - Base URL: <code>https://testing-sygma.com/api</code> - Endpoint Login: <code>/login</code> - Endpoint Reenv\u00edo OTP: <code>/reenvio_otp_desembolso</code> - Usuario: <code>ws_invictus</code> - Password: <code>g3z0OmJP7?@(*</code></p>"},{"location":"invictus_desembolso_reenvio_otp/#especificaciones-de-ui-para-mensajes-modales","title":"\ud83c\udfa8 Especificaciones de UI para Mensajes Modales","text":"Status Response Color Modal T\u00edtulo/Mensaje Bot\u00f3n Acci\u00f3n al Cerrar Reinicia <code>success</code> Azul Instrucciones + medios env\u00edo [CERRAR] Permanece en OTP No <code>resend_limit_exceeded</code> Naranja \"Has excedido el n\u00famero m\u00e1ximo (5)...\" [CERRAR] Regresa a inicio S\u00cd <code>already_validated</code> Rojo \"Esta transacci\u00f3n ya ha sido completada...\" [CERRAR] Regresa a inicio No <code>error</code> (transacci\u00f3n) Rojo \"Transacci\u00f3n no encontrada...\" [CERRAR] Permanece en OTP No <code>error</code> (autenticaci\u00f3n) Rojo \"Token de autorizaci\u00f3n inv\u00e1lido...\" [CERRAR] Permanece en OTP No <code>no_credit</code> - \"No se encontr\u00f3 un cr\u00e9dito vigente...\" [CERRAR] Regresa a inicio S\u00cd"},{"location":"invictus_desembolso_reenvio_otp/#seguridad-adicional","title":"\ud83d\udd12 Seguridad Adicional","text":"<ul> <li>Todos los endpoints requieren autenticaci\u00f3n via Bearer Token</li> <li>Los tokens tienen tiempo de expiraci\u00f3n</li> <li>Se recomienda implementar retry logic para renovaci\u00f3n de token</li> <li>Los datos sensibles no deben ser almacenados en logs</li> <li>El c\u00f3digo OTP nunca debe ser almacenado en texto plano</li> <li>Todos los reenv\u00edos deben quedar registrados para auditor\u00eda</li> <li>Implementar alertas autom\u00e1ticas ante patrones sospechosos de reenv\u00edos</li> <li>Monitorear intentos de exceder l\u00edmite de reenv\u00edos</li> </ul>"},{"location":"invictus_desembolso_reenvio_otp/#monitoreo-y-logs","title":"\ud83d\udcca Monitoreo y Logs","text":"<p>Se recomienda registrar: - Timestamp de cada petici\u00f3n de reenv\u00edo - Identificaci\u00f3n del usuario consultado (encriptada) - GUID anterior y nuevo GUID generado - Status de respuesta - N\u00famero de reenv\u00edo (1, 2, 3, etc.) - Canales de env\u00edo utilizados - Estado del env\u00edo por cada canal (exitoso/fallido) - Tiempo de respuesta del servicio - Errores y excepciones - Patrones de reenv\u00edos consecutivos (alerta de seguridad)</p>"},{"location":"invictus_desmebolso/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Ejecuci\u00f3n de Desembolso Final","text":""},{"location":"invictus_desmebolso/#descripcion-del-servicio","title":"Descripci\u00f3n del Servicio","text":"<p>Este servicio permite ejecutar el desembolso final del cr\u00e9dito al cliente despu\u00e9s de haber validado la identidad mediante OTP y calculado los descuentos aplicables. El servicio registra la transacci\u00f3n en TESEO, genera los movimientos contables, actualiza el estado del cr\u00e9dito a \"desembolsado\" y retorna la confirmaci\u00f3n para que Invictus proceda con la entrega f\u00edsica del dinero al cliente.</p>"},{"location":"invictus_desmebolso/#flujo-del-proceso","title":"Flujo del Proceso","text":""},{"location":"invictus_desmebolso/#contexto-general","title":"Contexto General","text":"<p>Este servicio es el quinto y \u00faltimo paso del flujo de desembolso, ejecut\u00e1ndose despu\u00e9s de que el usuario confirma el desembolso presionando el bot\u00f3n [Pagar]:</p> <pre><code>Servicio 1: Validaci\u00f3n de Cr\u00e9dito Vigente\n     \u2193\nServicio 2: Validaci\u00f3n de OTP\n     \u2193 (retorna success + l\u00edneas de cr\u00e9dito)\nSecci\u00f3n 2: Datos Cr\u00e9dito (Selecci\u00f3n UI)\n     \u2193 (usuario selecciona l\u00ednea, plazo, valor)\nServicio 4: C\u00e1lculo de Desembolso\n     \u2193 (calcula descuentos y valor final)\nSecci\u00f3n 3: Realizar Desembolso (muestra valores calculados)\n     \u2193 (usuario presiona [Pagar])\nServicio 5: Ejecuci\u00f3n de Desembolso Final (este documento) \u2190 ESTAMOS AQU\u00cd\n     \u2193 (ejecuta y registra el desembolso)\nEntrega f\u00edsica de dinero al cliente\n</code></pre>"},{"location":"invictus_desmebolso/#secuencia-del-flujo","title":"Secuencia del Flujo","text":"<pre><code>1. Usuario se encuentra en Secci\u00f3n 3: Realizar Desembolso\n   - Visualiza informaci\u00f3n calculada:\n     * Valor Total\n     * Valor Cobros\n     * Plazo (Meses)\n     * Valor a Pagar al Cliente\n   - Botones habilitados: [Cancelar], [Limpiar], [Pagar]\n   \u2193\n2. Usuario presiona [Pagar]\n   - Confirmaci\u00f3n impl\u00edcita de que est\u00e1 listo para ejecutar\n   \u2193\n3. Sistema consume este servicio (TESEO)\n   \u2193\n4. Servicio ejecuta validaciones y registro:\n\n   a) Validaci\u00f3n de Autenticaci\u00f3n\n      \u2193 Token inv\u00e1lido? \u2192 S\u00cd: retorna \"error\" (401)\n\n   b) Validaci\u00f3n de Campos Requeridos\n      \u2193 Campos vac\u00edos? \u2192 S\u00cd: retorna \"error\" (400)\n\n   c) Validaci\u00f3n de Transacci\u00f3n Existente\n      \u2193 GUID no existe? \u2192 S\u00cd: retorna \"error\" (404)\n\n   d) Validaci\u00f3n de Cr\u00e9dito Disponible\n      \u2193 Cr\u00e9dito ya desembolsado? \u2192 S\u00cd: retorna \"already_disbursed\"\n      \u2193 Cr\u00e9dito no vigente? \u2192 S\u00cd: retorna \"credit_not_available\"\n\n   e) Validaci\u00f3n de OTP Previamente Confirmado\n      \u2193 OTP no validado? \u2192 S\u00cd: retorna \"otp_not_validated\"\n\n   f) Ejecuci\u00f3n del Desembolso\n      \u2193 Registra en TESEO\n      \u2193 Actualiza estado a \"desembolsado\"\n      \u2193 Genera movimientos contables\n      \u2193 Retorna \"success\" + comprobante\n   \u2193\n5. Comportamiento seg\u00fan respuesta:\n\n   - success \u2192 Modal verde: \"Su transacci\u00f3n fue Exitosa...\"\n               Muestra valor a entregar al cliente\n               Cierra modal \u2192 Regresa a pantalla inicial de Invictus\n               Invictus ejecuta acciones internas:\n               1. Replica en SIGA y contabilidad\n               2. Afecta caja y cartera de la fuerza de ventas\n               3. Registra en Base de datos de Invictus\n               4. Imprime colilla de transacci\u00f3n\n               5. Afecta la contabilidad en Invictus\n\n   - error (autenticaci\u00f3n) \u2192 Modal rojo: \"Token de autorizaci\u00f3n inv\u00e1lido...\"\n                             Cierra modal, permanece en Secci\u00f3n 3\n                             NO guarda ni registra transacci\u00f3n\n\n   - error (transacci\u00f3n) \u2192 Modal naranja: \"Transacci\u00f3n no encontrada...\"\n                           Cierra modal, permanece en Secci\u00f3n 3\n                           NO guarda ni registra transacci\u00f3n\n\n   - already_disbursed \u2192 Modal naranja: \"Este cr\u00e9dito ya fue desembolsado...\"\n                         Cierra modal, regresa a pantalla inicial\n                         Proceso se REINICIA\n\n   - credit_not_available \u2192 Modal naranja: \"El cr\u00e9dito no est\u00e1 disponible...\"\n                            Cierra modal, regresa a pantalla inicial\n                            Proceso se REINICIA\n\n   - otp_not_validated \u2192 Modal naranja: \"Debe validar el OTP...\"\n                         Cierra modal, permanece en Secci\u00f3n 3\n                         Usuario debe completar validaci\u00f3n OTP\n</code></pre>"},{"location":"invictus_desmebolso/#informacion-tecnica","title":"Informaci\u00f3n T\u00e9cnica","text":""},{"location":"invictus_desmebolso/#tipo-de-servicio","title":"Tipo de Servicio","text":"<p>M\u00e9todo HTTP: <code>POST</code></p>"},{"location":"invictus_desmebolso/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"Ambiente URL Pruebas (QA) <code>https://testing-sygma.com/api/proceso_desembolso</code> Producci\u00f3n <code>POR DEFINIR</code>"},{"location":"invictus_desmebolso/#headers-requeridos","title":"Headers Requeridos","text":"Nombre Valor Requerido Descripci\u00f3n <code>Authorization</code> <code>Bearer {token}</code> \u2705 Token de autenticaci\u00f3n JWT <code>Accept</code> <code>application/json</code> \u2705 Formato de respuesta esperado <code>Content-Type</code> <code>application/json</code> \u2705 Formato del cuerpo de la petici\u00f3n"},{"location":"invictus_desmebolso/#obtencion-del-token","title":"\ud83d\udd10 Obtenci\u00f3n del Token","text":"<p>!!! \"Obtenci\u00f3n del Token\" El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n, usando el usuario y contrase\u00f1a asignados por la entidad.</p> <p>Endpoint de autenticaci\u00f3n:</p> <pre><code>POST https://testing-sygma.com/api/login\n</code></pre>"},{"location":"invictus_desmebolso/#request","title":"Request","text":""},{"location":"invictus_desmebolso/#cuerpo-de-la-solicitud","title":"Cuerpo de la Solicitud","text":"<p>La solicitud debe enviarse en formato raw JSON con los siguientes campos:</p>"},{"location":"invictus_desmebolso/#campos-obligatorios","title":"Campos Obligatorios","text":"Campo Tipo Longitud Requerido Descripci\u00f3n <code>tiposdocumento_id</code> string - \u2705 ID del tipo de documento seg\u00fan cat\u00e1logo <code>identificacion</code> string variable \u2705 N\u00famero de identificaci\u00f3n del usuario <code>guid</code> string UUID \u2705 UUID de la transacci\u00f3n del proceso actual <code>id_linea_credito</code> integer - \u2705 Identificador de la l\u00ednea de cr\u00e9dito seleccionada <code>plazo_meses</code> integer - \u2705 Plazo en meses seleccionado por el cliente <code>valor_total</code> number - \u2705 Valor total del desembolso solicitado <code>valor_cobros</code> number - \u2705 Suma de todos los descuentos/cobros aplicados <code>valor_a_pagar_cliente</code> number - \u2705 Monto final a entregar f\u00edsicamente al cliente <code>plaza_empresa</code> integer - \u2705 C\u00f3digo de la plaza/empresa donde se realiza"},{"location":"invictus_desmebolso/#catalogo-de-tipos-de-documento","title":"Cat\u00e1logo de Tipos de Documento","text":"<code>tiposdocumento_id</code> Descripci\u00f3n C\u00f3digo <code>1</code> C\u00e9dula de ciudadan\u00eda CC <code>2</code> C\u00e9dula de extranjer\u00eda CE <code>3</code> NIT NIT <code>8</code> Pasaporte PA <code>181</code> Permiso Especial PEP"},{"location":"invictus_desmebolso/#origen-de-los-datos-captura-en-invictus","title":"Origen de los Datos (Captura en Invictus)","text":"Campo Origen en Invictus Momento de Captura <code>tiposdocumento_id</code> Secci\u00f3n 1: Datos Cliente \u2192 Campo \"Tipo de Identificaci\u00f3n\" Al inicio del proceso <code>identificacion</code> Secci\u00f3n 1: Datos Cliente \u2192 Campo \"N\u00famero de Identificaci\u00f3n\" Al inicio del proceso <code>guid</code> Retornado por Servicio 2 (Validaci\u00f3n OTP) o Servicio 3 (Reenv\u00edo OTP) Durante validaci\u00f3n OTP <code>id_linea_credito</code> Secci\u00f3n 2: Datos Cr\u00e9dito \u2192 L\u00ednea seleccionada (checkbox) Al seleccionar l\u00ednea <code>plazo_meses</code> Secci\u00f3n 2: Datos Cr\u00e9dito \u2192 Campo [Confirme Plazo] Al confirmar plazo <code>valor_total</code> Retornado por Servicio 4 (C\u00e1lculo Desembolso) Despu\u00e9s de calcular <code>valor_cobros</code> Retornado por Servicio 4 (C\u00e1lculo Desembolso) Despu\u00e9s de calcular <code>valor_a_pagar_cliente</code> Retornado por Servicio 4 (C\u00e1lculo Desembolso) Despu\u00e9s de calcular <code>plaza_empresa</code> Retornado por Servicio 4 (C\u00e1lculo Desembolso) Despu\u00e9s de calcular"},{"location":"invictus_desmebolso/#ejemplo-de-request","title":"Ejemplo de Request","text":"<pre><code>{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n  \"id_linea_credito\": 27375,\n  \"plazo_meses\": 4,\n  \"valor_total\": 500000,\n  \"valor_cobros\": 12050,\n  \"valor_a_pagar_cliente\": 487950,\n  \"plaza_empresa\": 50\n}\n</code></pre>"},{"location":"invictus_desmebolso/#response","title":"Response","text":""},{"location":"invictus_desmebolso/#estructura-de-respuesta-exitosa","title":"Estructura de Respuesta Exitosa","text":"<p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Status: <code>\"success\"</code></p> <pre><code>{\n  \"status\": \"success\",\n  \"datos\": {\n    \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n    \"mensaje\": \"Transacci\u00f3n exitosa. Desembolso realizado correctamente.\",\n    \"numero_desembolso\": \"DES-2025-00012345\",\n    \"nombre_cliente\": \"Fernando Osorio\",\n    \"identificacion\": \"88282828\",\n    \"linea_credito\": \"L\u00ednea Digital\",\n    \"valor_total\": 500000,\n    \"valor_cobros\": 12050,\n    \"valor_a_pagar_cliente\": 487950,\n    \"plazo_meses\": 4,\n    \"plaza_empresa\": 50,\n    \"fecha_desembolso\": \"2025-02-11 14:35:22\",\n    \"comprobante\": {\n      \"numero_comprobante\": \"COMP-2025-00012345\",\n      \"fecha_hora\": \"2025-02-11 14:35:22\",\n      \"concepto\": \"Desembolso de cr\u00e9dito\",\n      \"detalles_descuentos\": [\n        {\n          \"concepto\": \"IVA\",\n          \"valor\": 8000\n        },\n        {\n          \"concepto\": \"Seguro\",\n          \"valor\": 4000\n        },\n        {\n          \"concepto\": \"Comisi\u00f3n\",\n          \"valor\": 50\n        }\n      ]\n    },\n    \"instrucciones_invictus\": {\n      \"replicar_siga\": true,\n      \"afectar_caja\": true,\n      \"afectar_cartera\": true,\n      \"imprimir_colilla\": true,\n      \"afectar_contabilidad\": true\n    }\n  }\n}\n</code></pre>"},{"location":"invictus_desmebolso/#descripcion-de-campos-de-respuesta","title":"Descripci\u00f3n de Campos de Respuesta","text":"Campo Tipo Descripci\u00f3n <code>status</code> string Indicador del resultado: <code>\"success\"</code> <code>datos</code> object Objeto con toda la informaci\u00f3n del desembolso <code>datos.guid</code> string Identificador \u00fanico de la transacci\u00f3n (mismo del request) <code>datos.mensaje</code> string Mensaje de confirmaci\u00f3n del desembolso exitoso <code>datos.numero_desembolso</code> string N\u00famero \u00fanico del desembolso generado por TESEO <code>datos.nombre_cliente</code> string Nombre completo del cliente (confirmaci\u00f3n\u00f3n) <code>datos.identificacion</code> string N\u00famero de identificaci\u00f3n del cliente <code>datos.linea_credito</code> string Nombre de la l\u00ednea de cr\u00e9dito seleccionada <code>datos.valor_total</code> number Valor total solicitado por el cliente <code>datos.valor_cobros</code> number Suma de todos los descuentos/cobros aplicados <code>datos.valor_a_pagar_cliente</code> number Monto final a entregar f\u00edsicamente al cliente <code>datos.plazo_meses</code> integer Plazo en meses del cr\u00e9dito <code>datos.plaza_empresa</code> integer C\u00f3digo de la plaza/empresa donde se realiz\u00f3 <code>datos.fecha_desembolso</code> string Timestamp del desembolso (formato: YYYY-MM-DD HH:MM:SS) <code>datos.comprobante</code> object Informaci\u00f3n del comprobante generado <code>datos.comprobante.numero_comprobante</code> string N\u00famero \u00fanico del comprobante <code>datos.comprobante.fecha_hora</code> string Fecha y hora del comprobante <code>datos.comprobante.concepto</code> string Concepto del movimiento <code>datos.comprobante.detalles_descuentos</code> array Array con el desglose de descuentos <code>datos.instrucciones_invictus</code> object Flags que indican acciones que Invictus debe ejecutar <code>datos.instrucciones_invictus.replicar_siga</code> boolean Indica si debe replicar en SIGA y contabilidad <code>datos.instrucciones_invictus.afectar_caja</code> boolean Indica si debe afectar la caja de la fuerza de ventas <code>datos.instrucciones_invictus.afectar_cartera</code> boolean Indica si debe afectar la cartera de la fuerza de ventas <code>datos.instrucciones_invictus.imprimir_colilla</code> boolean Indica si debe imprimir colilla de transacci\u00f3n <code>datos.instrucciones_invictus.afectar_contabilidad</code> boolean Indica si debe afectar la contabilidad en Invictus"},{"location":"invictus_desmebolso/#validaciones-del-servicio","title":"Validaciones del Servicio","text":"<p>El servicio ejecuta las siguientes validaciones en orden secuencial:</p>"},{"location":"invictus_desmebolso/#nivel-1-validacion-de-autenticacion","title":"Nivel 1: Validaci\u00f3n de Autenticaci\u00f3n","text":"<p>Reglas: - Token debe estar presente en el header <code>Authorization</code> - Token debe tener formato v\u00e1lido: <code>Bearer {token}</code> - Token debe estar vigente (no expirado) - Token debe corresponder a un usuario autorizado</p> <p>Resultado: Token Inv\u00e1lido o Vencido</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>401 Unauthorized</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal ROJO: \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 Permanece en Secci\u00f3n 3: Realizar Desembolso - NO guarda informaci\u00f3n ni registra la transacci\u00f3n - Nota: Este token corresponde a la autenticaci\u00f3n del sistema Invictus con TESEO</p>"},{"location":"invictus_desmebolso/#nivel-2-validacion-de-campos-requeridos","title":"Nivel 2: Validaci\u00f3n de Campos Requeridos","text":"<p>Reglas: - Todos los campos del request son obligatorios - Campos deben tener el tipo de dato correcto - No se permiten valores vac\u00edos o nulos - <code>guid</code> debe ser un UUID v\u00e1lido - Valores num\u00e9ricos deben ser mayores a cero</p> <p>Respuesta en caso de error:</p> <pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo guid es obligatorio.\",\n    \"El campo valor_total es obligatorio.\",\n    \"El campo valor_a_pagar_cliente debe ser mayor a cero.\"\n  ]\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>400 Bad Request</code></p>"},{"location":"invictus_desmebolso/#nivel-3-validacion-de-transaccion-existente","title":"Nivel 3: Validaci\u00f3n de Transacci\u00f3n Existente","text":"<p>Proceso: 1. Se verifica que el <code>guid</code> proporcionado exista en el sistema TESEO 2. Se valida que corresponda a una transacci\u00f3n de desembolso v\u00e1lida 3. Se verifica que la transacci\u00f3n pertenezca al cliente identificado</p> <p>Resultado: Transacci\u00f3n No Encontrada o Inv\u00e1lida</p> <p>El GUID proporcionado no existe en el sistema o no corresponde a la identificaci\u00f3n del cliente.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o inv\u00e1lida.\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>404 Not Found</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal NARANJA: \"Transacci\u00f3n no encontrada o inv\u00e1lida\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 Permanece en Secci\u00f3n 3: Realizar Desembolso - NO guarda informaci\u00f3n ni registra la transacci\u00f3n</p>"},{"location":"invictus_desmebolso/#nivel-4-validacion-de-otp-previamente-confirmado","title":"Nivel 4: Validaci\u00f3n de OTP Previamente Confirmado","text":"<p>Proceso: 1. Se verifica que el OTP asociado al <code>guid</code> haya sido validado exitosamente 2. Se confirma que la validaci\u00f3n OTP est\u00e9 vigente (no haya expirado la sesi\u00f3n) 3. Se valida que no haya transcurrido m\u00e1s tiempo del permitido desde la validaci\u00f3n OTP</p> <p>Resultado: OTP No Validado o Sesi\u00f3n Expirada</p> <p>El OTP no fue validado previamente o la sesi\u00f3n de validaci\u00f3n ha expirado.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"otp_not_validated\",\n  \"mensaje\": \"Debe validar el c\u00f3digo OTP antes de ejecutar el desembolso.\",\n  \"tiempo_desde_validacion\": null\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal NARANJA: \"Debe validar el c\u00f3digo OTP antes de ejecutar el desembolso\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 Permanece en Secci\u00f3n 3: Realizar Desembolso - Usuario debe regresar a validar el OTP</p>"},{"location":"invictus_desmebolso/#nivel-5-validacion-de-credito-disponible","title":"Nivel 5: Validaci\u00f3n de Cr\u00e9dito Disponible","text":"<p>Proceso: 1. Se verifica el estado actual del cr\u00e9dito en TESEO 2. Se valida que el cr\u00e9dito no haya sido desembolsado previamente 3. Se confirma que el cr\u00e9dito sigue vigente (dentro de los 30 d\u00edas) 4. Se valida que el cupo est\u00e9 activo y sin bloqueos</p> <p>Resultado 5.1: Cr\u00e9dito Ya Desembolsado</p> <p>El cr\u00e9dito ya fue desembolsado en una transacci\u00f3n anterior.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"already_disbursed\",\n  \"mensaje\": \"Este cr\u00e9dito ya fue desembolsado anteriormente.\",\n  \"fecha_desembolso_anterior\": \"2025-02-10 10:15:30\",\n  \"numero_desembolso_anterior\": \"DES-2025-00012340\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal NARANJA: \"Este cr\u00e9dito ya fue desembolsado anteriormente el 2025-02-10\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 REGRESA a pantalla principal de Invictus - Proceso completo se REINICIA</p> <p>Resultado 5.2: Cr\u00e9dito No Disponible</p> <p>El cr\u00e9dito no est\u00e1 disponible por diferentes razones (vencido, bloqueado, cancelado).</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"credit_not_available\",\n  \"mensaje\": \"El cr\u00e9dito no est\u00e1 disponible para desembolso.\",\n  \"razon\": \"credito_vencido\",\n  \"detalles\": \"El cr\u00e9dito ha superado el plazo de 30 d\u00edas desde su aprobaci\u00f3n.\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal NARANJA: \"El cr\u00e9dito no est\u00e1 disponible para desembolso. [detalles]\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 REGRESA a pantalla principal de Invictus - Proceso completo se REINICIA</p> <p>Posibles valores de <code>razon</code>: - <code>credito_vencido</code>: Cr\u00e9dito super\u00f3 los 30 d\u00edas desde aprobaci\u00f3n - <code>cupo_bloqueado</code>: Cupo bloqueado por mora u otras razones - <code>cupo_cancelado</code>: Cupo fue cancelado - <code>cliente_fallecido</code>: Cliente registrado como fallecido - <code>sin_cupo</code>: Cliente no cuenta con cupo activo</p>"},{"location":"invictus_desmebolso/#nivel-6-validacion-de-coherencia-de-montos","title":"Nivel 6: Validaci\u00f3n de Coherencia de Montos","text":"<p>Proceso: 1. Se valida que <code>valor_total = valor_a_pagar_cliente + valor_cobros</code> 2. Se verifica que los montos coincidan con el c\u00e1lculo previo del Servicio 4 3. Se confirma que no haya manipulaci\u00f3n de valores</p> <p>Resultado: Montos Incoherentes</p> <p>Los valores enviados no son coherentes o no coinciden con el c\u00e1lculo previo.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Los montos enviados no son coherentes o no coinciden con el c\u00e1lculo previo.\",\n  \"errores\": [\n    \"El valor_total no coincide con la suma de valor_a_pagar_cliente + valor_cobros\",\n    \"Los valores no coinciden con el c\u00e1lculo registrado\"\n  ]\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>400 Bad Request</code></p>"},{"location":"invictus_desmebolso/#respuestas-de-error","title":"Respuestas de Error","text":""},{"location":"invictus_desmebolso/#error-1-token-de-autenticacion-invalido","title":"Error 1: Token de Autenticaci\u00f3n Inv\u00e1lido","text":"<p>C\u00f3digo HTTP: <code>401 Unauthorized</code></p> <p>Response:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre> <p>Comportamiento en Invictus: - Mostrar mensaje modal ROJO: \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 Permanece en Secci\u00f3n 3: Realizar Desembolso - NO guarda informaci\u00f3n ni registra la transacci\u00f3n - Nota: Este token corresponde a la autenticaci\u00f3n del sistema Invictus con TESEO</p>"},{"location":"invictus_desmebolso/#error-2-transaccion-no-encontrada","title":"Error 2: Transacci\u00f3n No Encontrada","text":"<p>C\u00f3digo HTTP: <code>404 Not Found</code></p> <p>Response:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o inv\u00e1lida.\"\n}\n</code></pre> <p>Comportamiento en Invictus: - Mostrar mensaje modal NARANJA: \"Transacci\u00f3n no encontrada o inv\u00e1lida\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 Permanece en Secci\u00f3n 3: Realizar Desembolso - NO guarda informaci\u00f3n ni registra la transacci\u00f3n</p>"},{"location":"invictus_desmebolso/#error-3-campos-requeridos-faltantes","title":"Error 3: Campos Requeridos Faltantes","text":"<p>C\u00f3digo HTTP: <code>400 Bad Request</code></p> <p>Response:</p> <pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo guid es obligatorio.\",\n    \"El campo valor_total es obligatorio.\"\n  ]\n}\n</code></pre>"},{"location":"invictus_desmebolso/#error-4-credito-ya-desembolsado","title":"Error 4: Cr\u00e9dito Ya Desembolsado","text":"<p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Response:</p> <pre><code>{\n  \"status\": \"already_disbursed\",\n  \"mensaje\": \"Este cr\u00e9dito ya fue desembolsado anteriormente.\",\n  \"fecha_desembolso_anterior\": \"2025-02-10 10:15:30\",\n  \"numero_desembolso_anterior\": \"DES-2025-00012340\"\n}\n</code></pre> <p>Comportamiento en Invictus: - Mostrar mensaje modal NARANJA: \"Este cr\u00e9dito ya fue desembolsado anteriormente el 2025-02-10\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 REGRESA a pantalla principal de Invictus - Proceso completo se REINICIA</p>"},{"location":"invictus_desmebolso/#error-5-otp-no-validado","title":"Error 5: OTP No Validado","text":"<p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Response:</p> <pre><code>{\n  \"status\": \"otp_not_validated\",\n  \"mensaje\": \"Debe validar el c\u00f3digo OTP antes de ejecutar el desembolso.\",\n  \"tiempo_desde_validacion\": null\n}\n</code></pre> <p>Comportamiento en Invictus: - Mostrar mensaje modal NARANJA: \"Debe validar el c\u00f3digo OTP antes de ejecutar el desembolso\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 Permanece en Secci\u00f3n 3: Realizar Desembolso - Usuario debe completar validaci\u00f3n OTP</p>"},{"location":"invictus_desmebolso/#error-6-credito-no-disponible","title":"Error 6: Cr\u00e9dito No Disponible","text":"<p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Response:</p> <pre><code>{\n  \"status\": \"credit_not_available\",\n  \"mensaje\": \"El cr\u00e9dito no est\u00e1 disponible para desembolso.\",\n  \"razon\": \"credito_vencido\",\n  \"detalles\": \"El cr\u00e9dito ha superado el plazo de 30 d\u00edas desde su aprobaci\u00f3n.\"\n}\n</code></pre> <p>Comportamiento en Invictus: - Mostrar mensaje modal NARANJA: \"El cr\u00e9dito no est\u00e1 disponible para desembolso. [detalles]\" - Bot\u00f3n [CERRAR] para cerrar el modal - Cerrar modal \u2192 REGRESA a pantalla principal de Invictus - Proceso completo se REINICIA</p>"},{"location":"invictus_desmebolso/#tabla-resumen-de-respuestas","title":"Tabla Resumen de Respuestas","text":"# Condici\u00f3n HTTP Code status Mensaje Comportamiento Invictus Reinicia Proceso 1 Desembolso exitoso 200 <code>success</code> \"Transacci\u00f3n exitosa...\" Modal verde, ejecuta acciones internas, regresa a inicio No 2 Token inv\u00e1lido/ausente 401 <code>error</code> \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\" Modal rojo, permanece en Secci\u00f3n 3 No 3 Transacci\u00f3n no encontrada 404 <code>error</code> \"Transacci\u00f3n no encontrada o inv\u00e1lida.\" Modal naranja, permanece en Secci\u00f3n 3 No 4 Campos faltantes 400 <code>error</code> Lista de campos obligatorios - No 5 Cr\u00e9dito ya desembolsado 200 <code>already_disbursed</code> \"Este cr\u00e9dito ya fue desembolsado...\" Modal naranja, regresa a inicio S\u00cd 6 OTP no validado 200 <code>otp_not_validated</code> \"Debe validar el c\u00f3digo OTP...\" Modal naranja, permanece en Secci\u00f3n 3 No 7 Cr\u00e9dito no disponible 200 <code>credit_not_available</code> \"El cr\u00e9dito no est\u00e1 disponible...\" Modal naranja, regresa a inicio S\u00cd 8 Montos incoherentes 400 <code>error</code> \"Los montos enviados no son coherentes...\" - No"},{"location":"invictus_desmebolso/#ejemplos-completos","title":"Ejemplos Completos","text":""},{"location":"invictus_desmebolso/#ejemplo-1-desembolso-exitoso","title":"\u2705 Ejemplo 1: Desembolso Exitoso","text":"<p>Request:</p> <pre><code>POST /api/proceso_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n  \"id_linea_credito\": 27375,\n  \"plazo_meses\": 4,\n  \"valor_total\": 500000,\n  \"valor_cobros\": 12050,\n  \"valor_a_pagar_cliente\": 487950,\n  \"plaza_empresa\": 50\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"success\",\n  \"datos\": {\n    \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n    \"mensaje\": \"Transacci\u00f3n exitosa. Desembolso realizado correctamente.\",\n    \"numero_desembolso\": \"DES-2025-00012345\",\n    \"nombre_cliente\": \"Fernando Osorio\",\n    \"identificacion\": \"88282828\",\n    \"linea_credito\": \"L\u00ednea Digital\",\n    \"valor_total\": 500000,\n    \"valor_cobros\": 12050,\n    \"valor_a_pagar_cliente\": 487950,\n    \"plazo_meses\": 4,\n    \"plaza_empresa\": 50,\n    \"fecha_desembolso\": \"2025-02-11 14:35:22\",\n    \"comprobante\": {\n      \"numero_comprobante\": \"COMP-2025-00012345\",\n      \"fecha_hora\": \"2025-02-11 14:35:22\",\n      \"concepto\": \"Desembolso de cr\u00e9dito\",\n      \"detalles_descuentos\": [\n        {\n          \"concepto\": \"IVA\",\n          \"valor\": 8000\n        },\n        {\n          \"concepto\": \"Seguro\",\n          \"valor\": 4000\n        },\n        {\n          \"concepto\": \"Comisi\u00f3n\",\n          \"valor\": 50\n        }\n      ]\n    },\n    \"instrucciones_invictus\": {\n      \"replicar_siga\": true,\n      \"afectar_caja\": true,\n      \"afectar_cartera\": true,\n      \"imprimir_colilla\": true,\n      \"afectar_contabilidad\": true\n    }\n  }\n}\n</code></pre> <p>Acci\u00f3n en Invictus:</p> <ol> <li> <p>Mostrar Modal Verde:</p> <ul> <li>Mensaje: \"Su transacci\u00f3n fue Exitosa debe entregar $487,950 al cliente.\"</li> <li>Bot\u00f3n [X] o [CERRAR]</li> </ul> </li> <li> <p>Al cerrar modal:</p> <ul> <li>REGRESA a pantalla principal de Invictus</li> </ul> </li> <li> <p>Invictus debe ejecutar (seg\u00fan HUE 006):</p> <ul> <li>\u2705 Replicar en SIGA y contabilidad</li> <li>\u2705 Afectar la caja de la fuerza de ventas (descontar $487,950)</li> <li>\u2705 Afectar la cartera de la fuerza de ventas</li> <li>\u2705 Registrarse en Base de datos de Invictus</li> <li>\u2705 Imprimir colilla de transacci\u00f3n con:<ul> <li>N\u00famero de desembolso</li> <li>N\u00famero de comprobante</li> <li>Cliente y documento</li> <li>L\u00ednea de cr\u00e9dito</li> <li>Valor total, cobros, y valor entregado</li> <li>Desglose de descuentos</li> <li>Fecha y hora</li> </ul> </li> <li>\u2705 Afectar la contabilidad en Invictus</li> </ul> </li> <li> <p>Entrega f\u00edsica:</p> <ul> <li>El asesor debe entregar $487,950 en efectivo al cliente</li> <li>Cliente firma la colilla impresa como constancia de recibo</li> </ul> </li> </ol>"},{"location":"invictus_desmebolso/#ejemplo-2-error-de-autenticacion","title":"\ud83d\udd34 Ejemplo 2: Error de Autenticaci\u00f3n","text":"<p>Request:</p> <pre><code>POST /api/proceso_desembolso\nAuthorization: Bearer token_invalido_expirado\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n  \"id_linea_credito\": 27375,\n  \"plazo_meses\": 4,\n  \"valor_total\": 500000,\n  \"valor_cobros\": 12050,\n  \"valor_a_pagar_cliente\": 487950,\n  \"plaza_empresa\": 50\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 401 Unauthorized\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal ROJO (Mockup 07) con texto: \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\" - Bot\u00f3n [CERRAR] - Al cerrar \u2192 PERMANECE en Secci\u00f3n 3: Realizar Desembolso - NO guarda informaci\u00f3n ni registra la transacci\u00f3n</p>"},{"location":"invictus_desmebolso/#ejemplo-3-transaccion-no-encontrada","title":"\ud83d\udfe0 Ejemplo 3: Transacci\u00f3n No Encontrada","text":"<p>Request:</p> <pre><code>POST /api/proceso_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"guid-invalido-no-existe\",\n  \"id_linea_credito\": 27375,\n  \"plazo_meses\": 4,\n  \"valor_total\": 500000,\n  \"valor_cobros\": 12050,\n  \"valor_a_pagar_cliente\": 487950,\n  \"plaza_empresa\": 50\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 404 Not Found\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o inv\u00e1lida.\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal NARANJA (Mockup 05) con texto: \"Transacci\u00f3n no encontrada o inv\u00e1lida\" - Bot\u00f3n [CERRAR] - Al cerrar \u2192 PERMANECE en Secci\u00f3n 3: Realizar Desembolso - NO guarda informaci\u00f3n ni registra la transacci\u00f3n</p>"},{"location":"invictus_desmebolso/#ejemplo-4-credito-ya-desembolsado","title":"\u26a0\ufe0f Ejemplo 4: Cr\u00e9dito Ya Desembolsado","text":"<p>Request:</p> <pre><code>POST /api/proceso_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n  \"id_linea_credito\": 27375,\n  \"plazo_meses\": 4,\n  \"valor_total\": 500000,\n  \"valor_cobros\": 12050,\n  \"valor_a_pagar_cliente\": 487950,\n  \"plaza_empresa\": 50\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"already_disbursed\",\n  \"mensaje\": \"Este cr\u00e9dito ya fue desembolsado anteriormente.\",\n  \"fecha_desembolso_anterior\": \"2025-02-10 10:15:30\",\n  \"numero_desembolso_anterior\": \"DES-2025-00012340\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal NARANJA con texto: \"Este cr\u00e9dito ya fue desembolsado anteriormente el 2025-02-10\" - Bot\u00f3n [CERRAR] - Al cerrar \u2192 REGRESA a pantalla principal de Invictus - Proceso completo se REINICIA desde el inicio</p>"},{"location":"invictus_desmebolso/#ejemplo-5-otp-no-validado","title":"\ud83d\udd10 Ejemplo 5: OTP No Validado","text":"<p>Request:</p> <pre><code>POST /api/proceso_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n  \"id_linea_credito\": 27375,\n  \"plazo_meses\": 4,\n  \"valor_total\": 500000,\n  \"valor_cobros\": 12050,\n  \"valor_a_pagar_cliente\": 487950,\n  \"plaza_empresa\": 50\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"otp_not_validated\",\n  \"mensaje\": \"Debe validar el c\u00f3digo OTP antes de ejecutar el desembolso.\",\n  \"tiempo_desde_validacion\": null\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal NARANJA con texto: \"Debe validar el c\u00f3digo OTP antes de ejecutar el desembolso\" - Bot\u00f3n [CERRAR] - Al cerrar \u2192 PERMANECE en Secci\u00f3n 3: Realizar Desembolso - Usuario debe regresar y completar la validaci\u00f3n OTP</p>"},{"location":"invictus_desmebolso/#ejemplo-6-credito-no-disponible-vencido","title":"\u274c Ejemplo 6: Cr\u00e9dito No Disponible (Vencido)","text":"<p>Request:</p> <pre><code>POST /api/proceso_desembolso\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\",\n  \"guid\": \"b2c3d4e5-f6g7-8901-bcde-fg2345678901\",\n  \"id_linea_credito\": 27375,\n  \"plazo_meses\": 4,\n  \"valor_total\": 500000,\n  \"valor_cobros\": 12050,\n  \"valor_a_pagar_cliente\": 487950,\n  \"plaza_empresa\": 50\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"credit_not_available\",\n  \"mensaje\": \"El cr\u00e9dito no est\u00e1 disponible para desembolso.\",\n  \"razon\": \"credito_vencido\",\n  \"detalles\": \"El cr\u00e9dito ha superado el plazo de 30 d\u00edas desde su aprobaci\u00f3n.\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Modal NARANJA con texto: \"El cr\u00e9dito no est\u00e1 disponible para desembolso. El cr\u00e9dito ha superado el plazo de 30 d\u00edas desde su aprobaci\u00f3n.\" - Bot\u00f3n [CERRAR] - Al cerrar \u2192 REGRESA a pantalla principal de Invictus - Proceso completo se REINICIA desde el inicio</p>"},{"location":"invictus_desmebolso/#integracion-en-invictus","title":"Integraci\u00f3n en Invictus","text":""},{"location":"invictus_desmebolso/#seccion-3-realizar-desembolso","title":"Secci\u00f3n 3: Realizar Desembolso","text":"<p>Esta secci\u00f3n se habilita despu\u00e9s de ejecutar exitosamente el Servicio 4: C\u00e1lculo de Desembolso.</p> <p>Campos Mostrados (Solo Lectura):</p> Campo Descripci\u00f3n Ejemplo Valor Total Valor total del cr\u00e9dito solicitado $500,000 Valor Cobros Suma de todos los descuentos aplicados $12,050 Plazo (Meses) Plazo seleccionado del cr\u00e9dito 4 meses Valor a Pagar al Cliente Monto final a entregar f\u00edsicamente $487,950 <p>Nota importante: El campo \"Valor a Pagar al Cliente\" debe estar destacado visualmente (negrilla, tama\u00f1o mayor, color diferente) ya que es el monto exacto que el asesor debe entregar en efectivo.</p> <p>Botones Habilitados:</p> <ol> <li> <p>[Cancelar]</p> <ul> <li>Acci\u00f3n: Cancela la transacci\u00f3n completa</li> <li>Comportamiento: Lleva a la fuerza de ventas a la pantalla inicial de Invictus</li> <li>Resultado: NO guarda informaci\u00f3n, NO registra transacci\u00f3n</li> <li>Confirmaci\u00f3n: Se recomienda mostrar confirmaci\u00f3n antes de cancelar</li> </ul> </li> <li> <p>[Limpiar]</p> <ul> <li>Acci\u00f3n: Limpia la informaci\u00f3n de todas las secciones</li> <li>Comportamiento: Limpia campos de Secci\u00f3n 1, 2 y 3</li> <li>Resultado: Permanece en la opci\u00f3n de desembolso</li> <li>Confirmaci\u00f3n: Se recomienda mostrar confirmaci\u00f3n antes de limpiar</li> </ul> </li> <li> <p>[Pagar]</p> <ul> <li>Acci\u00f3n: Ejecuta el desembolso final</li> <li>Comportamiento: Consume este servicio (Ejecuci\u00f3n de Desembolso)</li> <li>Estado: HABILITADO solo si todos los pasos anteriores fueron exitosos</li> <li>Confirmaci\u00f3n: Se recomienda mostrar confirmaci\u00f3n antes de ejecutar</li> </ul> </li> </ol>"},{"location":"invictus_desmebolso/#flujo-de-interaccion-con-boton-pagar","title":"Flujo de Interacci\u00f3n con Bot\u00f3n [Pagar]","text":"<pre><code>1. Usuario presiona [Pagar]\n   \u2193\n2. [OPCIONAL] Sistema muestra confirmaci\u00f3n:\n   \"\u00bfEst\u00e1 seguro de ejecutar el desembolso de $487,950?\"\n   [Cancelar] [Confirmar]\n   \u2193\n3. Usuario confirma\n   \u2193\n4. Sistema muestra indicador de carga\n   \"Procesando desembolso...\"\n   \u2193\n5. Invictus consume servicio de Ejecuci\u00f3n de Desembolso\n   \u2193\n6. Seg\u00fan respuesta:\n\n   a) success \u2192 Modal verde con valor a entregar\n                Ejecuta acciones internas (SIGA, caja, contabilidad, impresi\u00f3n)\n                Regresa a pantalla inicial\n\n   b) error (401) \u2192 Modal rojo de autenticaci\u00f3n\n                    Permanece en Secci\u00f3n 3\n\n   c) error (404) \u2192 Modal naranja de transacci\u00f3n\n                    Permanece en Secci\u00f3n 3\n\n   d) already_disbursed \u2192 Modal naranja\n                          Regresa a pantalla inicial\n\n   e) credit_not_available \u2192 Modal naranja\n                             Regresa a pantalla inicial\n\n   f) otp_not_validated \u2192 Modal naranja\n                          Permanece en Secci\u00f3n 3\n</code></pre>"},{"location":"invictus_desmebolso/#acciones-internas-de-invictus-despues-de-respuesta-exitosa","title":"Acciones Internas de Invictus (Despu\u00e9s de Respuesta Exitosa)","text":"<p>Seg\u00fan la HUE 006, cuando la respuesta es <code>success</code>, Invictus debe ejecutar autom\u00e1ticamente:</p>"},{"location":"invictus_desmebolso/#1-replicar-en-siga-y-contabilidad","title":"1. Replicar en SIGA y Contabilidad","text":"<ul> <li>Enviar la transacci\u00f3n al sistema SIGA</li> <li>Registrar los movimientos contables correspondientes</li> <li>Asegurar sincronizaci\u00f3n entre sistemas</li> </ul>"},{"location":"invictus_desmebolso/#2-afectar-la-caja-de-la-fuerza-de-ventas","title":"2. Afectar la Caja de la Fuerza de Ventas","text":"<ul> <li>Descontar del efectivo disponible: <code>valor_a_pagar_cliente</code> ($487,950)</li> <li>Actualizar el saldo de caja del punto de venta</li> <li>Registrar el movimiento de egreso de efectivo</li> <li>Fecha y hora del movimiento</li> </ul>"},{"location":"invictus_desmebolso/#3-afectar-la-cartera-de-la-fuerza-de-ventas","title":"3. Afectar la Cartera de la Fuerza de Ventas","text":"<ul> <li>Registrar el desembolso en la cartera del vendedor</li> <li>Actualizar estad\u00edsticas y m\u00e9tricas del vendedor</li> <li>Registrar la operaci\u00f3n crediticia</li> </ul>"},{"location":"invictus_desmebolso/#4-imprimir-colilla-de-transaccion","title":"4. Imprimir Colilla de Transacci\u00f3n","text":"<p>Informaci\u00f3n que debe contener la colilla:</p>"},{"location":"invictus_desmebolso_validacion/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Validaci\u00f3n de Cr\u00e9dito Vigente para Desembolso","text":""},{"location":"invictus_desmebolso_validacion/#descripcion-del-servicio","title":"Descripci\u00f3n del Servicio","text":"<p>Este servicio permite validar si una persona cuenta con un cr\u00e9dito aprobado y vigente para realizar el desembolso en puntos autorizados (Gana). Verifica el estado del cr\u00e9dito, su vigencia (m\u00e1ximo 1 mes desde la aprobaci\u00f3n), valida m\u00faltiples condiciones del cliente y del cupo, y genera el c\u00f3digo OTP necesario para el proceso de desembolso.</p>"},{"location":"invictus_desmebolso_validacion/#flujo-del-proceso","title":"Flujo del Proceso","text":""},{"location":"invictus_desmebolso_validacion/#contexto-general","title":"Contexto General","text":"<p>Este servicio forma parte del flujo de \"Desembolso de Cr\u00e9ditos Credintegral\" en Invictus y se ejecuta cuando el vendedor (Seller) ingresa a la opci\u00f3n:</p> <pre><code>Invictus \u2192 Bancos \u2192 Desembolso de cr\u00e9ditos Credintegral\n</code></pre>"},{"location":"invictus_desmebolso_validacion/#secuencia-del-flujo","title":"Secuencia del Flujo","text":"<pre><code>1. Vendedor ingresa datos del cliente en la secci\u00f3n \"1. Datos cliente\"\n   - Selecciona Tipo de Identificaci\u00f3n (lista desplegable)\n   - Ingresa N\u00famero de Identificaci\u00f3n\n   \u2193\n2. Vendedor presiona bot\u00f3n [Buscar]\n   - Invictus valida campos obligatorios (Front-end)\n   \u2193\n3. Sistema consume servicio de Validaci\u00f3n de Cr\u00e9dito Vigente (TESEO)\n   \u2193\n4. Servicio ejecuta validaciones en orden secuencial:\n\n   a) Validaci\u00f3n de Autenticaci\u00f3n\n      \u2193 Token inv\u00e1lido/vencido? \u2192 S\u00cd: retorna \"error\" (401)\n\n   b) Validaci\u00f3n de Campos Requeridos\n      \u2193 Campos vac\u00edos/inv\u00e1lidos? \u2192 S\u00cd: retorna \"error\" (400)\n\n   c) B\u00fasqueda de Cliente/Cupo\n      \u2193 Cliente no existe? \u2192 S\u00cd: retorna \"no_credit\"\n      \u2193 Cupo cancelado? \u2192 S\u00cd: retorna \"no_credit\"\n      \u2193 Cupo expirado (sin uso 6 meses)? \u2192 S\u00cd: retorna \"no_credit\"\n      \u2193 Cliente fallecido? \u2192 S\u00cd: retorna \"no_credit\"\n\n   d) Validaci\u00f3n de Firmas de Documentos\n      \u2193 Documentos pendientes de firma? \u2192 S\u00cd: retorna \"pending_signatures\"\n\n   e) Validaci\u00f3n de Estado de Mora\n      \u2193 Cupo en mora temporal? \u2192 S\u00cd: retorna \"credit_blocked\"\n      \u2193 Cupo en mora definitivo? \u2192 S\u00cd: retorna \"credit_blocked\"\n\n   f) Validaci\u00f3n de Vigencia del Cr\u00e9dito\n      \u2193 Cr\u00e9dito vencido (&gt;30 d\u00edas)? \u2192 S\u00cd: actualiza a \"vencido\" y retorna \"expired\"\n\n   g) Validaci\u00f3n de Estado de Desembolso\n      \u2193 Cr\u00e9dito ya desembolsado? \u2192 S\u00cd: retorna \"already_disbursed\"\n\n   h) Cr\u00e9dito Vigente y Disponible\n      \u2193 Todas las validaciones OK \u2192 Genera OTP y retorna \"success\"\n   \u2193\n5. Si status = \"success\":\n   - Sistema muestra pantalla de Autenticaci\u00f3n Cliente\n   - Muestra medios de env\u00edo de OTP (WhatsApp, SMS, Email) ofuscados\n   - Presenta 6 casillas para ingreso de c\u00f3digo OTP\n   - Muestra indicador de tiempo de vigencia (parametrizable, m\u00edn. 1 minuto)\n   - Habilita opci\u00f3n de reenv\u00edo (inhabilitada por defecto)\n   - Botones: [Limpiar], [Cancelar], [Confirmar]\n</code></pre>"},{"location":"invictus_desmebolso_validacion/#informacion-tecnica","title":"Informaci\u00f3n T\u00e9cnica","text":""},{"location":"invictus_desmebolso_validacion/#tipo-de-servicio","title":"Tipo de Servicio","text":"<p>M\u00e9todo HTTP: <code>POST</code></p>"},{"location":"invictus_desmebolso_validacion/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"Ambiente URL Pruebas (QA) <code>https://testing-sygma.com/api/validacion_credito_vigente</code> Producci\u00f3n <code>POR DEFINIR</code>"},{"location":"invictus_desmebolso_validacion/#headers-requeridos","title":"Headers Requeridos","text":"Nombre Valor Requerido Descripci\u00f3n <code>Authorization</code> <code>Bearer {token}</code> \u2705 Token de autenticaci\u00f3n JWT <code>Accept</code> <code>application/json</code> \u2705 Formato de respuesta esperado <code>Content-Type</code> <code>application/json</code> \u2705 Formato del cuerpo de la petici\u00f3n"},{"location":"invictus_desmebolso_validacion/#obtencion-del-token","title":"\ud83d\udd10 Obtenci\u00f3n del Token","text":""},{"location":"invictus_desmebolso_validacion/#request","title":"Request","text":""},{"location":"invictus_desmebolso_validacion/#cuerpo-de-la-solicitud","title":"Cuerpo de la Solicitud","text":"<p>La solicitud debe enviarse en formato raw JSON con los siguientes campos:</p>"},{"location":"invictus_desmebolso_validacion/#campos-obligatorios","title":"Campos Obligatorios","text":"Campo Tipo Longitud Requerido Descripci\u00f3n <code>tiposdocumento_id</code> string - \u2705 ID del tipo de documento seg\u00fan cat\u00e1logo <code>identificacion</code> string variable \u2705 N\u00famero de identificaci\u00f3n del usuario"},{"location":"invictus_desmebolso_validacion/#catalogo-de-tipos-de-documento","title":"Cat\u00e1logo de Tipos de Documento","text":"<code>tiposdocumento_id</code> Descripci\u00f3n C\u00f3digo <code>1</code> C\u00e9dula de ciudadan\u00eda CC <code>2</code> C\u00e9dula de extranjer\u00eda CE <code>3</code> NIT NIT <code>8</code> Pasaporte PA <code>181</code> Permiso Especial PEP <p>Nota importante: El campo en Invictus debe mostrar la descripci\u00f3n del tipo de documento, pero enviar el ID correspondiente en la integraci\u00f3n con TESEO.</p>"},{"location":"invictus_desmebolso_validacion/#ejemplo-de-request","title":"Ejemplo de Request","text":"<pre><code>{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\"\n}\n</code></pre>"},{"location":"invictus_desmebolso_validacion/#validaciones-del-servicio","title":"Validaciones del Servicio","text":"<p>El servicio ejecuta las siguientes validaciones en orden secuencial:</p>"},{"location":"invictus_desmebolso_validacion/#nivel-1-validacion-de-front-end-invictus","title":"Nivel 1: Validaci\u00f3n de Front-end (Invictus)","text":"<p>Reglas (antes de consumir el servicio): - Si el bot\u00f3n [Buscar] es presionado sin informaci\u00f3n v\u00e1lida en uno o ambos campos obligatorios - Invictus debe resaltar en color rojo el nombre del campo con informaci\u00f3n faltante, incompleta o inv\u00e1lida - NO debe permitir continuar hasta que la informaci\u00f3n sea corregida - En este punto NO se debe consumir ning\u00fan servicio de TESEO</p>"},{"location":"invictus_desmebolso_validacion/#nivel-2-validacion-de-autenticacion","title":"Nivel 2: Validaci\u00f3n de Autenticaci\u00f3n","text":"<p>Reglas: - Token debe estar presente en el header <code>Authorization</code> - Token debe tener formato v\u00e1lido: <code>Bearer {token}</code> - Token debe estar vigente (no expirado) - Token debe corresponder a un usuario autorizado</p> <p>Resultado: Token Inv\u00e1lido o Vencido</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>401 Unauthorized</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal: \"Token de autorizaci\u00f3n Inv\u00e1lido o asusnete\" (fondo rojo) - El mensaje debe poder cerrarse con X - Dejar al usuario en la pantalla de la opci\u00f3n sin borrar informaci\u00f3n seleccionada o ingresada - Nota: Este token corresponde a la autenticaci\u00f3n del sistema Invictus con el sistema TESEO</p>"},{"location":"invictus_desmebolso_validacion/#nivel-3-validacion-de-campos-requeridos","title":"Nivel 3: Validaci\u00f3n de Campos Requeridos","text":"<p>Reglas: - Campo <code>tiposdocumento_id</code> es obligatorio - Campo <code>identificacion</code> es obligatorio - Ambos campos deben ser tipo string - No se permiten valores vac\u00edos o nulos</p> <p>Respuesta en caso de error:</p> <pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo {nombre_campo} es obligatorio.\"\n  ]\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>400 Bad Request</code></p>"},{"location":"invictus_desmebolso_validacion/#nivel-4-busqueda-y-validacion-de-clientecupo","title":"Nivel 4: B\u00fasqueda y Validaci\u00f3n de Cliente/Cupo","text":"<p>Proceso: 1. Se consulta en el sistema TESEO si existe un cliente registrado 2. B\u00fasqueda por: <code>tiposdocumento_id</code> + <code>identificacion</code> 3. Se valida el estado del cupo asociado</p> <p>Resultado: Cliente No Cuenta con Cupo Registrado</p> <p>Este status se aplica cuando el cliente presenta cualquiera de las siguientes situaciones:</p>"},{"location":"invictus_desmebolso_validacion/#41-cliente-no-existe","title":"4.1 Cliente No Existe","text":"<p>El sistema no encontr\u00f3 ning\u00fan cliente con la identificaci\u00f3n proporcionada.</p>"},{"location":"invictus_desmebolso_validacion/#42-cupo-cancelado","title":"4.2 Cupo Cancelado","text":"<p>El cupo del cliente fue cancelado por pol\u00edticas internas.</p>"},{"location":"invictus_desmebolso_validacion/#43-cupo-expirado","title":"4.3 Cupo Expirado","text":"<p>Cliente sin uso del cupo en los \u00faltimos 6 meses y que no tenga deuda activa.</p>"},{"location":"invictus_desmebolso_validacion/#44-cliente-fallecido","title":"4.4 Cliente Fallecido","text":"<p>El cliente est\u00e1 registrado como fallecido en el sistema.</p> <p>Respuesta unificada para todos los casos anteriores:</p> <pre><code>{\n  \"status\": \"no_credit\",\n  \"mensaje\": \"No se encontr\u00f3 un cr\u00e9dito aprobado para esta identificaci\u00f3n.\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal: \"Cliente no cuenta con un cupo registrado\" (fondo naranja/amarillo) - El mensaje debe poder cerrarse con X - Dejar al usuario en la pantalla de la opci\u00f3n sin borrar informaci\u00f3n seleccionada o ingresada</p> <p>Acciones del sistema: - Ninguna acci\u00f3n adicional - El usuario debe solicitar un nuevo cr\u00e9dito</p>"},{"location":"invictus_desmebolso_validacion/#nivel-5-validacion-de-firmas-de-documentos","title":"Nivel 5: Validaci\u00f3n de Firmas de Documentos","text":"<p>Si el cliente existe y tiene cupo activo, se verifica que haya completado el proceso de firmas.</p> <p>Resultado: Documentos Pendientes de Firma</p> <p>El cliente tiene documentos pendientes de firma que deben completarse antes del desembolso.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"pending_signatures\",\n  \"mensaje\": \"El cliente debe completar el proceso de firmas de documentos antes de realizar el desembolso.\",\n  \"link_firmas\": \"/proceso-firmas\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal: \"Dir\u00edjase al Proceso de Firmas para realizar el desembolso\" (fondo verde/turquesa) - El mensaje debe mostrar un link clicable para llevar al usuario al proceso de firmas en Invictus - El mensaje debe poder cerrarse con X - El sistema NO debe continuar con la transacci\u00f3n de desembolso - Dejar al usuario en la pantalla de la opci\u00f3n sin borrar informaci\u00f3n seleccionada o ingresada</p> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>pending_signatures</code>) - <code>mensaje</code>: Descripci\u00f3n para el usuario final - <code>link_firmas</code>: Ruta o URL al proceso de firmas en Invictus</p>"},{"location":"invictus_desmebolso_validacion/#nivel-6-validacion-de-estado-de-mora","title":"Nivel 6: Validaci\u00f3n de Estado de Mora","text":"<p>Si el cliente tiene documentos firmados, se verifica que no tenga bloqueos por mora.</p> <p>Resultado: Cupo Bloqueado por Mora</p> <p>El cupo se encuentra bloqueado por situaci\u00f3n de mora y no puede ser utilizado.</p> <p>Tipos de bloqueo: - Bloqueo - Mora \u2013 Temporal: Bloqueo reversible por pago - Bloqueo - Mora \u2013 Definitivo: Bloqueo permanente</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"credit_blocked\",\n  \"mensaje\": \"No puede utilizar el cupo. El cliente se encuentra en Mora.\",\n  \"tipo_bloqueo\": \"mora_temporal\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Comportamiento en Invictus: - Mostrar mensaje modal: \"No puede utilizar el cupo El cliente se encuentra en Mora\" (fondo verde oscuro) - El mensaje debe poder cerrarse con X - NO debe permitir continuar con la transacci\u00f3n de desembolso - Dejar al usuario en la pantalla de la opci\u00f3n sin borrar informaci\u00f3n seleccionada o ingresada</p> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>credit_blocked</code>) - <code>mensaje</code>: Descripci\u00f3n para el usuario final - <code>tipo_bloqueo</code>: Tipo de bloqueo aplicado (<code>mora_temporal</code> | <code>mora_definitivo</code>)</p>"},{"location":"invictus_desmebolso_validacion/#nivel-7-validacion-de-vigencia-del-credito","title":"Nivel 7: Validaci\u00f3n de Vigencia del Cr\u00e9dito","text":"<p>Si el cliente no tiene bloqueos, se verifica que el cr\u00e9dito no haya superado el plazo de vigencia.</p> <p>Regla de negocio: - Vigencia m\u00e1xima: 30 d\u00edas naturales desde la fecha de aprobaci\u00f3n - F\u00f3rmula: <code>d\u00edas_transcurridos = fecha_actual - fecha_aprobacion</code> - Si <code>d\u00edas_transcurridos &gt; 30</code> \u2192 Cr\u00e9dito vencido</p> <p>Resultado: Cr\u00e9dito Vencido (&gt;30 d\u00edas)</p> <p>El cr\u00e9dito super\u00f3 el plazo m\u00e1ximo permitido para realizar el desembolso.</p> <p>Acciones autom\u00e1ticas del sistema: 1. Actualiza el estado del cr\u00e9dito a <code>\"vencido\"</code> en base de datos 2. Registra la fecha de vencimiento 3. El cr\u00e9dito ya no puede ser utilizado</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"expired\",\n  \"mensaje\": \"El cr\u00e9dito aprobado ha vencido. El plazo de 1 mes para el retiro ha expirado, puedes volver a solicitar un credito.\",\n  \"dias_transcurridos\": 56\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>expired</code>) - <code>mensaje</code>: Descripci\u00f3n para el usuario final - <code>dias_transcurridos</code>: N\u00famero de d\u00edas desde la aprobaci\u00f3n (informativo)</p>"},{"location":"invictus_desmebolso_validacion/#nivel-8-validacion-de-estado-de-desembolso","title":"Nivel 8: Validaci\u00f3n de Estado de Desembolso","text":"<p>Si el cr\u00e9dito est\u00e1 vigente, se verifica que no haya sido desembolsado previamente.</p> <p>Resultado: Cr\u00e9dito Ya Desembolsado</p> <p>El cr\u00e9dito ya fue retirado anteriormente y no puede ser utilizado nuevamente.</p> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"already_disbursed\",\n  \"mensaje\": \"Este cr\u00e9dito ya fue desembolsado anteriormente.\",\n  \"fecha_desembolso\": \"2025-09-25\"\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>already_disbursed</code>) - <code>mensaje</code>: Descripci\u00f3n para el usuario final - <code>fecha_desembolso</code>: Fecha en que se realiz\u00f3 el desembolso previo (formato: YYYY-MM-DD)</p>"},{"location":"invictus_desmebolso_validacion/#nivel-9-credito-vigente-y-disponible","title":"Nivel 9: Cr\u00e9dito Vigente y Disponible \u2705","text":"<p>Condiciones cumplidas: - \u2705 Existe cr\u00e9dito aprobado - \u2705 Cliente existe y tiene cupo activo - \u2705 Documentos firmados - \u2705 Sin bloqueos por mora - \u2705 Cr\u00e9dito est\u00e1 vigente (menos de 30 d\u00edas desde aprobaci\u00f3n) - \u2705 Cr\u00e9dito NO ha sido desembolsado</p> <p>Acciones del sistema: 1. Genera c\u00f3digo OTP \u00fanico (6 d\u00edgitos, num\u00e9rico o alfanum\u00e9rico) 2. Almacena el GUID de la transacci\u00f3n (UUID v4) 3. Prepara informaci\u00f3n de canales de env\u00edo (ofuscada) 4. Habilita el proceso de autenticaci\u00f3n OTP</p> <p>Respuesta exitosa:</p> <pre><code>{\n  \"status\": \"success\",\n  \"datos\": {\n     \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n     \"codigo_otp\": 202023,\n     \"canales_envio\": {\n        \"whatsapp\": \"314 *** ** 96\",\n        \"sms\": \"314 *** ** 96\",\n        \"email\": \"ars****th@gmail.com\"\n     },\n    \"informacion_personal\": {\n      \"whatsapp\": \"3146795096\",\n      \"sms\": \"3146795096\",\n      \"email\": \"arsenalth@gmail.com\"\n    },\n     \"mensaje\": \"Cr\u00e9dito validado con exito!!!.\"\n  }\n}\n</code></pre> <p>C\u00f3digo HTTP: <code>200 OK</code></p> <p>Campos de respuesta: - <code>status</code>: Indicador del resultado (<code>success</code>) - <code>datos.guid</code>: Identificador \u00fanico de la transacci\u00f3n (UUID v4) - <code>datos.codigo_otp</code>: C\u00f3digo para validaci\u00f3n (6 d\u00edgitos, num\u00e9rico o alfanum\u00e9rico) - <code>datos.canales_envio</code>: Objeto con canales disponibles (informaci\u00f3n ofuscada por TESEO)     - <code>whatsapp</code>: N\u00famero ofuscado de WhatsApp     - <code>sms</code>: N\u00famero ofuscado de SMS     - <code>email</code>: Email ofuscado - <code>datos.mensaje</code>: Mensaje de confirmaci\u00f3n</p> <p>Comportamiento en Invictus - Pantalla de Autenticaci\u00f3n Cliente:</p> <p>Invictus debe mostrar una ventana modal con la siguiente informaci\u00f3n:</p> <p>1. T\u00edtulo de la ventana (parametrizable):</p> <pre><code>\"Ingrese el c\u00f3digo OTP de verificaci\u00f3n suministrado por el cliente \npara la autenticaci\u00f3n y env\u00edo de documentos de cr\u00e9dito\"\n</code></pre> <p>2. Medios de env\u00edo: Mostrar la informaci\u00f3n ofuscada que responde el servicio: - WhatsApp 314 *** ** 96 - SMS 314 *** ** 96 - Email ars****th@gmail.com</p> <p>3. Casillas para ingresar c\u00f3digo OTP: - 6 casillas individuales (parametrizable en longitud m\u00e1xima) - C\u00f3digo puede ser totalmente num\u00e9rico o alfanum\u00e9rico - Debe permitir escribirse y editarse en cualquier momento antes de seleccionar cualquier opci\u00f3n - Cada casilla debe aceptar un solo car\u00e1cter</p> <p>4. Opci\u00f3n de reenv\u00edo del c\u00f3digo OTP: - Bot\u00f3n o enlace: \"Reenviar c\u00f3digo OTP\" - Inhabilitado por defecto al abrir la pantalla - Se habilita despu\u00e9s de que expire el temporizador</p> <p>5. Indicador de tiempo de vigencia del OTP: - Temporizador de cuenta regresiva - Tiempo parametrizable en Invictus - Tiempo m\u00ednimo: 1 minuto (60 segundos) - Ejemplo: \"El tiempo de vigencia del OTP es de 3:00 minutos\" - Al llegar a 0:00, habilita la opci\u00f3n de reenv\u00edo</p> <p>6. Botones de acci\u00f3n:</p> <p>[Limpiar]: - Limpia la informaci\u00f3n ingresada o seleccionada en todos los campos de la pantalla - Permanece en la pantalla de autenticaci\u00f3n - No consume servicios</p> <p>[Cancelar]: - Bot\u00f3n seleccionable en cualquier momento - Cancela el env\u00edo del OTP - Vuelve a la pantalla anterior (Datos Cliente) - No consume ning\u00fan servicio - No borra informaci\u00f3n de la solicitud en curso - Permite volver a iniciar la autenticaci\u00f3n por OTP</p> <p>[Confirmar]: - Al seleccionarlo, consume el servicio de Validaci\u00f3n OTP (siguiente servicio en el flujo) - Inhabilitado si no hay informaci\u00f3n en todas las casillas OTP - Se habilita solo cuando las 6 casillas est\u00e9n completas</p>"},{"location":"invictus_desmebolso_validacion/#response-tabla-resumen-de-respuestas","title":"Response - Tabla Resumen de Respuestas","text":"# Condici\u00f3n HTTP Code status Mensaje UI Invictus Acciones Sistema 1 Validaci\u00f3n Front-end fallida - - Resalta campos en rojo No consume servicio 2 Token ausente o inv\u00e1lido 401 <code>error</code> Modal rojo: \"Token inv\u00e1lido o ausente\" Ninguna 3 Campos requeridos faltantes 400 <code>error</code> - Ninguna 4 Cliente no existe / Cupo inactivo 200 <code>no_credit</code> Modal naranja: \"Cliente no cuenta con cupo\" Ninguna 5 Documentos pendientes de firma 200 <code>pending_signatures</code> Modal verde: Link a proceso firmas Bloquea desembolso 6 Cupo bloqueado por mora 200 <code>credit_blocked</code> Modal verde oscuro: \"Cliente en Mora\" Bloquea desembolso 7 Cr\u00e9dito vencido (&gt;30 d\u00edas) 200 <code>expired</code> - Actualiza estado a \"vencido\" 8 Cr\u00e9dito ya desembolsado 200 <code>already_disbursed</code> - Ninguna 9 Cr\u00e9dito vigente y disponible 200 <code>success</code> Modal autenticaci\u00f3n OTP Habilita siguiente paso"},{"location":"invictus_desmebolso_validacion/#ejemplos-de-respuestas-completas","title":"Ejemplos de Respuestas Completas","text":""},{"location":"invictus_desmebolso_validacion/#caso-1-validacion-exitosa-credito-vigente-cupo-activo","title":"\u2705 Caso 1: Validaci\u00f3n Exitosa - Cr\u00e9dito Vigente (CUPO ACTIVO)","text":"<p>Request:</p> <pre><code>POST /api/validacion_credito_vigente\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"success\",\n  \"datos\": {\n     \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n     \"codigo_otp\": 202023,\n     \"canales_envio\": {\n        \"whatsapp\": \"314 *** ** 96\",\n        \"sms\": \"314 *** ** 96\",\n        \"email\": \"ars****th@gmail.com\"\n     },\n    \"informacion_personal\": {\n        \"whatsapp\": \"3146795096\",\n        \"sms\": \"3146795096\",\n        \"email\": \"arsenalth@gmail.com\"\n    },\n     \"mensaje\": \"Cr\u00e9dito validado con exito!!!.\"\n  }\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Mostrar ventana modal de \"Autenticaci\u00f3n Cliente\" - Desplegar casillas para ingreso de OTP - Mostrar temporizador de vigencia - Botones: [Limpiar], [Cancelar], [Confirmar (inhabilitado)]</p>"},{"location":"invictus_desmebolso_validacion/#caso-2-cliente-sin-cupo-registrado","title":"\u274c Caso 2: Cliente Sin Cupo Registrado","text":"<p>Request:</p> <pre><code>POST /api/validacion_credito_vigente\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"12345678\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"no_credit\",\n  \"mensaje\": \"No se encontr\u00f3 un cr\u00e9dito aprobado para esta identificaci\u00f3n.\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Mostrar modal naranja: \"Cliente no cuenta con un cupo registrado\" - Bot\u00f3n X para cerrar - Mantener informaci\u00f3n en pantalla</p>"},{"location":"invictus_desmebolso_validacion/#caso-3-token-de-autenticacion-invalido","title":"\ud83d\udd10 Caso 3: Token de Autenticaci\u00f3n Inv\u00e1lido","text":"<p>Request:</p> <pre><code>POST /api/validacion_credito_vigente\nAuthorization: Bearer token_invalido_o_expirado\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 401 Unauthorized\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Mostrar modal rojo: \"Token de autorizaci\u00f3n Inv\u00e1lido o asusnete\" - Bot\u00f3n X para cerrar - Mantener informaci\u00f3n en pantalla</p>"},{"location":"invictus_desmebolso_validacion/#caso-4-documentos-pendientes-de-firma","title":"\ud83d\udcdd Caso 4: Documentos Pendientes de Firma","text":"<p>Request:</p> <pre><code>POST /api/validacion_credito_vigente\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"55667788\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"pending_signatures\",\n  \"mensaje\": \"El cliente debe completar el proceso de firmas de documentos antes de realizar el desembolso.\",\n  \"link_firmas\": \"/proceso-firmas\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Mostrar modal verde/turquesa: \"Dir\u00edjase al Proceso de Firmas para realizar el desembolso\" - Incluir link clicable al proceso de firmas - Bot\u00f3n X para cerrar - Bloquear continuaci\u00f3n del desembolso</p>"},{"location":"invictus_desmebolso_validacion/#caso-5-cupo-bloqueado-por-mora","title":"\u26a0\ufe0f Caso 5: Cupo Bloqueado por Mora","text":"<p>Request:</p> <pre><code>POST /api/validacion_credito_vigente\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"99887766\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"credit_blocked\",\n  \"mensaje\": \"No puede utilizar el cupo. El cliente se encuentra en Mora.\",\n  \"tipo_bloqueo\": \"mora_temporal\"\n}\n</code></pre> <p>Acci\u00f3n en Invictus: - Mostrar modal verde oscuro: \"No puede utilizar el cupo El cliente se encuentra en Mora\" - Bot\u00f3n X para cerrar - Bloquear continuaci\u00f3n del desembolso - Mantener informaci\u00f3n en pantalla</p>"},{"location":"invictus_desmebolso_validacion/#caso-6-credito-vencido","title":"\u23f0 Caso 6: Cr\u00e9dito Vencido","text":"<p>Request:</p> <pre><code>POST /api/validacion_credito_vigente\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"33445566\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"expired\",\n  \"mensaje\": \"El cr\u00e9dito aprobado ha vencido. El plazo de 1 mes para el retiro ha expirado, puedes volver a solicitar un credito.\",\n  \"dias_transcurridos\": 56\n}\n</code></pre>"},{"location":"invictus_desmebolso_validacion/#caso-7-credito-ya-desembolsado","title":"\ud83d\udd04 Caso 7: Cr\u00e9dito Ya Desembolsado","text":"<p>Request:</p> <pre><code>POST /api/validacion_credito_vigente\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"55443322\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"status\": \"already_disbursed\",\n  \"mensaje\": \"Este cr\u00e9dito ya fue desembolsado anteriormente.\",\n  \"fecha_desembolso\": \"2025-09-25\"\n}\n</code></pre>"},{"location":"invictus_desmebolso_validacion/#caso-8-error-de-validacion-campo-faltante","title":"\ud83d\udeab Caso 8: Error de Validaci\u00f3n - Campo Faltante","text":"<p>Request:</p> <pre><code>POST /api/validacion_credito_vigente\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n\n{\n  \"tiposdocumento_id\": \"1\"\n}\n</code></pre> <p>Response:</p> <pre><code>HTTP/1.1 400 Bad Request\nContent-Type: application/json\n\n{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo identificacion es obligatorio.\"\n  ]\n}\n</code></pre>"},{"location":"invictus_desmebolso_validacion/#integracion-en-invictus","title":"Integraci\u00f3n en Invictus","text":""},{"location":"invictus_desmebolso_validacion/#pantalla-desembolso-de-creditos-credintegral","title":"Pantalla: Desembolso de Cr\u00e9ditos Credintegral","text":"<p>La pantalla est\u00e1 dividida en 3 secciones:</p>"},{"location":"invictus_desmebolso_validacion/#seccion-1-datos-cliente","title":"Secci\u00f3n 1: Datos Cliente","text":"<p>Campos:</p> <ol> <li> <p>Tipo de Identificaci\u00f3n (obligatorio)</p> <ul> <li>Tipo: Lista desplegable (dropdown)</li> <li>Valores disponibles:<ul> <li>C\u00e9dula de ciudadan\u00eda (CC)</li> <li>C\u00e9dula de extranjer\u00eda (CE)</li> <li>NIT</li> <li>Pasaporte (PA)</li> <li>Permiso Especial (PEP)</li> </ul> </li> <li>El campo debe mostrar la descripci\u00f3n, pero enviar el ID en la integraci\u00f3n</li> <li>Ejemplo: Usuario ve \"C\u00e9dula de ciudadan\u00eda (CC)\", pero se env\u00eda <code>\"1\"</code></li> </ul> </li> <li> <p>N\u00famero de Identificaci\u00f3n (obligatorio)</p> <ul> <li>Tipo: Campo num\u00e9rico</li> <li>Validaci\u00f3n: Solo n\u00fameros</li> </ul> </li> </ol> <p>Botones:</p> <ul> <li>[Limpiar]: Limpia la informaci\u00f3n de los campos ingresados o seleccionados</li> <li>[Buscar]: Consume el servicio de TESEO con los datos ingresados (este servicio)</li> </ul> <p>Nota importante: La validaci\u00f3n correcta del cliente es prerrequisito para la selecci\u00f3n de una l\u00ednea de cr\u00e9dito para desembolso.</p>"},{"location":"invictus_desmebolso_validacion/#seccion-2-datos-credito","title":"Secci\u00f3n 2: Datos Cr\u00e9dito","text":"<p>Se muestra solo si el servicio retorna <code>status: \"success\"</code>: - L\u00ednea de cr\u00e9dito - Valor cupo - Total entregado - Total disponible - Plazo (meses) - Ingresos plazo - Confirme plazo - Ingresos valor - Confirme valor - Bot\u00f3n \"Selecci\u00f3n\"</p>"},{"location":"invictus_desmebolso_validacion/#seccion-3-realizar-desembolso","title":"Secci\u00f3n 3: Realizar Desembolso","text":"<p>Se habilita solo despu\u00e9s de validaci\u00f3n exitosa y autenticaci\u00f3n OTP: - Valor Total - Valor Cobros - Plaza Empresa - Valor a Pagar al Cliente</p> <p>Botones de acci\u00f3n: - Cancelar: Cancela la transacci\u00f3n y retorna a pantalla inicial (sin guardar) - Limpiar: Limpia todos los campos de las 3 secciones - Pagar: Se habilita solo despu\u00e9s de validar OTP, ejecuta el desembolso (inhabilitado por defecto)</p>"},{"location":"invictus_desmebolso_validacion/#notas-importantes","title":"Notas Importantes","text":""},{"location":"invictus_desmebolso_validacion/#reglas-de-negocio","title":"\ud83d\udccb Reglas de Negocio","text":"<ul> <li>\u2705 El mensaje SMS informativo al cliente se env\u00eda al momento de la aprobaci\u00f3n del cr\u00e9dito, indicando que debe acercarse a un punto Gana</li> <li>\u2705 Este servicio NO env\u00eda notificaciones, solo valida el estado del cr\u00e9dito</li> <li>\u2705 La vigencia de 30 d\u00edas es parametrizable en la configuraci\u00f3n del sistema</li> <li>\u2705 Para cr\u00e9ditos vencidos, el cliente debe realizar una nueva solicitud completa</li> <li>\u2705 El c\u00f3digo OTP generado ser\u00e1 utilizado en el siguiente servicio de la cadena</li> <li>\u2705 Invictus debe soportar c\u00f3digos OTP totalmente num\u00e9ricos o alfanum\u00e9ricos</li> <li>\u2705 La longitud de las casillas OTP debe ser parametrizable (por defecto 6 d\u00edgitos)</li> <li>\u2705 El tiempo del temporizador de OTP debe ser parametrizable con m\u00ednimo de 1 minuto</li> </ul>"},{"location":"invictus_desmebolso_validacion/#flujo-completo-de-desembolso","title":"\ud83d\udd04 Flujo Completo de Desembolso","text":"<pre><code>Servicio 1: Validaci\u00f3n de Cr\u00e9dito Vigente (este documento)\n     \u2193 (retorna guid + codigo_otp + canales_envio si success)\nPantalla de Autenticaci\u00f3n Cliente (en Invictus)\n     \u2193 (usuario ingresa c\u00f3digo OTP)\nServicio 2: Validaci\u00f3n de OTP\n     \u2193 (confirma OTP ingresado por el cliente)\n[Opcional] Servicio 3: Servicio de Reenv\u00edo de OTP\n     \u2193 (si el temporizador expira)\nDesembolso Final\n</code></pre>"},{"location":"invictus_desmebolso_validacion/#configuracion-del-ambiente","title":"\u2699\ufe0f Configuraci\u00f3n del Ambiente","text":"<p>Ambiente de Pruebas (QA): - Base URL: <code>https://testing-sygma.com/api</code> - Endpoint Login: <code>/login</code> - Endpoint Validaci\u00f3n: <code>/validacion_credito_vigente</code> - Usuario: <code>ws_invictus</code> - Password: <code>g3z0OmJP7?@(*</code></p>"},{"location":"invictus_desmebolso_validacion/#especificaciones-de-ui-para-mensajes-modales","title":"\ud83c\udfa8 Especificaciones de UI para Mensajes Modales","text":"Status Response Color Modal T\u00edtulo/Mensaje Icono Acciones <code>error</code> (401) Rojo \"Token de autorizaci\u00f3n Inv\u00e1lido o asusnete\" \u26a0\ufe0f Cerrar (X) <code>no_credit</code> Naranja/Amarillo \"Cliente no cuenta con un cupo registrado\" \u2139\ufe0f Cerrar (X) <code>pending_signatures</code> Verde/Turquesa \"Dir\u00edjase al Proceso de Firmas...\" \ud83d\udcdd Link + Cerrar <code>credit_blocked</code> Verde Oscuro \"No puede utilizar el cupo...\" \ud83d\udd12 Cerrar (X) <code>success</code> Azul \"Autenticaci\u00f3n Cliente\" \u2713 Formulario OTP"},{"location":"invictus_desmebolso_validacion/#seguridad","title":"\ud83d\udd12 Seguridad","text":"<ul> <li>Todos los endpoints requieren autenticaci\u00f3n via Bearer Token</li> <li>Los tokens tienen tiempo de expiraci\u00f3n</li> <li>Se recomienda implementar retry logic para renovaci\u00f3n de token</li> <li>Los datos sensibles no deben ser almacenados en logs</li> <li>La informaci\u00f3n de canales de env\u00edo (tel\u00e9fono, email) debe llegar ofuscada desde TESEO</li> <li>Invictus solo debe mostrar la informaci\u00f3n ofuscada, no debe intentar des-ofuscarla</li> </ul>"},{"location":"invictus_desmebolso_validacion/#monitoreo-y-logs","title":"\ud83d\udcca Monitoreo y Logs","text":"<p>Se recomienda registrar: - Timestamp de cada petici\u00f3n - Identificaci\u00f3n del usuario consultado (encriptada) - Status de respuesta - Tiempo de respuesta del servicio - Errores y excepciones - Intentos fallidos de autenticaci\u00f3n</p>"},{"location":"invictus_desmebolso_validacion/#glosario","title":"Glosario","text":"T\u00e9rmino Definici\u00f3n TESEO Sistema backend que gestiona los cr\u00e9ditos de Credintegral Invictus Sistema frontend utilizado por vendedores (Sellers) en puntos Gana OTP One-Time Password - C\u00f3digo de un solo uso para validaci\u00f3n GUID Globally Unique Identifier - Identificador \u00fanico de transacci\u00f3n Seller Vendedor autorizado en punto Gana para realizar desembolsos Desembolso Entrega f\u00edsica del dinero del cr\u00e9dito al cliente Cupo Monto de cr\u00e9dito aprobado para el cliente Mora Estado de atraso en el pago de obligaciones crediticias Ofuscaci\u00f3n T\u00e9cnica de ocultar parcialmente informaci\u00f3n sensible (ej: 314 *** ** 96) Parametrizable Valor configurable en el sistema sin necesidad de cambiar c\u00f3digo"},{"location":"invictus_notificacion/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Notificaci\u00f3n por Canal","text":""},{"location":"invictus_notificacion/#descripcion-del-servicio","title":"\ud83d\udcc4 Descripci\u00f3n del Servicio","text":"<p>Servicio para enviar notificaciones al/los canales seleccionados del cliente usando datos ya registrados (celular/email). Cada canal se activa con 1 (enviar) o 0 (ignorar). Ejemplo: <code>sms=1</code>, <code>email=1</code>, <code>whatsapp=0</code> \u2192 se env\u00eda por SMS y Email.</p> <p>Nota: Solo se permite enviar una sola vez a los canales seleccionados, en caso de reenviar se debe de consumir el servicio de Reenvio OTP</p>"},{"location":"invictus_notificacion/#tipo-de-servicio","title":"\ud83d\ude80 Tipo de Servicio","text":"<p><code>POST</code></p>"},{"location":"invictus_notificacion/#url-de-integracion","title":"\ud83d\udd17 URL de Integraci\u00f3n","text":"<ul> <li>Ambiente de Pruebas: <code>https://testing-sygma.com/api/notificacion_canal</code> </li> <li>Producci\u00f3n: <code>POR DEFINIR</code></li> </ul>"},{"location":"invictus_notificacion/#headers-requeridos","title":"\ud83d\udcc9 Headers Requeridos","text":"Nombre Valor Requerido Authorization Bearer <code>{token}</code> \u2705 Accept application/json \u2705 Content-Type application/json \u2705 <p>\ud83d\udd10 Nota: El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n.</p>"},{"location":"invictus_notificacion/#campos-obligatorios","title":"\ud83d\udd38 Campos Obligatorios","text":"<p>Los siguientes campos son requeridos para procesar correctamente la notificaci\u00f3n:</p> <ul> <li><code>guid</code></li> <li><code>sms</code></li> <li><code>email</code></li> <li><code>whatsapp</code></li> </ul>"},{"location":"invictus_notificacion/#cuerpo-de-la-solicitud-json","title":"\ud83d\udd22 Cuerpo de la Solicitud (JSON)","text":"<ul> <li>Identificaci\u00f3n del destinatario (uno de):</li> <li><code>guid</code></li> <li>Selecci\u00f3n de canales (enteros 0/1):</li> <li><code>sms</code>, <code>email</code>, <code>whatsapp</code> <p>Debe haber al menos uno en <code>1</code>.</p> </li> </ul>"},{"location":"invictus_notificacion/#reglas-rapidas","title":"\ud83c\udf9b\ufe0f Reglas r\u00e1pidas","text":"<ul> <li><code>sms=1</code> \u2192 requiere celular registrado.  </li> <li><code>whatsapp=1</code> \u2192 usa celular registrado.  </li> <li><code>email=1</code> \u2192 requiere email registrado.  </li> </ul>"},{"location":"invictus_notificacion/#ejemplo-de-body","title":"\ud83d\udce6 Ejemplo de Body","text":"<pre><code>{\n  \"guid\": \"68406a6a2d9aa64766060ee2\",\n  \"sms\": 1,\n  \"email\": 1,\n  \"whatsapp\": 0\n}\n</code></pre>"},{"location":"invictus_notificacion/#tabla-de-canales","title":"\ud83d\udcca Tabla de Canales","text":"Campo Tipo Valores Usa dato guardado <code>sms</code> int 0 / 1 <code>celular</code> <code>email</code> int 0 / 1 <code>email</code> <code>whatsapp</code> int 0 / 1 <code>celular</code>"},{"location":"invictus_notificacion/#respuestas-exitosa","title":"\u2705 Respuestas Exitosa","text":"<pre><code>{\n  \"status\": \"success\",\n  \"mensaje\": \"Notificaciones Envidados con Exito.\",\n  \"canales_enviados\": [\"sms\", \"email\"],\n  \"guid\": \"2yu2yg33i3iuy3i\"\n}\n</code></pre>"},{"location":"invictus_notificacion/#error-de-validacion","title":"\u2757 Error de validaci\u00f3n","text":"<pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"Debes seleccionar almenos un canal SMS , Email o Whatsapp\"\n  ]\n}\n</code></pre>"},{"location":"invictus_notificacion/#ejemplo-de-error-por-token-ausente-o-invalido","title":"\u2757 Ejemplo de Error por Token Ausente o Inv\u00e1lido","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\"\n}\n</code></pre>"},{"location":"invictus_notificacion/#ejemplo-de-error","title":"\u2757 Ejemplo de Error","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o no v\u00e1lida para reenv\u00edo\"\n}\n</code></pre>"},{"location":"invictus_originacion_import/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Importaci\u00f3n de Datos Originaci\u00f3n","text":""},{"location":"invictus_originacion_import/#descripcion-del-servicio","title":"\ud83d\udcc4 Descripci\u00f3n del Servicio","text":"<p>Este servicio permite recibir y validar la informaci\u00f3n proveniente de Invictus, con el objetivo de crear un usuario y retornar una respuesta de registro en el sistema TESEO.</p>"},{"location":"invictus_originacion_import/#tipo-de-servicio","title":"\ud83d\ude80 Tipo de Servicio","text":"<p><code>POST</code></p>"},{"location":"invictus_originacion_import/#url-de-integracion","title":"\ud83d\udd17 URL de Integraci\u00f3n","text":"<ul> <li>Ambiente de Pruebas: <code>https://testing-sygma.com/api/ori_invictus</code> </li> <li>Producci\u00f3n: <code>POR DEFINIR</code></li> </ul>"},{"location":"invictus_originacion_import/#headers-requeridos","title":"\ud83d\udcc9 Headers Requeridos","text":"Nombre Valor Requerido Authorization Bearer <code>{token}</code> \u2705 Accept application/json \u2705 Content-Type application/json \u2705 <p>\ud83d\udd10 Nota: El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n (ver pesta\u00f1a Token), usando el usuario y contrase\u00f1a asignados por la entidad.</p>"},{"location":"invictus_originacion_import/#cuerpo-de-la-solicitud-json","title":"\ud83d\udd22 Cuerpo de la Solicitud (JSON)","text":"<p>La solicitud debe enviarse en formato <code>raw</code> JSON con los campos dentro de la clave <code>datos</code>.</p>"},{"location":"invictus_originacion_import/#campos-obligatorios","title":"\ud83d\udd38 Campos Obligatorios","text":"<p>Los siguientes campos son requeridos para procesar correctamente la solicitud:</p> <ul> <li><code>tiposdocumento_id</code></li> <li><code>identificacion</code></li> <li><code>fecha_expedicion</code></li> <li><code>codigo_expedicion</code></li> <li><code>primer_nombre</code></li> <li><code>segundo_nombre</code></li> <li><code>primer_apellido</code></li> <li><code>segundo_apellido</code></li> <li><code>fecha_nacimiento</code></li> <li><code>email</code></li> <li><code>celular</code></li> <li><code>nombre_red</code></li> <li><code>oficina</code></li> <li><code>nombre_oficina</code></li> <li><code>usuario_transaccion</code></li> <li><code>nombre_usuario_transaccion</code></li> </ul>"},{"location":"invictus_originacion_import/#valores-permitidos","title":"\ud83d\udd38 Valores Permitidos","text":""},{"location":"invictus_originacion_import/#tiposdocumento_id-tipo-de-documento","title":"<code>tiposdocumento_id</code> (Tipo de Documento)","text":"ID Descripci\u00f3n 1 C\u00e9dula de ciudadan\u00eda (CC) 2 C\u00e9dula de extranjer\u00eda (CE) 3 NIT 8 Pasaporte (PA) 181 Permiso Especial (PEP)"},{"location":"invictus_originacion_import/#ejemplo-de-body","title":"\ud83d\udce6 Ejemplo de Body","text":"<pre><code>{\n  \"datos\": {\n    \"tiposdocumento_id\": \"1\",\n    \"identificacion\": \"88282828\",\n    \"fecha_expedicion\": \"1984-07-12\",\n    \"codigo_expedicion\": \"27001\",\n    \"primer_nombre\": \"MATURANA\",\n    \"segundo_nombre\": \"MARTINEZ\",\n    \"primer_apellido\": \"MARIO\",\n    \"segundo_apellido\": \"MARIO\",\n    \"fecha_nacimiento\": \"1988-05-15\",\n    \"email\": \"PRUEBA@GMAIL.COM\",\n    \"celular\": \"3016795090\",\n    \"nombre_red\": \"PRUEBA DEL SERVICIO\",\n    \"oficina\": \"OFICINA NRO 1\",\n    \"nombre_oficina\": \"OFICINA NRO 1 - LAURELES\",\n    \"usuario_transaccion\": \"ANDRES FELIPE PRUEBA\",\n    \"nombre_usuario_transaccion\": \"ANDRES FELIPE PRUEBA\"\n  }\n}\n\n</code></pre>"},{"location":"invictus_originacion_import/#validaciones","title":"Validaciones","text":"Regla Condici\u00f3n HTTP <code>status</code> <code>message</code> 1. Cr\u00e9dito existente y datos coinciden Existe cr\u00e9dito y correo/celular coinciden 200 success \"Datos coinciden. Contin\u00faa el flujo.\" 2. Conflicto de identidad Correo o celular ya existen pero con otra c\u00e9dula 409 blocked \"El {correo|celular} ya est\u00e1 registrado para otra identificaci\u00f3n.\" 3. Rechazo reciente (&lt;30 d\u00edas) \u00daltima solicitud rechazada hace &lt;30 d\u00edas 423 blocked \"Te faltan {dias_restantes} d\u00eda(s) para volver a solicitar.\" 4. Aprobada pendiente de firma Existe solicitud aprobada sin firma 409 action_required \"Tienes una solicitud aprobada. Completa el proceso de firma.\" 5. KYC pendiente Estado requiere verificaci\u00f3n de identidad 202 action_required \"Requiere verificaci\u00f3n de identidad.\""},{"location":"invictus_originacion_import/#respuesta-exitosa","title":"\u2705 Respuesta Exitosa","text":"<pre><code>{\n  \"status\": \"success\",\n  \"datos\": {\n    \"guid\": \"2yu2yg33i3iuy3i\",\n    \"mensaje\": \"Registro exitoso - Se ha enviado un correo electornico y mensaje de texto al usuario para su validaci\u00f3n\"\n  }\n}\n\n</code></pre>"},{"location":"invictus_originacion_import/#conflicto-de-identidad","title":"\u2757 Conflicto de identidad","text":"<pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El correo ya est\u00e1 registrado para otra identificaci\u00f3n.\"\n  ]\n}\n</code></pre>"},{"location":"invictus_originacion_import/#rechazo-reciente-30-dias","title":"\u2757 Rechazo reciente (&lt;30 d\u00edas)","text":"<pre><code>\n{\n  \"status\": \"error\",\n  \"errors\": [\n    \"Te faltan 12 d\u00eda(s) para volver a realizar la solicitud\"\n  ]\n}\n</code></pre>"},{"location":"invictus_originacion_import/#ejemplo-de-error-por-campo-faltante","title":"\u2757 Ejemplo de Error por Campo Faltante","text":"<pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo identificacion es obligatorio\"\n  ]\n}\n</code></pre>"},{"location":"invictus_originacion_import/#ejemplo-de-error-por-token-ausente-o-invalido","title":"\u2757 Ejemplo de Error por Token Ausente o Inv\u00e1lido","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\"\n}\n</code></pre>"},{"location":"invictus_originacion_import/#aprobada-pendiente-de-firma","title":"\u2705 Aprobada pendiente de firma","text":"<pre><code>{\n  \"status\": \"success\",\n  \"datos\": {\n    \"mensaje\": \"Tienes una solicitud aprobada. Completa el proceso de firma.\"\n  }\n}\n\n</code></pre>"},{"location":"invictus_originacion_import/#kyc-pendiente","title":"\u2705 KYC pendiente","text":"<pre><code>{\n  \"status\": \"success\",\n  \"datos\": {\n    \"mensaje\": \"Requiere verificaci\u00f3n de identidad. Se te acaba de enviar un mensaje a los diferentes canales SMS - EMAIL y WHATSAPP\"\n  }\n}\n\n</code></pre>"},{"location":"invictus_reenviar_validacion/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Reenv\u00edo de C\u00f3digo OTP","text":""},{"location":"invictus_reenviar_validacion/#descripcion-del-servicio","title":"\ud83d\udcc4 Descripci\u00f3n del Servicio","text":"<p>Este servicio permite **reenviar el c\u00f3digo OTP ** a un usuario que ya cuenta con una transacci\u00f3n activa. Se debe autenticar usando un token v\u00e1lido y proporcionar el ID de la transacci\u00f3n.</p> <p>Cada transacci\u00f3n cuenta con un maximo de 3 reenvios de ser asi, el sistema mostrara su mensaje de error y tendra que volver a iniciar el proceso.</p>"},{"location":"invictus_reenviar_validacion/#tipo-de-servicio","title":"\ud83d\ude80 Tipo de Servicio","text":"<p><code>POST</code></p>"},{"location":"invictus_reenviar_validacion/#url-de-integracion","title":"\ud83d\udd17 URL de Integraci\u00f3n","text":"<ul> <li>Ambiente de Pruebas: <code>https://testing-sygma.com/api/reenviar_otp</code> </li> <li>Producci\u00f3n: <code>POR DEFINIR</code></li> </ul>"},{"location":"invictus_reenviar_validacion/#headers-requeridos","title":"\ud83d\udcc9 Headers Requeridos","text":"Nombre Valor Requerido Authorization Bearer <code>{token}</code> \u2705 Accept application/json \u2705 Content-Type application/json \u2705 <p>\ud83d\udd10 Nota: El token se obtiene desde el m\u00f3dulo de autenticaci\u00f3n (ver pesta\u00f1a Token) usando las credenciales asignadas por la entidad.</p>"},{"location":"invictus_reenviar_validacion/#cuerpo-de-la-solicitud-json","title":"\ud83d\udd22 Cuerpo de la Solicitud (JSON)","text":"<p>Debe enviarse un objeto JSON con el identificador de la transacci\u00f3n.</p>"},{"location":"invictus_reenviar_validacion/#campos-obligatorios","title":"\ud83d\udd38 Campos Obligatorios","text":"<ul> <li><code>guid</code>: ID \u00fanico de la transacci\u00f3n al cual se debe asociar el reenv\u00edo del OTP.</li> </ul>"},{"location":"invictus_reenviar_validacion/#ejemplo-de-body","title":"\ud83d\udce6 Ejemplo de Body","text":"<pre><code>{\n  \"guid\": \"2yu2yg33i3iuy3i\"\n}\n</code></pre>"},{"location":"invictus_reenviar_validacion/#respuesta-exitosa","title":"\u2705 Respuesta Exitosa","text":"<pre><code>{\n  \"status\": \"success\",\n  \"mensaje\": \"OTP reenviado exitosamente al canal registrado\"\n}\n\n</code></pre>"},{"location":"invictus_reenviar_validacion/#ejemplo-de-error","title":"\u2757 Ejemplo de Error","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o no v\u00e1lida para reenv\u00edo\"\n}\n\n</code></pre>"},{"location":"invictus_reenviar_validacion/#error-de-autenticacion","title":"\u2757  Error de Autenticaci\u00f3n","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\"\n}\n</code></pre>"},{"location":"invictus_reenviar_validacion/#limite-de-envio-solo-se-permite-enviar-maximo-3-veces-el-servicio","title":"\u2757 Limite de envio (Solo se permite enviar maximo 3 veces el servicio)","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"L\u00edmite de env\u00edo alcanzado.\"\n}\n</code></pre>"},{"location":"invictus_validacion/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Validaci\u00f3n de OTP + Evaluaci\u00f3n Experian","text":""},{"location":"invictus_validacion/#descripcion-del-servicio","title":"\ud83d\udcc4 Descripci\u00f3n del Servicio","text":"<p>Este servicio permite validar un c\u00f3digo OTP (One Time Password) asociado a una transacci\u00f3n. Una vez validado el OTP, el sistema extrae autom\u00e1ticamente la informaci\u00f3n del cliente con base en el <code>guid</code> y realiza una evaluaci\u00f3n en Experian (centrales de riesgo) para determinar si el cliente es aprobado o rechazado.</p>"},{"location":"invictus_validacion/#tipo-de-servicio","title":"\ud83d\ude80 Tipo de Servicio","text":"<p><code>POST</code></p>"},{"location":"invictus_validacion/#url-de-integracion","title":"\ud83d\udd17 URL de Integraci\u00f3n","text":"<ul> <li>Ambiente de Pruebas: <code>https://testing-sygma.com/api/validar_otp</code> </li> <li>Producci\u00f3n: <code>POR DEFINIR</code></li> </ul>"},{"location":"invictus_validacion/#headers-requeridos","title":"\ud83d\udcc9 Headers Requeridos","text":"Nombre Valor Requerido Authorization Bearer <code>{token}</code> \u2705 Accept application/json \u2705 Content-Type application/json \u2705 <p>\ud83d\udd10 Nota: El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n (ver secci\u00f3n Token).</p>"},{"location":"invictus_validacion/#cuerpo-de-la-solicitud-json","title":"\ud83d\udd22 Cuerpo de la Solicitud (JSON)","text":""},{"location":"invictus_validacion/#campos-obligatorios","title":"\ud83d\udd38 Campos Obligatorios","text":"<ul> <li><code>otp</code>: C\u00f3digo OTP recibido por el cliente.</li> <li><code>guid</code>: ID \u00fanico de la transacci\u00f3n (internamente vinculado al cliente).</li> </ul> <p>\u26a0\ufe0f Nota: No es necesario enviar el n\u00famero de documento, ya que el sistema lo obtiene autom\u00e1ticamente con el <code>guid</code>.</p>"},{"location":"invictus_validacion/#ejemplo-de-body","title":"\ud83d\udce6 Ejemplo de Body","text":"<pre><code>{\n  \"otp\": \"462019\",\n  \"guid\": \"68406a6a2d9aa64766060ee2\"\n}\n</code></pre>"},{"location":"invictus_validacion/#primera-validacion","title":"Primera Validacion","text":"<p>Consultar Listas Negras y Blancas Consideraciones: </p> <ol> <li>Listas negras, en caso de estar de inmediato se entrega la respuesta de RECHAZADO.</li> <li>Listas Blancas, en caso de estar de inmediato se marca como aprobado y no hay necesidad de consultar Experiam.</li> <li>Si no esta en ninguna de las listas, sigue el flujo sin problema </li> </ol>"},{"location":"invictus_validacion/#respuesta-exitosa-lista-negra","title":"\u2757 Respuesta Exitosa Lista Negra","text":"<pre><code>{\n  \"status\": \"success\",\n  \"mensaje\": \"OTP v\u00e1lido.\",\n  \"experian_status\": null,\n  \"detalle\": \"Solicitud rechazada.\"\n}\n\n</code></pre>"},{"location":"invictus_validacion/#respuesta-exitosa-lista-blanca","title":"\u2705 Respuesta Exitosa Lista Blanca","text":"<pre><code>{\n  \"status\": \"success\",\n  \"mensaje\": \"OTP v\u00e1lido.\",\n  \"experian_status\": null,\n  \"detalle\": \"El usuario tiene buen perfil crediticio.\"\n}\n\n</code></pre>"},{"location":"invictus_validacion/#decision-de-expiriam-estados-y-flujos","title":"\ud83e\udde9 Decisi\u00f3n de Expiriam (Estados y Flujos)","text":"<p>El proceso de originaci\u00f3n consume una decisi\u00f3n de Expiriam y TESEO act\u00faa seg\u00fan el estado recibido. Estados posibles (valor devuelto en la respuesta exitosa): APROBADO \u00b7 RECHAZADO \u00b7 REQUIERE_VERIFICACION \u00b7 SOLICITUD_CON_ERROR</p>"},{"location":"invictus_validacion/#tabla-de-estados","title":"\ud83d\udcca Tabla de estados","text":"Estado Significado breve Acci\u00f3n TESEO APROBADO Cumple todas las pol\u00edticas de cr\u00e9dito Enviar SMS/correo al usuario informando aprobaci\u00f3n. Dirigir al punto Gana para firma. RECHAZADO No cumple pol\u00edticas Registrar rechazo. Bloquear nueva solicitud por 30 d\u00edas. A los 30 d\u00edas sin cambios \u2192 caducado* REQUIERE_VERIFICACION Cumple pol\u00edticas, pero Expiriam exige validaci\u00f3n de identidad (alerta) Enviar OTP y enlace de verificaci\u00f3n provisto por Expiriam. Esperar resultado (webhook o polling). SOLICITUD_CON_ERROR Error t\u00e9cnico o inconsistencias en la petici\u00f3n a Expiriam Registrar error, NO enviar OTP. Devolver detalle en errors."},{"location":"invictus_validacion/#flujo-detallado-por-estado","title":"\ud83d\udd01 Flujo detallado por estado","text":"<ul> <li>APROBADO</li> <li>TESEO marca la solicitud como aprobada despues de la respuesta dada.</li> <li>Env\u00eda notificaciones (SMS/correo) al usuario informadole que su credito ha sido aprobado.</li> <li>Al ser aprobado el sistema entrega tres parametros adicionales que son linea_credito,  valor_aprobado y linea_credito_id, donde se le informa al usuario cuanto fue el monto aprobado y la linea de credito.</li> <li> <p>El campo linea_credito_id es el identificador de la linea de credito se le reporto.</p> </li> <li> <p>RECHAZADO</p> </li> <li>TESEO guarda el rechazo y bloquea re-solicitud por 30 d\u00edas.</li> <li>Si el usuario reintenta antes, responder \u201cdebe esperar 30 d\u00edas\u201d.</li> <li> <p>Transcurridos 30 d\u00edas sin novedades, la solicitud pasa a caducado (interno).</p> </li> <li> <p>EN_VERIFICACION</p> </li> <li>TESEO env\u00eda OTP y link de verificaci\u00f3n (entregado por Expiriam) al celular/correo del usuario.</li> <li>El usuario completa la verificaci\u00f3n desde su celular.</li> <li>TESEO obtiene el resultado por webhook (preferido) o por consulta peri\u00f3dica (polling).</li> <li> <p>Resultado final tras verificaci\u00f3n:</p> <ul> <li>Aprobado \u2192 notificar aprobaci\u00f3n y dirigir a punto Gana.</li> <li>Rechazado \u2192 aplicar reglas de rechazo (bloqueo 30 d\u00edas).</li> </ul> </li> <li> <p>SOLICITUD_CON_ERROR</p> </li> <li>TESEO no realiza validaciones de identidad.</li> <li>Devuelve detalles del error en la respuesta y registra logs para soporte.</li> </ul>"},{"location":"invictus_validacion/#respuesta-exitosa","title":"\u2705 Respuesta Exitosa","text":"<pre><code>{\n  \"status\": \"success\",\n  \"mensaje\": \"OTP v\u00e1lido. Evaluaci\u00f3n Experian exitosa.\",\n  \"experian_status\": \"APROBADO\",\n  \"detalle\": \"El usuario tiene buen perfil crediticio.\",\n  \"linea_credito_id\": 100,        \n  \"linea_credito\": \"Credito Rotativo\",\n  \"valor_aprobado\": 300000, \n  \"guid\": \"68406a6a2d9aa64766060ee2\"        \n}\n\n</code></pre>"},{"location":"invictus_validacion/#respuesta-en-verificacion","title":"\u2705 Respuesta En Verificaci\u00f3n","text":"<pre><code>{\n  \"status\": \"success\",\n  \"mensaje\": \"OTP v\u00e1lido. Evaluaci\u00f3n Experian exitosa.\",\n  \"experian_status\": \"EN_VERIFICACION\",\n  \"detalle\": \"Validaci\u00f3n de identidad requerida.\"\n}\n</code></pre>"},{"location":"invictus_validacion/#respuesta-rechazado-por-experian","title":"\u2757 Respuesta Rechazado por Experian","text":"<pre><code>{\n  \"status\": \"success\",\n  \"mensaje\": \"OTP v\u00e1lido. Evaluaci\u00f3n Experian exitosa.\",\n  \"experian_status\": \"RECHAZADO\",\n  \"detalle\": \"Solicitud rechazada. Podr\u00e1 reintentar en 30 d\u00edas..\"\n}\n</code></pre>"},{"location":"invictus_validacion/#respuesta-solicitud-error","title":"\u2757 Respuesta Solicitud Error","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"No fue posible obtener la decisi\u00f3n del proveedor.\"\n}\n</code></pre>"},{"location":"invictus_validacion/#ejemplo-de-otp-invalido","title":"\u2757 Ejemplo de OTP Inv\u00e1lido","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"OTP incorrecto o expirado\"\n}\n</code></pre>"},{"location":"invictus_validacion/#ejemplo-de-error-por-token-ausente-o-invalido","title":"\u2757 Ejemplo de Error por Token Ausente o Inv\u00e1lido","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente\"\n}\n</code></pre>"},{"location":"invictus_validacion/#ejemplo-de-otp-invalido_1","title":"\u2757 Ejemplo de OTP Inv\u00e1lido","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"OTP v\u00e1lido.\"\n}\n</code></pre>"},{"location":"promosumma_originacion_import/","title":"\ud83d\udcd8  Manual de Integraci\u00f3n API: Importaci\u00f3n de Datos Originaci\u00f3n","text":""},{"location":"promosumma_originacion_import/#descripcion-del-servicio","title":"\ud83d\udcc4 Descripci\u00f3n del Servicio","text":"<p>Este servicio permite recibir y validar informaci\u00f3n demogr\u00e1fica y financiera de un solicitante para la creaci\u00f3n de registros de persona y cr\u00e9dito dentro de la plataforma TESEO.</p>"},{"location":"promosumma_originacion_import/#tipo-de-servicio","title":"\ud83d\ude80 Tipo de Servicio","text":"<p><code>POST</code></p>"},{"location":"promosumma_originacion_import/#url-de-integracion","title":"\ud83d\udd17 URL de Integraci\u00f3n","text":"<ul> <li>Ambiente de Pruebas: <code>https://testing-sygma.com/api/importar_originacion</code></li> <li>Producci\u00f3n: <code>POR DEFINIR</code></li> </ul>"},{"location":"promosumma_originacion_import/#headers-requeridos","title":"\ud83d\udcc9 Headers Requeridos","text":"Nombre Valor Requerido Authorization Bearer <code>{token}</code> \u2705 Accept application/json \u2705 Content-Type application/json \u2705 <p>\ud83d\udd10 Nota: El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n (pesta\u00f1a Token), usando un usuario y contrase\u00f1a provistos por la entidad.</p>"},{"location":"promosumma_originacion_import/#cuerpo-de-la-solicitud-json","title":"\ud83d\udd22 Cuerpo de la Solicitud (JSON)","text":"<p>El cuerpo debe enviarse en formato <code>raw</code> JSON bajo la clave <code>datos</code>.</p>"},{"location":"promosumma_originacion_import/#campos-obligatorios","title":"\ud83d\udd38 Campos Obligatorios","text":"<p>Los siguientes campos son requeridos para procesar correctamente la solicitud:</p> <ul> <li>tipo_cliente  </li> <li>tipo_doc  </li> <li>nro_documento  </li> <li>fecha_expedicion_doc  </li> <li>codigo_dane_exp_doc  </li> <li>primer_apellido  </li> <li>segundo_apellido  </li> <li>primer_nombre  </li> <li>segundo_nombre  </li> <li>genero  </li> <li>estado_civil  </li> <li>pais_nacimiento  </li> <li>fecha_nacimiento  </li> <li>codigo_dane_nacim  </li> <li>dir_residencia  </li> <li>estrato_resi  </li> <li>tipo_vivienda  </li> <li>codigo_dane_resid  </li> <li>departamento_residencia  </li> <li>correo  </li> <li>tel_cel  </li> <li>nivel_estudios  </li> <li>ocupacion  </li> <li>desempena_cargo  </li> <li>cargo_politico  </li> <li>fecha_ini_cargo  </li> <li>fecha_fin_cargo  </li> <li>manejo_recursos  </li> <li>cliente_es_pep  </li> <li>vinculo_con_pep  </li> <li>reconocimiento_publico  </li> <li>nombre_ref_fam1  </li> <li>parentesco_ref_fam1  </li> <li>nro_personas  </li> <li>plazo_inicial_credito  </li> <li>tasa_interes_ea  </li> <li>tipo_credito  </li> <li>linea_credio  </li> <li>valor_cuota_total  </li> <li>fecha_solicitud  </li> <li>gmf  </li> <li>valor_aval  </li> <li>periodicidad  </li> <li>prima_segvida  </li> <li>nro_cuenta  </li> <li>valor_ingreso_salario  </li> <li>valor_ingreso_comisiones  </li> <li>valor_ingreso_honorarios  </li> <li>valor_ingresos_arrend  </li> <li>valor_rendimientos  </li> <li>otros_ingresos  </li> <li>valor_total_ingresos  </li> <li>valor_deducciones_ley  </li> <li>valor_otras_deducciones  </li> <li>valor_arrend_cliente  </li> <li>total_activos  </li> <li>total_pasivos  </li> <li>patrimonio  </li> <li>posee_cuenta  </li> <li>realiza_operaciones  </li> <li>cuentas_moneda_ext  </li> </ul>"},{"location":"promosumma_originacion_import/#ejemplo-de-body","title":"\ud83d\udce6 Ejemplo de Body","text":"<pre><code>{\n  \"datos\": {\n    \"tipo_cliente\": \"N\",\n    \"tipo_doc\": \"1\",\n    \"nro_documento\": \"88282828\",\n    \"fecha_expedicion_doc\": \"1984-07-12\",\n    \"codigo_dane_exp_doc\": \"27001\",\n    \"primer_apellido\": \"MATURANA\",\n    \"segundo_apellido\": \"MARTINEZ\",\n    \"primer_nombre\": \"MARIO\",\n    \"segundo_nombre\": \"\",\n    \"genero\": \"1\",\n    \"estado_civil\": \"3\",\n    \"pais_nacimiento\": \"COLOMBIA\",\n    \"fecha_nacimiento\": \"1966-04-27\",\n    \"codigo_dane_nacim\": \"27001\",\n    \"dir_residencia\": \"CRA 86C NRO 53C-41\",\n    \"estrato_resi\": \"3\",\n    \"tipo_vivienda\": \"4\",\n    \"codigo_dane_resid\": \"5001\",\n    \"departamento_residencia\": \"5\",\n    \"correo\": \"lamatusa27@gmail.com\",\n    \"tel_cel\": \"3146396583\",\n    \"nivel_estudios\": \"3\",\n    \"ocupacion\": \"1\",\n    \"desempena_cargo\": \"2\",\n    \"cargo_politico\": \"\",\n    \"fecha_ini_cargo\": \"\",\n    \"fecha_fin_cargo\": \"\",\n    \"manejo_recursos\": \"2\",\n    \"cliente_es_pep\": \"2\",\n    \"vinculo_con_pep\": \"NO\",\n    \"reconocimiento_publico\": \"2\",\n    \"nombre_ref_fam1\": \"WALTER LEUDO MARTINEZ\",\n    \"parentesco_ref_fam1\": \"9\",\n    \"nro_personas\": \"0\",\n    \"plazo_inicial_credito\": \"35\",\n    \"tasa_interesEA\": \"1.8\",\n    \"tipo_credito\": \"LIBRE\",\n    \"linea_credio\": \"CONSUMO\",\n    \"valor_cuota_total\": \"862895.00\",\n    \"fecha_solicitud\": \"2025-03-14\",\n    \"gmf\": \"89226.00\",\n    \"valor_aval\": \"2601382.00\",\n    \"periodicidad\": \"2\",\n    \"prima_segvida\": \"39036.00\",\n    \"nro_cuenta\": \"230191021831\",\n    \"valor_ingreso_salario\": \"4258393\",\n    \"valor_ingreso_comisiones\": \"0\",\n    \"valor_ingreso_honorarios\": \"0\",\n    \"valor_ingresos_arrend\": \"0\",\n    \"valor_rendimientos\": \"0\",\n    \"otros_ingresos\": \"0\",\n    \"valor_total_ingresos\": \"4258393.00\",\n    \"valor_deducciones_ley\": \"340671\",\n    \"valor_otras_deducciones\": \"1078609\",\n    \"valor_arrend_cliente\": \"0\",\n    \"total_activos\": \"210000000\",\n    \"total_pasivos\": \"20000000\",\n    \"patrimonio\": \"190000000\",\n    \"posee_cuenta\": \"NO\",\n    \"realiza_operaciones\": \"NO\",\n    \"cuentas_moneda_ext\": \"NO\"\n  }\n}\n\n</code></pre>"},{"location":"promosumma_originacion_import/#respuesta-exitosa","title":"\u2705 Respuesta Exitosa","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"id\": 12,\n    \"nro_documento\": \"88282828\",\n    \"mensaje\": \"Registro exitoso\"\n  }\n}\n\n</code></pre>"},{"location":"promosumma_originacion_import/#ejemplo-de-error-por-campo-faltante","title":"\u2757 Ejemplo de Error por Campo Faltante","text":"<pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo nro_documento no puede estar en blanco\",\n    \"El campo tasa_interes_ea es obligatorio\"\n  ]\n}\n</code></pre>"},{"location":"recaudo_consulta/","title":"Servicio para consultar por id de Recaudo","text":"<p>Descripci\u00f3n: Este servicio recibe dos par\u00e1metros para consultar a un deudor por el id de un recaudo, incluyendo la informaci\u00f3n del credito y recaudo.</p> <p>Tipo de Servicio: POST</p>"},{"location":"recaudo_consulta/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/consultar</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/consultar</code></li> </ul>"},{"location":"recaudo_consulta/#headers","title":"Headers","text":"<p>El proceso requiere los siguientes encabezados en la solicitud:</p> <ul> <li>Accept: <code>application/json</code> (Obligatorio)</li> <li>Content-Type: <code>application/json</code> (Obligatorio)</li> <li>Authorization: <code>Bearer ${token}</code> (Obligatorio)</li> </ul>"},{"location":"recaudo_consulta/#consideraciones","title":"Consideraciones","text":"<ul> <li>El par\u00e1metro servicio debe establecerse por defecto en CONSULTA_RECAUDO, ya que este valor permite al sistema identificar que se trata de una consulta por id de recaudo.</li> <li>El parametro dato corresponde al <code>Id Recaudo Teseo</code> del deudor que se desea consultar.</li> <li>Si este par\u00e1metro no es proporcionado, el sistema responder\u00e1 con el siguiente error:</li> </ul> <pre><code>{\n  \"status\": false,\n  \"message\": \"No cuenta con los permisos para consumir el servicio\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_consulta/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>La informaci\u00f3n debe enviarse en formato JSON. Ejemplo:</p>"},{"location":"recaudo_consulta/#campos-obligatorios","title":"Campos Obligatorios","text":"<pre><code>{\n  \"servicio\": \"CONSULTA_RECAUDO\", \n  \"dato\": \"27438761\" \n}\n\n</code></pre>"},{"location":"recaudo_consulta/#respuesta-no-valida","title":"Respuesta no valida","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Id del recaudo no v\u00e1lido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_consulta/#ejemplo-respuesta-succes","title":"Ejemplo Respuesta Succes","text":"<pre><code>{\n  \"persona\": {\n    \"persona_id\": \"5642511\",\n    \"identificacion\": \"1001762523\",\n    \"nombre\": \"PRUEBA\",\n    \"obligaciones\": [\n      {\n        \"personasobligacion_id\": \"6677424\",\n        \"nro_obligacion\": \"2021112\",\n        \"fecha_matricula\": \"02-12-2021\",\n        \"portafoliossucursal_id\": \"15507\",\n        \"sucursal\": \"CONTADURIA\",\n        \"portafoliosvehiculo_id\": \"575\",\n        \"vehiculo\": \"TECNOLOGICO DE ANTIOQUIA\",\n        \"cliente\": \"12320\",\n        \"originador\": \"CORPORACI\u00d3N GILBERTO E\",\n        \"saldo_capital\": \"0\",\n        \"saldo_total\": \"0\",\n        \"recaudos\": [\n          {\n            \"planesrecaudo_id\": \"27438761\",\n            \"personasobligacion_id\": \"6677424\",\n            \"fecha_recaudo\": \"24-01-2022\",\n            \"tipo_pago\": \"EFECTIVO\",\n            \"estado\": \"\",\n            \"tipo_afecta\": \"AJUSTE CUOTA\",\n            \"user_id\": \"10456\",\n            \"valor\": \"28398\",\n            \"observaciones\": \" - APLICACION TANQUE - FECHA MOVIMIENTO: 2022-01-24 - OBS-OPCIONAL1: Migrado *\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"recaudo_consulta/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_consulta/#respuesta-campos-requeridos","title":"Respuesta Campos Requeridos","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"El par\u00e1metro :dato es requerido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_insertar/","title":"Servicio para aplicar un recaudo (Pago)","text":"<p>Descripci\u00f3n: Este servicio recibe varios parametros cuya finalidad es insertar un recaudo a la obligaci\u00f3n</p> <p>Tipo de Servicio: POST</p>"},{"location":"recaudo_insertar/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/insertar_recaudo</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/insertar_recaudo</code></li> </ul>"},{"location":"recaudo_insertar/#headers","title":"Headers","text":"<p>El proceso requiere los siguientes encabezados en la solicitud:</p> <ul> <li>Accept: <code>application/json</code> (Obligatorio)</li> <li>Content-Type: <code>application/json</code> (Obligatorio)</li> <li>Authorization: <code>Bearer ${token}</code> (Obligatorio)</li> </ul>"},{"location":"recaudo_insertar/#consideraciones","title":"Consideraciones","text":"<ul> <li>El par\u00e1metro tipo_servicio debe establecerse por defecto en INSERTAR_RECAUDO, ya que este valor permite al sistema identificar que se trata de una inserci\u00f3n de recaudo.</li> <li>Si este par\u00e1metro no es proporcionado, el sistema responder\u00e1 con el siguiente error:</li> </ul> <pre><code>{\n  \"status\": false,\n  \"message\": \"No cuenta con los permisos para consumir el servicio\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_insertar/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>La informaci\u00f3n debe enviarse en formato JSON. Ejemplo:</p>"},{"location":"recaudo_insertar/#campos-obligatorios","title":"Campos Obligatorios","text":"<pre><code>{\n  \"tipo_servicio\": \"INSERTAR_RECAUDO\", // OBLIGATORIO\n  \"personasobligacion_id\": \"1938373\", // OBLIGATORIO\n  \"fecha\": \"02-07-2024\", // DD-MM-YYYY - OBLIGATORIO - FORMATO\n  \"valor\": \"10000\", // OBLIGATORIO\n  \"sucursal\": \"TENJO\", // Sede desde donde se envia el servicio\n  \"codigo_transaccion\": \"2763637388\",\n  \"usuario\": \"USUARIO DE LA TRANSACCION\",\n  \"observacion\": \"PAGO REALIZADO POR LA PLATAFORMA TESEO\"\n}\n\n</code></pre>"},{"location":"recaudo_insertar/#ejemplo-respuesta-succes","title":"Ejemplo Respuesta Succes","text":"<pre><code>{\n  \"status\": true,\n  \"guid\": \"bf5304c04eb5ef007a0a\",\n  \"estado_recaudo\": \"APLICADO\",\n  \"message\": \"Registro creado con \u00e9xito!!!\",\n  \"code\": 200\n}\n</code></pre>"},{"location":"recaudo_insertar/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_insertar/#respuesta-campos-requeridos","title":"Respuesta Campos Requeridos","text":"<pre><code>{\n  \"error\": \"Falta el par\u00e1metro\",\n  \"message\": \"Los siguientes par\u00e1metros son requeridos: tipo_servicio\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_insertar/#respuestas-no-validas-valor","title":"Respuestas no validas - Valor","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"El valor debe ser superior a 0\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_insertar/#respuestas-no-validas-obligacion","title":"Respuestas no validas - Obligaci\u00f3n","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Id de la obligaci\u00f3n no valida\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_insertar/#respuestas-no-validas-fecha","title":"Respuestas no validas - Fecha","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"La fecha no puede superar el dia actual\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_reversar/","title":"Servicio para reversar un recaudo (Pago)","text":"<p>Descripci\u00f3n: Este servicio recibe varios parametros cuya finalidad es reversar un recaudo de una obligaci\u00f3n (Pago)</p> <p>Tipo de Servicio: POST</p>"},{"location":"recaudo_reversar/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/reversar_recaudo</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/reversar_recaudo</code></li> </ul>"},{"location":"recaudo_reversar/#headers","title":"Headers","text":"<p>El proceso requiere los siguientes encabezados en la solicitud:</p> <ul> <li>Accept: <code>application/json</code> (Obligatorio)</li> <li>Content-Type: <code>application/json</code> (Obligatorio)</li> <li>Authorization: <code>Bearer ${token}</code> (Obligatorio)</li> </ul>"},{"location":"recaudo_reversar/#consideraciones","title":"Consideraciones","text":"<ul> <li>El par\u00e1metro tipo_servicio debe establecerse por defecto en REVERSAR_RECAUDO, ya que este valor permite al sistema identificar que se trata de una inserci\u00f3n de recaudo.</li> <li>Si este par\u00e1metro no es proporcionado, el sistema responder\u00e1 con el siguiente error:</li> </ul> <pre><code>{\n  \"status\": false,\n  \"message\": \"No cuenta con los permisos para consumir el servicio\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_reversar/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>La informaci\u00f3n debe enviarse en formato JSON. Ejemplo:</p>"},{"location":"recaudo_reversar/#campos-obligatorios","title":"Campos Obligatorios","text":"<pre><code>{\n  \"tipo_servicio\": \"REVERSAR_RECAUDO\", // OBLIGATORIO\n  \"recaudo_id\": \"27832828\", // OBLIGATORIO\n  \"observacion\": \"SE REVERSA POR MOTIVOS DE PRUEBAS\" // OBLIGATORIO - SE DEBE DE JUSTIFICAR PORQUE SE DESEA REVERSAR\n}\n\n</code></pre>"},{"location":"recaudo_reversar/#ejemplo-respuesta-succes","title":"Ejemplo Respuesta Succes","text":"<pre><code>{\n  \"status\": true,\n  \"guid\": \"e87d6aad89f02df1a6f6\",\n  \"estado_aplicacion\": \"APLICADO\",\n  \"message\": \"Registro reversado con \u00e9xito!!!\",\n  \"code\": 200\n}\n</code></pre>"},{"location":"recaudo_reversar/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_reversar/#respuesta-campos-requeridos","title":"Respuesta Campos Requeridos","text":"<pre><code>{\n  \"error\": \"Falta el par\u00e1metro\",\n  \"message\": \"Los siguientes par\u00e1metros son requeridos: tipo_servicio\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"recaudo_reversar/#respuestas-no-validas-recaudo-no-existe","title":"Respuestas no validas - Recaudo no Existe","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Id del recaudo no valido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"s_cuota_maxima/","title":"\ud83d\udcd8 Servicio para Simulaci\u00f3n Previa de Plan de Pagos","text":"<p>Descripci\u00f3n: Este servicio permite generar planes de pago simulados a partir de un valor ingresado. El sistema retorna diferentes opciones de monto m\u00e1ximo y sus respectivos planes de pago.</p> <p>Tipo de Servicio: <code>POST</code></p>"},{"location":"s_cuota_maxima/#url-de-integracion","title":"\ud83d\udef0\ufe0f URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/simulador_previo</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/simulador_previo</code></li> </ul>"},{"location":"s_cuota_maxima/#encabezados-headers","title":"\ud83e\uddfe Encabezados (Headers)","text":"Nombre Valor Requerido Authorization Bearer <code>{token}</code> \u2705 Accept application/json \u2705 Content-Type application/json \u2705 <p>\ud83d\udd10 Nota: El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n (pesta\u00f1a Token), usando un usuario y contrase\u00f1a provistos por la entidad.</p>"},{"location":"s_cuota_maxima/#cuerpo-de-la-solicitud-raw","title":"\ud83d\udce8 Cuerpo de la Solicitud (raw)","text":"<pre><code>{\n  \"servicio\": \"CREDINTEGRAL_SIMC\",\n  \"dato\": 79000\n}\n</code></pre> <p>\ud83d\udccc Campo dato: Corresponde al valor base para el cual se desea generar la simulaci\u00f3n. Debe ser un n\u00famero entero v\u00e1lido y mayor al monto m\u00ednimo permitido por el sistema.</p>"},{"location":"s_cuota_maxima/#respuesta-exitosa-ejemplo","title":"\u2705 Respuesta Exitosa - Ejemplo","text":"<pre><code>{\n  \"simulacion\": {\n    \"id_consulta\": \"126969\",\n    \"vlrprestamo\": [\n      {\n        \"nro_cuotas\": \"3\",\n        \"monto_maximo\": \"100000\",\n        \"plan_pagos\": [\n          {\n            \"nro_cuota\": \"1\",\n            \"fecha_vence\": \"23-05-2025\",\n            \"inicial\": \"100000\",\n            \"valor_cuota\": \"64142.67\",\n            \"capital\": \"31449.1\",\n            \"interes\": \"1918.9\",\n            \"seguro\": \"300\",\n            \"fianza\": \"3200\",\n            \"iva_fianza\": \"608\",\n            \"plataforma\": \"26666.67\",\n            \"final\": \"68550.9\"\n          },\n          ...\n        ]\n      },\n      ...\n    ]\n  }\n}\n</code></pre>"},{"location":"s_cuota_maxima/#errores-comunes","title":"\u274c Errores Comunes","text":""},{"location":"s_cuota_maxima/#token-invalido","title":"\u26a0\ufe0f Token Inv\u00e1lido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"code\": 400\n}\n\n</code></pre>"},{"location":"s_cuota_maxima/#permisos-insuficientes","title":"\u26a0\ufe0f Permisos insuficientes","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"No cuenta con los permisos para consumir el servicio\",\n  \"code\": 400\n}\n\n</code></pre>"},{"location":"s_cuota_maxima/#campo-servicio-requerido","title":"\u26a0\ufe0f Campo servicio requerido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"El par\u00e1metro :servicio es requerido\",\n  \"code\": 400\n}\n\n</code></pre>"},{"location":"s_cuota_maxima/#campo-dato-invalido-o-faltante","title":"\u26a0\ufe0f Campo dato inv\u00e1lido o faltante","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"El par\u00e1metro :dato es requerido y debe ser un n\u00famero entero v\u00e1lido\",\n  \"code\": 400\n}\n\n</code></pre>"},{"location":"s_cuota_maxima/#monto-inferior-al-permitido","title":"\u26a0\ufe0f Monto inferior al permitido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"El monto no puede ser menor a {MONTO_MINIMO}\",\n  \"code\": 400\n}\n\n\n</code></pre>"},{"location":"s_cuota_maxima/#consideraciones","title":"\ud83e\udde0 Consideraciones","text":"<ul> <li> <p>El campo servicio debe enviarse en may\u00fasculas tal como se define en el sistema.</p> </li> <li> <p>El servicio valida que el usuario tenga permisos (crea = 'S') sobre el objeto correspondiente.</p> </li> <li> <p>El sistema consulta configuraciones internas (par\u00e1metro m\u00ednimo, consecutivo, etc.) y lanza un proceso Job para generar la simulaci\u00f3n.</p> </li> <li> <p>La respuesta puede incluir m\u00faltiples combinaciones de cuotas y montos m\u00e1ximos, con sus respectivos detalles financieros.</p> </li> </ul>"},{"location":"s_plan_simulador/","title":"\ud83d\udcd8 Servicio para Simulaci\u00f3n de Plan de Pagos","text":"<p>Descripci\u00f3n: Este servicio permite generar la simulaci\u00f3n de un plan de pagos a partir de un valor determinado, devolviendo todas las combinaciones posibles de cuotas y sus respectivas condiciones.</p> <p>Tipo de Servicio: <code>POST</code></p>"},{"location":"s_plan_simulador/#url-de-integracion","title":"\ud83d\udef0\ufe0f URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/datos_simulador</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/datos_simulador</code></li> </ul>"},{"location":"s_plan_simulador/#encabezados-headers","title":"\ud83e\uddfe Encabezados (Headers)","text":"Nombre Valor Requerido Authorization Bearer <code>{token}</code> \u2705 Accept application/json \u2705 Content-Type application/json \u2705 <p>\ud83d\udd10 Nota: El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n (pesta\u00f1a Token), usando un usuario y contrase\u00f1a provistos por la entidad.</p>"},{"location":"s_plan_simulador/#cuerpo-de-la-solicitud-raw","title":"\ud83d\udce8 Cuerpo de la Solicitud (raw)","text":"<pre><code>{\n  \"servicio\": \"SIMULADOR_NEGOCIA\"\n}\n</code></pre>"},{"location":"s_plan_simulador/#respuesta-exitosa-ejemplo","title":"\u2705 Respuesta Exitosa - Ejemplo","text":"<pre><code>[\n  {\n    \"valor\": 100000.00,\n    \"plazo\": 1,\n    \"nro_cuota\": 1,\n    \"fecha_vence\": \"2025-05-23\",\n    \"inicial\": 100000.00,\n    \"cuota\": 186026.90,\n    \"capital\": 100000.00,\n    \"interes\": 1918.90,\n    \"seguro\": 300.00,\n    \"finanza\": 3200.00,\n    \"iva_fianza\": 608.00,\n    \"plataforma\": 80000.00,\n    \"final\": 0.00\n  },\n  {\n    \"valor\": 100000.00,\n    \"plazo\": 2,\n    \"nro_cuota\": 1,\n    \"fecha_vence\": \"2025-05-23\",\n    \"inicial\": 100000.00,\n    \"cuota\": 94615.00,\n    \"capital\": 48588.10,\n    \"interes\": 1918.90,\n    \"seguro\": 300.00,\n    \"finanza\": 3200.00,\n    \"iva_fianza\": 608.00,\n    \"plataforma\": 40000.00,\n    \"final\": 51411.90\n  }\n]\n\n</code></pre>"},{"location":"s_plan_simulador/#errores-comunes","title":"\u274c Errores Comunes","text":""},{"location":"s_plan_simulador/#token-invalido","title":"\u26a0\ufe0f Token Inv\u00e1lido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"s_plan_simulador/#campo-servicio-requerido","title":"\u26a0\ufe0f Campo servicio requerido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"El par\u00e1metro :servicio es requerido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"s_plan_simulador/#consideraciones","title":"\ud83e\udde0 Consideraciones","text":"<ul> <li> <p>Este servicio no requiere par\u00e1metros adicionales, solo el tipo de servicio.</p> </li> <li> <p>La respuesta siempre es un arreglo de objetos, cada uno representando una opci\u00f3n de plan de pago.</p> </li> <li> <p>Todos los c\u00e1lculos (cuota, inter\u00e9s, seguro, etc.) son generados autom\u00e1ticamente por el sistema.</p> </li> </ul>"},{"location":"s_simulador_rotativo/","title":"\ud83d\udcd8 Servicio para Simulador Rotativo - Plan de Pagos Cr\u00e9dito Integral","text":"<p>Descripci\u00f3n: Este servicio permite simular un cr\u00e9dito integral generando un plan de pagos detallado seg\u00fan el monto solicitado y el n\u00famero de cuotas deseadas. Retorna un resumen financiero completo y el detalle de cada cuota del plan de pagos.</p> <p>Tipo de Servicio: <code>POST</code></p>"},{"location":"s_simulador_rotativo/#url-de-integracion","title":"\ud83d\udef0\ufe0f URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/simulador_rotativo</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/simulador_rotativo</code></li> </ul>"},{"location":"s_simulador_rotativo/#encabezados-headers","title":"\ud83e\uddfe Encabezados (Headers)","text":"Nombre Valor Requerido Authorization Bearer <code>{token}</code> \u2705 Accept application/json \u2705 Content-Type application/json \u2705 <p>\ud83d\udd10 Nota: El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n (pesta\u00f1a Token), usando un usuario y contrase\u00f1a provistos por la entidad.</p>"},{"location":"s_simulador_rotativo/#cuerpo-de-la-solicitud-raw","title":"\ud83d\udce8 Cuerpo de la Solicitud (raw)","text":"<pre><code>{\n  \"monto\": \"200000\",\n  \"cuota\": 3\n}\n</code></pre>"},{"location":"s_simulador_rotativo/#parametros-de-entrada","title":"\ud83d\udccb Par\u00e1metros de Entrada","text":"Par\u00e1metro Tipo Descripci\u00f3n Requerido Validaci\u00f3n <code>monto</code> String Monto del cr\u00e9dito a solicitar \u2705 Entre $200.000 y $3.500.000 <code>cuota</code> Integer N\u00famero de cuotas/meses del cr\u00e9dito \u2705 Entre 1 y 18 meses"},{"location":"s_simulador_rotativo/#respuesta-exitosa-ejemplo","title":"\u2705 Respuesta Exitosa - Ejemplo","text":"<pre><code>{\n    \"status\": true,\n    \"secuencia\": \"5001329\",\n    \"resumen\": {\n        \"secuencia\": \"5001329\",\n        \"valor_cuota\": 107747,\n        \"fianza_regular\": 9949,\n        \"seguro\": 785,\n        \"vlr_administracion\": 29900,\n        \"tasa_ea\": 24.36,\n        \"total_desembolso\": 195716\n    },\n    \"plan_pagos\": [\n        {\n            \"nro_cuota\": 1,\n            \"fecha_limite\": \"2025-12-02\",\n            \"saldo_inicial\": 200000,\n            \"capital\": 98266,\n            \"interes\": 2928,\n            \"seguro\": 480,\n            \"fianza\": 5104,\n            \"iva_fianza\": 970,\n            \"valor_cuota\": 107747,\n            \"saldo_final\": 101735\n        },\n        {\n            \"nro_cuota\": 2,\n            \"fecha_limite\": \"2026-01-02\",\n            \"saldo_inicial\": 101735,\n            \"capital\": 101735,\n            \"interes\": 1866,\n            \"seguro\": 305,\n            \"fianza\": 3256,\n            \"iva_fianza\": 619,\n            \"valor_cuota\": 107779,\n            \"saldo_final\": 0\n        }\n    ]\n}\n</code></pre>"},{"location":"s_simulador_rotativo/#descripcion-de-campos-resumen","title":"\ud83d\udcca Descripci\u00f3n de Campos - Resumen","text":"Campo Tipo Descripci\u00f3n <code>secuencia</code> String Identificador \u00fanico de la simulaci\u00f3n <code>valor_cuota</code> Integer Valor de la cuota mensual <code>total_desembolso</code> Integer Valor neto a desembolsar al cliente <code>tasa_ea</code> Float Tasa Efectiva Anual <code>vlr_cuota</code> Integer Valor de la cuota (igual a <code>valor_cuota</code>) <code>vlr_administracion</code> Integer Valor de administraci\u00f3n <code>seguro</code> Integer Seguro total del cr\u00e9dito <code>fianza_regular</code> Integer Fianza regular total (comp + IVA)"},{"location":"s_simulador_rotativo/#descripcion-de-campos-plan-de-pagos","title":"\ud83d\udccb Descripci\u00f3n de Campos - Plan de Pagos","text":"Campo Tipo Descripci\u00f3n <code>nro_cuota</code> String N\u00famero de la cuota <code>fecha_limite</code> String Fecha l\u00edmite de pago (formato: YYYY-MM-DD) <code>saldo_inicial</code> Integer Saldo de capital al inicio del per\u00edodo <code>capital</code> Integer Abono a capital en esta cuota <code>interes</code> Integer Inter\u00e9s de esta cuota <code>seguro</code> Integer Valor del seguro de esta cuota <code>fianza</code> Integer Fianza de esta cuota <code>iva_fianza</code> Integer IVA de la fianza <code>valor_cuota</code> Integer Valor total a pagar en esta cuota <code>saldo_final</code> Integer Saldo de capital al final del per\u00edodo"},{"location":"s_simulador_rotativo/#errores-comunes","title":"\u274c Errores Comunes","text":""},{"location":"s_simulador_rotativo/#token-invalido","title":"\u26a0\ufe0f Token Inv\u00e1lido","text":"<pre><code>{\n  \"ok\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"s_simulador_rotativo/#parametro-monto-requerido","title":"\u26a0\ufe0f Par\u00e1metro monto requerido","text":"<pre><code>{\n  \"ok\": false,\n  \"message\": \"El par\u00e1metro :monto es requerido y debe ser un n\u00famero entero v\u00e1lido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"s_simulador_rotativo/#parametro-cuota-requerido","title":"\u26a0\ufe0f Par\u00e1metro cuota requerido","text":"<pre><code>{\n  \"ok\": false,\n  \"message\": \"El par\u00e1metro :cuota es requerido y debe ser un n\u00famero entero v\u00e1lido\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"s_simulador_rotativo/#monto-menor-al-permitido","title":"\u26a0\ufe0f Monto menor al permitido","text":"<pre><code>{\n  \"ok\": false,\n  \"message\": \"El monto no puede ser menor a $200.000\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"s_simulador_rotativo/#monto-mayor-al-permitido","title":"\u26a0\ufe0f Monto mayor al permitido","text":"<pre><code>{\n  \"ok\": false,\n  \"message\": \"El monto no puede ser mayor a $3.500.000\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"s_simulador_rotativo/#plazo-menor-al-permitido","title":"\u26a0\ufe0f Plazo menor al permitido","text":"<pre><code>{\n  \"ok\": false,\n  \"message\": \"El plazo no puede ser menor a 1 mes\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"s_simulador_rotativo/#plazo-mayor-al-permitido","title":"\u26a0\ufe0f Plazo mayor al permitido","text":"<pre><code>{\n  \"ok\": false,\n  \"message\": \"El plazo no puede ser mayor a 18 meses\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"s_simulador_rotativo/#registro-no-encontrado","title":"\u26a0\ufe0f Registro no encontrado","text":"<pre><code>{\n  \"ok\": false,\n  \"message\": \"Registro no encontrado\",\n  \"details\": \"No se encontraron datos del simulador\",\n  \"code\": 404\n}\n</code></pre>"},{"location":"s_simulador_rotativo/#error-interno-del-servidor","title":"\u26a0\ufe0f Error interno del servidor","text":"<pre><code>{\n  \"ok\": false,\n  \"message\": \"Error interno del servidor\",\n  \"details\": \"Descripci\u00f3n t\u00e9cnica del error\",\n  \"code\": 500\n}\n</code></pre>"},{"location":"tecfinanzas/","title":"Descripci\u00f3n del Servicio","text":""},{"location":"tecfinanzas/#introduccion","title":"Introducci\u00f3n","text":"<p>Este servicio recibe y procesa informaci\u00f3n en formato JSON para su integraci\u00f3n en la plataforma TESEO. Su prop\u00f3sito principal es permitir la creaci\u00f3n o actualizaci\u00f3n de cr\u00e9ditos de manera eficiente y estructurada.</p>"},{"location":"tecfinanzas/#funcionamiento","title":"Funcionamiento","text":"<ul> <li>Recibe datos en formato JSON.</li> <li>Valida que todos los campos obligatorios est\u00e9n presentes.</li> <li>Carga la informaci\u00f3n en TESEO para la creaci\u00f3n o actualizaci\u00f3n del cr\u00e9dito.</li> </ul>"},{"location":"tecfinanzas/#validaciones","title":"Validaciones","text":"<p>El servicio implementa validaciones para garantizar la integridad y coherencia de los datos, asegurando que el proceso se realice de manera correcta y sin errores.</p>"},{"location":"tecfinanzas/#formato-de-entrada","title":"Formato de Entrada","text":"<p>Los datos deben enviarse en formato JSON con la siguiente estructura:</p> <pre><code> {\n  \"datostecfinanza\": {\n    \"nro_documento\": \"129905111 \",\n    \"dir_residencia\": \"CRA 50 60 16\"\n  }\n}\n</code></pre>"},{"location":"tecfinanzas_actualizar/","title":"Servicio para actualizar datos","text":"<p>Descripci\u00f3n: Este servicio permite recibir  parametros para el proceso de la actualizacion del credito.</p> <p>Tipo de Servicio: POST</p>"},{"location":"tecfinanzas_actualizar/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/originador</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/originador</code></li> </ul>"},{"location":"tecfinanzas_actualizar/#headers","title":"Headers","text":"<p>El proceso requiere los siguientes encabezados en la solicitud:</p> <ul> <li>Accept: <code>application/json</code> (Obligatorio)</li> <li>Content-Type: <code>application/json</code> (Obligatorio)</li> <li>Authorization: <code>Bearer ${token}</code> (Obligatorio)</li> </ul>"},{"location":"tecfinanzas_actualizar/#consideracion","title":"Consideracion","text":"<ul> <li>El par\u00e1metro tipo_servicio debe establecerse por defecto en UPDATE, ya que con este valor el sistema identifica que se trata de una actualizaci\u00f3n. Por otro lado, id_transaccion corresponde a un identificador propio de la entidad que debe enviarse con el fin de que, al momento de cruzar informaci\u00f3n, se pueda identificar.</li> </ul>"},{"location":"tecfinanzas_actualizar/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>La informaci\u00f3n debe enviarse en formato JSON. Ejemplo:</p>"},{"location":"tecfinanzas_actualizar/#campos-obligatorios","title":"Campos Obligatorios","text":"<pre><code>\n{\n  \"datostecfinanza\": {\n    \"cuota_corriente\": \"281498.00\",\n    \"valor_cuota_total\": \"293387.00\",\n    \"p_patrimonial\": \"1406044.00\",\n    \"prima_segvida\": \"11889.00\",\n    \"valor_aval\": \"0.00\",\n    \"int_anticipado\": \"472196.00\",\n    \"gto_plataforma\": \"0.00\",\n    \"corretaje\": \"781136.00\",\n    \"seguro_incorporacion\": \"0.00\",\n    \"estudio_credito\": \"520549.00\",\n    \"gmf\": \"62491.00\",\n    \"descuentos_giro\": \"12000.00\",\n    \"tasa_interes\": \"1.500000\",\n    \"plazo_inicial_credito\": \"120\",\n    \"valor_desembolso\": \"15622710.00\",\n    \"nit_pagaduria\": \"8999991181\",\n    \"fecha_desemb\": \"2025-02-07\",\n    \"no_pagare\": \"639\",\n    \"estado_credito\": \"Tesoreria\",\n    \"nro_credito\": \"639\",\n    \"tipo_servicio\": \"UPDATE\",\n    \"id_transaccion\": 32645\n  }\n}\n\n</code></pre>"},{"location":"tecfinanzas_actualizar/#respuesta-success","title":"Respuesta Success","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"id\": 832,\n    \"nro_documento\": null,\n    \"dir_residencia\": null,\n    \"correo\": null,\n    \"dir_familiar\": null,\n    \"dir_correspondencia\": null,\n    \"dir_empresa_labora\": null,\n    \"email_labora\": null,\n    \"dir_ref_fam1\": null,\n    \"dir_ref_per1\": null,\n    \"cuenta_ext1\": null,\n    \"cuenta_ext2\": null,\n    \"no_pagare\": \"639\",\n    \"nro_solicitud\": null,\n    \"poliza\": null,\n    \"fecha_expedicion_doc\": null,\n    \"fecha_nacimiento\": null,\n    \"fecha_ingreso\": null,\n    \"fecha_ultima\": null,\n    \"fecha_ini_cargo\": null,\n    \"fecha_fin_cargo\": null,\n    \"fecha_desemb\": \"2025-02-07\",\n    \"fecha_ing_poliza\": null,\n    \"clase_poliza\": null,\n    \"tipo_cliente\": null,\n    \"codigo_dane_exp_doc\": null,\n    \"codigo_dane_nacim\": null,\n    \"codigo_ciiu_cliente\": null,\n    \"antig_actividad\": null,\n    \"codigo_dane_resid\": null,\n    \"tel_fijo_resi\": null,\n    \"tel_cel\": null,\n    \"codigo_dane_dir_fam\": null,\n    \"codigo_dane_dir_corr\": null,\n    \"codigo_dane_dir_emp\": null,\n    \"tel_fijo_ofi\": null,\n    \"ext_ofi_lab\": null,\n    \"nro_renov_contrato\": null,\n    \"nro_personas\": null,\n    \"menores_18\": null,\n    \"codigo_dane_ref_fam1\": null,\n    \"tel_ref_fam1\": null,\n    \"codigo_dane_ref_per1\": null,\n    \"tel_ref_per1\": null,\n    \"nro_cuenta\": null,\n    \"valor_ingreso_salario\": null,\n    \"valor_ingreso_comisiones\": null,\n    \"valor_ingreso_honorarios\": null,\n    \"valor_ingresos_arrend\": null,\n    \"valor_rendimientos\": null,\n    \"otros_ingresos\": null,\n    \"valor_total_ingresos\": null,\n    \"valor_deducciones_ley\": null,\n    \"valor_otras_deducciones\": null,\n    \"valor_arrend_cliente\": null,\n    \"valor_cuota_credito\": null,\n    \"valor_gastos_tarjeta\": null,\n    \"valor_gastos_familiares\": null,\n    \"valor_gastos_sost\": null,\n    \"valor_pago_otros_creditos\": null,\n    \"otros_egresos\": null,\n    \"valor_total_egresos\": null,\n    \"valor_activos_corrientes\": null,\n    \"valor_activos_fijos\": null,\n    \"valor_otros_activos\": null,\n    \"total_activos\": null,\n    \"valor_pasivos_financieros\": null,\n    \"valor_pasivos_corrientes\": null,\n    \"valor_otros_pasivos\": null,\n    \"total_pasivos\": null,\n    \"patrimonio\": null,\n    \"monto_solicitado\": null,\n    \"monto_cuenta_ext1\": null,\n    \"monto_cuenta_ext2\": null,\n    \"puntaje_acierta\": null,\n    \"nro_cuentas_embargadas\": null,\n    \"nro_cuentas_canceladas\": null,\n    \"nro_obligaciones_mora\": null,\n    \"nro_obligaciones_mora_coop\": null,\n    \"nro_carteras_castigadas\": null,\n    \"nro_carteras_dudoso\": null,\n    \"nro_obligaciones_reestructuradas\": null,\n    \"nro_obligaciones_calificadas_c\": null,\n    \"nro_obligaciones_calificadas_d\": null,\n    \"nro_obligaciones_calificadas_e\": null,\n    \"nro_moras_30_dias\": null,\n    \"nro_moras_60_dias\": null,\n    \"nro_moras_sup_60_dias\": null,\n    \"nro_entidades_consulta\": null,\n    \"quanto_minimo\": null,\n    \"quanto_maximo\": null,\n    \"quanto_medio\": null,\n    \"sum_cuotas_creditos\": null,\n    \"sum_saldos_tdc\": null,\n    \"sum_cupos_tdc\": null,\n    \"nro_embargos_pago\": null,\n    \"nro_procesos_civiles\": null,\n    \"nit_custodia\": null,\n    \"nit_originador\": null,\n    \"nit_pagaduria\": 8999991181,\n    \"nit_fideicomisos\": null,\n    \"codigo_fideicomiso\": null,\n    \"valor_desembolso\": 15622710,\n    \"plazo_inicial_credito\": 120,\n    \"tasa_interes\": \"1.5\",\n    \"valor_aval\": 0,\n    \"periodicidad\": null,\n    \"porcentaje_reserva\": null,\n    \"prima_segvida\": 11889,\n    \"no_doc_benef_grat1\": null,\n    \"porc_benef_grat1\": null,\n    \"no_doc_benef_grat2\": null,\n    \"porc_benef_grat2\": null,\n    \"tipo_entidad\": null,\n    \"cliente_declara\": null,\n    \"desempena_cargo\": null,\n    \"manejo_recursos\": null,\n    \"representa_organizacion\": null,\n    \"cliente_es_pep\": null,\n    \"vinculo_con_pep\": null,\n    \"reconocimiento_publico\": null,\n    \"posee_cuenta\": null,\n    \"realiza_operaciones\": null,\n    \"importaciones\": null,\n    \"credito_documentario\": null,\n    \"giros_directos\": null,\n    \"negociacion_divisas\": null,\n    \"leasing_importacion\": null,\n    \"giros_financiados\": null,\n    \"exportaciones\": null,\n    \"inversiones\": null,\n    \"venta_bienes\": null,\n    \"honorarios_comisiones\": null,\n    \"ingresos_actividad\": null,\n    \"prestamo_bancario\": null,\n    \"rifas\": null,\n    \"pension\": null,\n    \"herencia\": null,\n    \"liq_prestaciones\": null,\n    \"liq_sucesiones\": null,\n    \"otros\": null,\n    \"cuentas_moneda_ext\": null,\n    \"permanencia_eeuu\": null,\n    \"tarjeta_verde\": null,\n    \"ingresos_fdap\": null,\n    \"ingreso_bruto_venta\": null,\n    \"ciudadano_eeuu\": null,\n    \"obligado_tributar\": null,\n    \"coincidencia_listas\": null,\n    \"procesos_cooperativa\": null,\n    \"extraprima\": null,\n    \"primer_apellido\": null,\n    \"segundo_apellido\": null,\n    \"primer_nombre\": null,\n    \"segundo_nombre\": null,\n    \"tipo_doc\": null,\n    \"pais_nacimiento\": null,\n    \"nacionalidad\": null,\n    \"genero\": null,\n    \"estado_civil\": null,\n    \"nivel_estudios\": null,\n    \"grupo_etnico\": null,\n    \"profesion\": null,\n    \"ocupacion\": null,\n    \"clase_cliente\": null,\n    \"barrio_resi\": null,\n    \"estrato_resi\": null,\n    \"tipo_vivienda\": null,\n    \"nombre_empresa\": null,\n    \"punto_venta\": null,\n    \"tipo_contrato\": null,\n    \"tipo_empresa\": null,\n    \"cargo_actual\": null,\n    \"cargo_politico\": null,\n    \"nombre_ref_fam1\": null,\n    \"parentesco_ref_fam1\": null,\n    \"nombre_ref_fam2\": null,\n    \"nombre_ref_per1\": null,\n    \"nombre_banco_cuenta\": null,\n    \"tipo_cuenta\": null,\n    \"desc_otros_activos\": null,\n    \"desc_otros_pasivos\": null,\n    \"otros_activos_pasivos\": null,\n    \"nombre_banco_ext1\": null,\n    \"tipo_producto_ext1\": null,\n    \"moneda_ext1\": null,\n    \"ciudad_banco_ext1\": null,\n    \"pais_banco_ext1\": null,\n    \"nombre_banco_ext2\": null,\n    \"tipo_producto_ext2\": null,\n    \"moneda_ext2\": null,\n    \"ciudad_banco_ext2\": null,\n    \"pais_banco_ext2\": null,\n    \"calificacion_cliente\": null,\n    \"tipo_cliente_datacredito\": null,\n    \"tipo_libranza\": null,\n    \"razon_social_originador\": null,\n    \"razon_social_pagaduria\": null,\n    \"segmento_libranza\": null,\n    \"razon_social_fideicomisos\": null,\n    \"fondeador\": null,\n    \"oficina_asociado\": null,\n    \"tipo_aval\": null,\n    \"benef_grat1\": null,\n    \"benef_grat2\": null,\n    \"created_at\": \"2025-02-10T12:28:28.942-05:00\",\n    \"updated_at\": \"2025-02-10T12:28:28.942-05:00\",\n    \"persona_id\": null,\n    \"p_patrimonial\": \"1406044.0\",\n    \"personasobligacion_id\": null,\n    \"cuotas_credito\": null,\n    \"cuota_cupo_tdcusado\": null,\n    \"cuota_cupo_tdcconting\": null,\n    \"cuota_cupo_rotausado\": null,\n    \"cuota_cupo_rotaconting\": null,\n    \"gastos_familiares_pensionado\": null,\n    \"gastos_familiares_activo\": null,\n    \"tasa_usura_ultimos_meses\": null,\n    \"gastos_financieros\": null,\n    \"porcent_endeudamiento\": null,\n    \"dias_int_ant\": null,\n    \"int_anticipado\": \"472196.0\",\n    \"gto_plataforma\": \"0.0\",\n    \"valor_prestamo_sin_c\": null,\n    \"valor_prestamo_sin_r\": null,\n    \"valor_prestamo_sin_cc\": null,\n    \"total_oblm_sf\": null,\n    \"total_oblm_mayor_7\": null,\n    \"total_obl_castigadas_mayor_15\": null,\n    \"total_oblm_mayor_90\": null,\n    \"total_deuda_sf\": null,\n    \"total_deuda_sc\": null,\n    \"total_deuda_sr\": null,\n    \"valor_cuota_total\": \"293387.0\",\n    \"email_ref_fam1\": null,\n    \"email_ref_pers1\": null,\n    \"estadoscivil_id\": null,\n    \"municipio_id\": null,\n    \"ciudadexpedicion_id\": null,\n    \"tiposdocumento_id\": null,\n    \"partiposproducto_id\": null,\n    \"portafoliosvehiculo_id\": null,\n    \"pagaduria_id\": null,\n    \"cliente_id\": null,\n    \"fecha_solicitud\": null,\n    \"barrio_empresa\": null,\n    \"det_otros_ingr\": null,\n    \"origen_fondos\": null,\n    \"ingresos_brutos\": null,\n    \"estado_credito\": \"Tesoreria\",\n    \"departamento_residencia\": null,\n    \"departamento_empresa\": null,\n    \"cuota_corriente\": \"281498.0\",\n    \"cambio_condiciones\": null,\n    \"codigo_region\": null,\n    \"id_transaccion\": 32645,\n    \"request\": null,\n    \"response\": null,\n    \"municipio_residencia\": null,\n    \"corretaje\": \"781136.0\",\n    \"seguro_incorporacion\": \"0.0\",\n    \"estudio_credito\": \"520549.0\",\n    \"descuentos_giro\": \"12000.0\",\n    \"gmf\": \"62491.0\",\n    \"parentesco_benef1\": null,\n    \"parentesco_benef2\": null,\n    \"porc_benef_grat3\": null,\n    \"parentesco1\": null,\n    \"parentesco2\": null,\n    \"parentesco3\": null,\n    \"benef_grat3\": null,\n    \"no_doc_benef_grat3\": null,\n    \"descuento_giro\": null,\n    \"tipo_servicio\": \"UPDATE\",\n    \"portafoliossucursal_id\": null,\n    \"nro_credito\": \"639\",\n    \"prima_comercial\": null\n  }\n}\n</code></pre>"},{"location":"tecfinanzas_actualizar/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"tecfinanzas_actualizar/#respuesta-campos-requeridos","title":"Respuesta Campos Requeridos","text":"<pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"Nro documento no puede estar en blanco\"\n  ]\n}\n</code></pre>"},{"location":"tecfinanzas_importar/","title":"Servicio para importar datos","text":"<p>Descripci\u00f3n: Este servicio permite recibir parametros para el proceso de creacion de los datos demograficos y informaci\u00f3n financiera dentro de TESEO.</p> <p>Tipo de Servicio: POST</p>"},{"location":"tecfinanzas_importar/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/originador</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/originador</code></li> </ul>"},{"location":"tecfinanzas_importar/#headers","title":"Headers","text":"<p>El proceso requiere los siguientes encabezados en la solicitud:</p> <ul> <li>Accept: <code>application/json</code> (Obligatorio)</li> <li>Content-Type: <code>application/json</code> (Obligatorio)</li> <li>Authorization: <code>Bearer ${token}</code> (Obligatorio)</li> </ul>"},{"location":"tecfinanzas_importar/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>La informaci\u00f3n debe enviarse en formato JSON. Ejemplo:</p>"},{"location":"tecfinanzas_importar/#campos-obligatorios","title":"Campos Obligatorios","text":"<ul> <li> <p>Son obligatorios para que el proceso responda correctamente</p> </li> <li> <p>nro_documento</p> </li> <li>no_pagare</li> <li>fecha_desemb</li> <li>tipo_libranza</li> <li>segmento_libranza</li> <li>nit_originador</li> <li>nit_pagaduria</li> <li>nit_fideicomisos</li> <li>valor_desembolso</li> <li>plazo_inicial_credito</li> <li>tasa_interes</li> <li>valor_aval</li> <li>tipo_entidad</li> <li>primer_apellido</li> <li>primer_nombre</li> <li>tipo_doc</li> <li>id_transaccion</li> <li>dias_int_ant</li> <li>poliza</li> <li>nro_personas</li> </ul> <pre><code> {\n  \"datostecfinanza\": {\n    \"nro_documento\": \"129905111 \",\n    \"dir_residencia\": \"CRA 50 60 16\",\n    \"correo\": \"edgarortizortiz1967@gmail.com\",\n    \"dir_familiar\": \"CRA 50 60 16\",\n    \"dir_correspondencia\": \"CRA 50 60 16\",\n    \"dir_empresa_labora\": \"BUITRERA KM 7\",\n    \"email_labora\": \"edgarortizortiz1967@gmail.com\",\n    \"dir_ref_fam1\": \"CALLE 72K # 27B -27\",\n    \"dir_ref_per1\": \"CALLE 67 # 1E - 24\",\n    \"cuenta_ext1\": \"\",\n    \"cuenta_ext2\": \"\",\n    \"no_pagare\": \"710\",\n    \"poliza\": \"8600\",\n    \"fecha_expedicion_doc\": \"1985-09-30\",\n    \"fecha_nacimiento\": \"1967-07-16\",\n    \"fecha_ingreso\": \"Aug 30 2005 12:00AM\",\n    \"fecha_ultima\": \"2024-11-20T15:49:49\",\n    \"fecha_ini_cargo\": \"\",\n    \"fecha_fin_cargo\": \"\",\n    \"fecha_desemb\": \"2025-01-02\",\n    \"fecha_ing_poliza\": \"2025-01-02\",\n    \"clase_poliza\": \"1\",\n    \"tipo_cliente\": \"N\",\n    \"codigo_dane_exp_doc\": \"52001\",\n    \"codigo_dane_nacim\": \"25019\",\n    \"codigo_ciiu_cliente\": \"10\",\n    \"antig_actividad\": \"233\",\n    \"codigo_dane_resid\": \"76001\",\n    \"tel_fijo_resi\": \"3172127830\",\n    \"tel_cel\": \"3172127830\",\n    \"codigo_dane_dir_fam\": \"76001\",\n    \"codigo_dane_dir_corr\": \"76001\",\n    \"codigo_dane_dir_emp\": \"76001\",\n    \"tel_fijo_ofi\": \"\",\n    \"ext_ofi_lab\": \"\",\n    \"nro_renov_contrato\": \"\",\n    \"nro_personas\": \"1\",\n    \"menores_18\": \"0\",\n    \"codigo_dane_ref_fam1\": \"76001\",\n    \"tel_ref_fam1\": \"3155821348\",\n    \"codigo_dane_ref_per1\": \"76001\",\n    \"tel_ref_per1\": \"3156035917\",\n    \"nro_cuenta\": \"giro pin\",\n    \"valor_ingreso_salario\": \"4258393\",\n    \"valor_ingreso_comisiones\": \"0\",\n    \"valor_ingreso_honorarios\": \"0\",\n    \"valor_ingresos_arrend\": \"0\",\n    \"valor_rendimientos\": \"0\",\n    \"otros_ingresos\": \"0\",\n    \"valor_total_ingresos\": \"4258393.00\",\n    \"valor_deducciones_ley\": \"366176\",\n    \"valor_otras_deducciones\": \"0\",\n    \"valor_arrend_cliente\": \"0\",\n    \"valor_cuota_credito\": \"0\",\n    \"valor_gastos_tarjeta\": \"0\",\n    \"valor_gastos_familiares\": \"1500000\",\n    \"valor_gastos_sost\": \"0\",\n    \"valor_pago_otros_creditos\": \"0\",\n    \"otros_egresos\": \"0\",\n    \"valor_total_egresos\": \"1866176\",\n    \"valor_activos_corrientes\": \"0\",\n    \"valor_activos_fijos\": \"250000000\",\n    \"valor_otros_activos\": \"0\",\n    \"total_activos\": \"250000000\",\n    \"valor_pasivos_financieros\": \"5000000\",\n    \"valor_pasivos_corrientes\": \"0\",\n    \"valor_otros_pasivos\": \"0\",\n    \"total_pasivos\": \"5000000\",\n    \"patrimonio\": \"245000000\",\n    \"monto_solicitado\": \"14334900\",\n    \"monto_cuenta_ext1\": \"0\",\n    \"monto_cuenta_ext2\": \"0\",\n    \"puntaje_acierta\": \"0\",\n    \"nro_cuentas_embargadas\": \"1\",\n    \"nro_cuentas_canceladas\": \"0\",\n    \"nro_obligaciones_mora\": \"1\",\n    \"nro_obligaciones_mora_coop\": \"0\",\n    \"nro_carteras_castigadas\": \"0\",\n    \"nro_carteras_dudoso\": \"0\",\n    \"nro_obligaciones_reestructuradas\": \"1\",\n    \"nro_obligaciones_calificadas_c\": \"0\",\n    \"nro_obligaciones_calificadas_d\": \"0\",\n    \"nro_obligaciones_calificadas_e\": \"0\",\n    \"nro_moras_30_dias\": \"0\",\n    \"nro_moras_60_dias\": \"0\",\n    \"nro_moras_sup_60_dias\": \"11\",\n    \"nro_entidades_consulta\": \"0\",\n    \"quanto_minimo\": \"0\",\n    \"quanto_maximo\": \"0\",\n    \"quanto_medio\": \"0\",\n    \"sum_cuotas_creditos\": \"200000\",\n    \"sum_saldos_tdc\": \"47110000\",\n    \"sum_cupos_tdc\": \"50000000\",\n    \"cuota_cupo_tdcconting\": \"0\",\n    \"cuota_cupo_rotausado\": \"1571631.4565566\",\n    \"cuota_cupo_rotaconting\": \"31816.2793487163\",\n    \"gastos_familiares_pensionado\": \"0\",\n    \"gastos_familiares_activo\": \"1150487.29166667\",\n    \"gastos_financieros\": \"1803447.73590531\",\n    \"porcent_endeudamiento\": \"0.731873366174438\",\n    \"tasa_usura_ultimos_meses\": \"2.071825\",\n    \"nro_embargos_pago\": \"0\",\n    \"nro_procesos_civiles\": \"0\",\n    \"nit_custodia\": \"900690783\",\n    \"nit_originador\": \"900690783\",\n    \"nit_pagaduria\": \"8903990113\",\n    \"nit_fideicomisos\": \"9016191431\",\n    \"codigo_fideicomiso\": \"\",\n    \"valor_desembolso\": \"14334900.00\",\n    \"plazo_inicial_credito\": \"53\",\n    \"tasa_interes\": \"1.600000\",\n    \"valor_aval\": \"0.00\",\n    \"periodicidad\": \"2\",\n    \"porcentaje_reserva\": \"83.2\",\n    \"prima_segvida\": \"10909.00\",\n    \"no_doc_benef_grat1\": \"1141542334\",\n    \"porc_benef_grat1\": \"100\",\n    \"no_doc_benef_grat2\": \"\",\n    \"porc_benef_grat2\": \"0\",\n    \"no_doc_benef_grat3\": \"\",\n    \"porc_benef_grat3\": \"0\",\n    \"tipo_entidad\": \"LIBRANZA PUBLICA\",\n    \"cliente_declara\": \"SI\",\n    \"desempena_cargo\": \"2\",\n    \"manejo_recursos\": \"2\",\n    \"representa_organizacion\": \"\",\n    \"cliente_es_pep\": \"2\",\n    \"vinculo_con_pep\": \"NO\",\n    \"reconocimiento_publico\": \"2\",\n    \"posee_cuenta\": \"NO\",\n    \"realiza_operaciones\": \"NO\",\n    \"importaciones\": \"NO\",\n    \"credito_documentario\": \"NO\",\n    \"giros_directos\": \"NO\",\n    \"negociacion_divisas\": \"NO\",\n    \"leasing_importacion\": \"NO\",\n    \"giros_financiados\": \"NO\",\n    \"exportaciones\": \"NO\",\n    \"inversiones\": \"NO\",\n    \"venta_bienes\": \"NO\",\n    \"honorarios_comisiones\": \"NO\",\n    \"ingresos_actividad\": \"NO\",\n    \"prestamo_bancario\": \"NO\",\n    \"rifas\": \"NO\",\n    \"pension\": \"NO\",\n    \"herencia\": \"NO\",\n    \"liq_prestaciones\": \"NO\",\n    \"liq_sucesiones\": \"NO\",\n    \"otros\": \"NO\",\n    \"cuentas_moneda_ext\": \"NO\",\n    \"permanencia_eeuu\": \"NO\",\n    \"tarjeta_verde\": \"NO\",\n    \"ingresos_fdap\": \"NO\",\n    \"ingreso_bruto_venta\": \"NO\",\n    \"ciudadano_eeuu\": \"NO\",\n    \"obligado_tributar\": \"NO\",\n    \"coincidencia_listas\": \"NO\",\n    \"procesos_cooperativa\": \"NO\",\n    \"extraprima\": \"NO\",\n    \"primer_apellido\": \"ORTIZ\",\n    \"segundo_apellido\": \"ORTIZ\",\n    \"primer_nombre\": \"EDGAR\",\n    \"segundo_nombre\": \"ARTURO\",\n    \"tipo_doc\": \"1\",\n    \"pais_nacimiento\": \"COLOMBIA\",\n    \"nacionalidad\": \"COLOMBIANA\",\n    \"genero\": \"1\",\n    \"estado_civil\": \"4\",\n    \"nivel_estudios\": \"3\",\n    \"grupo_etnico\": \"6\",\n    \"profesion\": \"DOCENTE\",\n    \"ocupacion\": \"1\",\n    \"clase_cliente\": \"\",\n    \"barrio_resi\": \"BRISAS DEL LIMONAR\",\n    \"estrato_resi\": \"3\",\n    \"tipo_vivienda\": \"4\",\n    \"nombre_empresa\": \"SECRETARIA DE EDUCACION DE CALI\",\n    \"punto_venta\": \"PRINCIPAL\",\n    \"tipo_contrato\": \"13\",\n    \"tipo_empresa\": \"1\",\n    \"cargo_actual\": \"DOCENTE\",\n    \"cargo_politico\": \"\",\n    \"nombre_ref_fam1\": \"HENRY ORTIZ CIRDOBA\",\n    \"parentesco_ref_fam1\": \"22\",\n    \"nombre_ref_per1\": \"FABIAN BETANCOURT\",\n    \"nombre_banco_cuenta\": \"BANCOLOMBIA\",\n    \"tipo_cuenta\": \"1\",\n    \"desc_otros_activos\": \"0\",\n    \"desc_otros_pasivos\": \"0\",\n    \"otros_activos_pasivos\": \"0\",\n    \"nombre_banco_ext1\": \"\",\n    \"tipo_producto_ext1\": \"\",\n    \"moneda_ext1\": \"\",\n    \"ciudad_banco_ext1\": \"\",\n    \"pais_banco_ext1\": \"\",\n    \"nombre_banco_ext2\": \"\",\n    \"tipo_producto_ext2\": \"\",\n    \"moneda_ext2\": \"\",\n    \"ciudad_banco_ext2\": \"\",\n    \"pais_banco_ext2\": \"\",\n    \"calificacion_cliente\": \"0\",\n    \"tipo_cliente_datacredito\": \"1\",\n    \"tipo_libranza\": \"2\",\n    \"razon_social_originador\": \"VANTAGE THE FINANCE PRACTICE SAS\",\n    \"razon_social_pagaduria\": \"SECRETARIA DE EDUCACION DE CALI\",\n    \"segmento_libranza\": \"1\",\n    \"razon_social_fideicomisos\": \"FIDEICOMISO MASTER TRUST - VANTAGE/ONEST\",\n    \"fondeador\": \"\",\n    \"oficina_asociado\": \"CALI\",\n    \"tipo_aval\": \"3\",\n    \"benef_grat1\": \" Joshu\u00e9 Ortiz Robles\",\n    \"benef_grat2\": \"\",\n    \"benef_grat3\": \"\",\n    \"int_anticipado\": \"462387.00\",\n    \"p_patrimonial\": \"1290141.00\",\n    \"gto_plataforma\": \"0.00\",\n    \"corretaje\": \"716745.00\",\n    \"seguro_incorporacion\": \"0.00\",\n    \"estudio_credito\": \"477639.00\",\n    \"gmf\": \"57340.00\",\n    \"descuento_giro\": \"24000.00\",\n    \"valor_prestamo_sin_c\": \"1457000\",\n    \"valor_prestamo_sin_r\": \"200000\",\n    \"valor_prestamo_sin_cc\": \"0\",\n    \"total_oblm_sf\": \"0\",\n    \"total_oblm_mayor_7\": \"0\",\n    \"total_obl_castigadas_mayor_15\": \"0\",\n    \"total_oblm_mayor_90\": \"1\",\n    \"total_deuda_sf\": \"47110000\",\n    \"total_deuda_sc\": \"0\",\n    \"total_deuda_sr\": \"2318000\",\n    \"nro_solicitud\": \"2736                \",\n    \"fecha_solicitud\": \"2024-11-20\",\n    \"barrio_empresa\": \"BUITRERA\",\n    \"email_ref_fam1\": \"hortiz@hotmail.com\",\n    \"email_ref_pers1\": \"fabi25@gmail.com\",\n    \"det_otros_ingr\": \"arriendos\",\n    \"departamento_residencia\": \"76\",\n    \"departamento_empresa\": \"76\",\n    \"cuota_corriente\": \"403200.00\",\n    \"valor_cuota_total\": \"414109.00\",\n    \"origen_fondos\": \"SALARIO\",\n    \"ingresos_brutos\": \"4601949.16666667\",\n    \"estado_credito\": \"Desembolsado\",\n    \"cambio_condiciones\": \"NO\",\n    \"dias_int_ant\": \"60\",\n    \"codigo_region\": \"\",\n    \"id_transaccion\": \"156711\",\n    \"parentesco1\": \"hijo\",\n    \"parentesco2\": \"\",\n    \"parentesco3\": \"\"\n  }\n}\n\n</code></pre>"},{"location":"tecfinanzas_importar/#respuesta-success","title":"Respuesta Success","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"id\": 3,\n    \"nro_documento\": \"129905111 \",\n    \"dir_residencia\": \"CRA 50 60 16\",\n    \"correo\": \"edgarortizortiz1967@gmail.com\",\n    \"dir_familiar\": \"CRA 50 60 16\",\n    \"dir_correspondencia\": \"CRA 50 60 16\",\n    \"dir_empresa_labora\": \"BUITRERA KM 7\",\n    \"email_labora\": \"edgarortizortiz1967@gmail.com\",\n    \"dir_ref_fam1\": \"CALLE 72K # 27B -27\",\n    \"dir_ref_per1\": \"CALLE 67 # 1E - 24\",\n    \"cuenta_ext1\": \"\",\n    \"cuenta_ext2\": \"\",\n    \"no_pagare\": \"710\",\n    \"poliza\": \"8600\",\n    \"fecha_expedicion_doc\": \"1985-09-30\",\n    \"fecha_nacimiento\": \"1967-07-16\",\n    \"fecha_ingreso\": \"Aug 30 2005 12:00AM\",\n    \"fecha_ultima\": \"2024-11-20T15:49:49\",\n    \"fecha_ini_cargo\": \"\",\n    \"fecha_fin_cargo\": \"\",\n    \"fecha_desemb\": \"2025-01-02\",\n    \"fecha_ing_poliza\": \"2025-01-02\",\n    \"clase_poliza\": \"1\",\n    \"tipo_cliente\": \"N\",\n    \"codigo_dane_exp_doc\": \"52001\",\n    \"codigo_dane_nacim\": \"25019\",\n    \"codigo_ciiu_cliente\": \"10\",\n    \"antig_actividad\": \"233\",\n    \"codigo_dane_resid\": \"76001\",\n    \"tel_fijo_resi\": \"3172127830\",\n    \"tel_cel\": \"3172127830\",\n    \"codigo_dane_dir_fam\": \"76001\",\n    \"codigo_dane_dir_corr\": \"76001\",\n    \"codigo_dane_dir_emp\": \"76001\",\n    \"tel_fijo_ofi\": \"\",\n    \"ext_ofi_lab\": \"\",\n    \"nro_renov_contrato\": \"\",\n    \"nro_personas\": \"1\",\n    \"menores_18\": \"0\",\n    \"codigo_dane_ref_fam1\": \"76001\",\n    \"tel_ref_fam1\": \"3155821348\",\n    \"codigo_dane_ref_per1\": \"76001\",\n    \"tel_ref_per1\": \"3156035917\",\n    \"nro_cuenta\": \"giro pin\",\n    \"valor_ingreso_salario\": \"4258393\",\n    \"valor_ingreso_comisiones\": \"0\",\n    \"valor_ingreso_honorarios\": \"0\",\n    \"valor_ingresos_arrend\": \"0\",\n    \"valor_rendimientos\": \"0\",\n    \"otros_ingresos\": \"0\",\n    \"valor_total_ingresos\": \"4258393.00\",\n    \"valor_deducciones_ley\": \"366176\",\n    \"valor_otras_deducciones\": \"0\",\n    \"valor_arrend_cliente\": \"0\",\n    \"valor_cuota_credito\": \"0\",\n    \"valor_gastos_tarjeta\": \"0\",\n    \"valor_gastos_familiares\": \"1500000\",\n    \"valor_gastos_sost\": \"0\",\n    \"valor_pago_otros_creditos\": \"0\",\n    \"otros_egresos\": \"0\",\n    \"valor_total_egresos\": \"1866176\",\n    \"valor_activos_corrientes\": \"0\",\n    \"valor_activos_fijos\": \"250000000\",\n    \"valor_otros_activos\": \"0\",\n    \"total_activos\": \"250000000\",\n    \"valor_pasivos_financieros\": \"5000000\",\n    \"valor_pasivos_corrientes\": \"0\",\n    \"valor_otros_pasivos\": \"0\",\n    \"total_pasivos\": \"5000000\",\n    \"patrimonio\": \"245000000\",\n    \"monto_solicitado\": \"14334900\",\n    \"monto_cuenta_ext1\": \"0\",\n    \"monto_cuenta_ext2\": \"0\",\n    \"puntaje_acierta\": \"0\",\n    \"nro_cuentas_embargadas\": \"1\",\n    \"nro_cuentas_canceladas\": \"0\",\n    \"nro_obligaciones_mora\": \"1\",\n    \"nro_obligaciones_mora_coop\": \"0\",\n    \"nro_carteras_castigadas\": \"0\",\n    \"nro_carteras_dudoso\": \"0\",\n    \"nro_obligaciones_reestructuradas\": \"1\",\n    \"nro_obligaciones_calificadas_c\": \"0\",\n    \"nro_obligaciones_calificadas_d\": \"0\",\n    \"nro_obligaciones_calificadas_e\": \"0\",\n    \"nro_moras_30_dias\": \"0\",\n    \"nro_moras_60_dias\": \"0\",\n    \"nro_moras_sup_60_dias\": \"11\",\n    \"nro_entidades_consulta\": \"0\",\n    \"quanto_minimo\": \"0\",\n    \"quanto_maximo\": \"0\",\n    \"quanto_medio\": \"0\",\n    \"sum_cuotas_creditos\": \"200000\",\n    \"sum_saldos_tdc\": \"47110000\",\n    \"sum_cupos_tdc\": \"50000000\",\n    \"cuota_cupo_tdcconting\": \"0\",\n    \"cuota_cupo_rotausado\": \"1571631.4565566\",\n    \"cuota_cupo_rotaconting\": \"31816.2793487163\",\n    \"gastos_familiares_pensionado\": \"0\",\n    \"gastos_familiares_activo\": \"1150487.29166667\",\n    \"gastos_financieros\": \"1803447.73590531\",\n    \"porcent_endeudamiento\": \"0.731873366174438\",\n    \"tasa_usura_ultimos_meses\": \"2.071825\",\n    \"nro_embargos_pago\": \"0\",\n    \"nro_procesos_civiles\": \"0\",\n    \"nit_custodia\": \"900690783\",\n    \"nit_originador\": \"900690783\",\n    \"nit_pagaduria\": \"8903990113\",\n    \"nit_fideicomisos\": \"9016191431\",\n    \"codigo_fideicomiso\": \"\",\n    \"valor_desembolso\": \"14334900.00\",\n    \"plazo_inicial_credito\": \"53\",\n    \"tasa_interes\": \"1.600000\",\n    \"valor_aval\": \"0.00\",\n    \"periodicidad\": \"2\",\n    \"porcentaje_reserva\": \"83.2\",\n    \"prima_segvida\": \"10909.00\",\n    \"no_doc_benef_grat1\": \"1141542334\",\n    \"porc_benef_grat1\": \"100\",\n    \"no_doc_benef_grat2\": \"\",\n    \"porc_benef_grat2\": \"0\",\n    \"no_doc_benef_grat3\": \"\",\n    \"porc_benef_grat3\": \"0\",\n    \"tipo_entidad\": \"LIBRANZA PUBLICA\",\n    \"cliente_declara\": \"SI\",\n    \"desempena_cargo\": \"2\",\n    \"manejo_recursos\": \"2\",\n    \"representa_organizacion\": \"\",\n    \"cliente_es_pep\": \"2\",\n    \"vinculo_con_pep\": \"NO\",\n    \"reconocimiento_publico\": \"2\",\n    \"posee_cuenta\": \"NO\",\n    \"realiza_operaciones\": \"NO\",\n    \"importaciones\": \"NO\",\n    \"credito_documentario\": \"NO\",\n    \"giros_directos\": \"NO\",\n    \"negociacion_divisas\": \"NO\",\n    \"leasing_importacion\": \"NO\",\n    \"giros_financiados\": \"NO\",\n    \"exportaciones\": \"NO\",\n    \"inversiones\": \"NO\",\n    \"venta_bienes\": \"NO\",\n    \"honorarios_comisiones\": \"NO\",\n    \"ingresos_actividad\": \"NO\",\n    \"prestamo_bancario\": \"NO\",\n    \"rifas\": \"NO\",\n    \"pension\": \"NO\",\n    \"herencia\": \"NO\",\n    \"liq_prestaciones\": \"NO\",\n    \"liq_sucesiones\": \"NO\",\n    \"otros\": \"NO\",\n    \"cuentas_moneda_ext\": \"NO\",\n    \"permanencia_eeuu\": \"NO\",\n    \"tarjeta_verde\": \"NO\",\n    \"ingresos_fdap\": \"NO\",\n    \"ingreso_bruto_venta\": \"NO\",\n    \"ciudadano_eeuu\": \"NO\",\n    \"obligado_tributar\": \"NO\",\n    \"coincidencia_listas\": \"NO\",\n    \"procesos_cooperativa\": \"NO\",\n    \"extraprima\": \"NO\",\n    \"primer_apellido\": \"ORTIZ\",\n    \"segundo_apellido\": \"ORTIZ\",\n    \"primer_nombre\": \"EDGAR\",\n    \"segundo_nombre\": \"ARTURO\",\n    \"tipo_doc\": \"1\",\n    \"pais_nacimiento\": \"COLOMBIA\",\n    \"nacionalidad\": \"COLOMBIANA\",\n    \"genero\": \"1\",\n    \"estado_civil\": \"4\",\n    \"nivel_estudios\": \"3\",\n    \"grupo_etnico\": \"6\",\n    \"profesion\": \"DOCENTE\",\n    \"ocupacion\": \"1\",\n    \"clase_cliente\": \"\",\n    \"barrio_resi\": \"BRISAS DEL LIMONAR\",\n    \"estrato_resi\": \"3\",\n    \"tipo_vivienda\": \"4\",\n    \"nombre_empresa\": \"SECRETARIA DE EDUCACION DE CALI\",\n    \"punto_venta\": \"PRINCIPAL\",\n    \"tipo_contrato\": \"13\",\n    \"tipo_empresa\": \"1\",\n    \"cargo_actual\": \"DOCENTE\",\n    \"cargo_politico\": \"\",\n    \"nombre_ref_fam1\": \"HENRY ORTIZ CIRDOBA\",\n    \"parentesco_ref_fam1\": \"22\",\n    \"nombre_ref_per1\": \"FABIAN BETANCOURT\",\n    \"nombre_banco_cuenta\": \"BANCOLOMBIA\",\n    \"tipo_cuenta\": \"1\",\n    \"desc_otros_activos\": \"0\",\n    \"desc_otros_pasivos\": \"0\",\n    \"otros_activos_pasivos\": \"0\",\n    \"nombre_banco_ext1\": \"\",\n    \"tipo_producto_ext1\": \"\",\n    \"moneda_ext1\": \"\",\n    \"ciudad_banco_ext1\": \"\",\n    \"pais_banco_ext1\": \"\",\n    \"nombre_banco_ext2\": \"\",\n    \"tipo_producto_ext2\": \"\",\n    \"moneda_ext2\": \"\",\n    \"ciudad_banco_ext2\": \"\",\n    \"pais_banco_ext2\": \"\",\n    \"calificacion_cliente\": \"0\",\n    \"tipo_cliente_datacredito\": \"1\",\n    \"tipo_libranza\": \"2\",\n    \"razon_social_originador\": \"VANTAGE THE FINANCE PRACTICE SAS\",\n    \"razon_social_pagaduria\": \"SECRETARIA DE EDUCACION DE CALI\",\n    \"segmento_libranza\": \"1\",\n    \"razon_social_fideicomisos\": \"FIDEICOMISO MASTER TRUST - VANTAGE/ONEST\",\n    \"fondeador\": \"\",\n    \"oficina_asociado\": \"CALI\",\n    \"tipo_aval\": \"3\",\n    \"benef_grat1\": \" Joshu\u00e9 Ortiz Robles\",\n    \"benef_grat2\": \"\",\n    \"benef_grat3\": \"\",\n    \"int_anticipado\": \"462387.00\",\n    \"p_patrimonial\": \"1290141.00\",\n    \"gto_plataforma\": \"0.00\",\n    \"corretaje\": \"716745.00\",\n    \"seguro_incorporacion\": \"0.00\",\n    \"estudio_credito\": \"477639.00\",\n    \"gmf\": \"57340.00\",\n    \"descuento_giro\": \"24000.00\",\n    \"valor_prestamo_sin_c\": \"1457000\",\n    \"valor_prestamo_sin_r\": \"200000\",\n    \"valor_prestamo_sin_cc\": \"0\",\n    \"total_oblm_sf\": \"0\",\n    \"total_oblm_mayor_7\": \"0\",\n    \"total_obl_castigadas_mayor_15\": \"0\",\n    \"total_oblm_mayor_90\": \"1\",\n    \"total_deuda_sf\": \"47110000\",\n    \"total_deuda_sc\": \"0\",\n    \"total_deuda_sr\": \"2318000\",\n    \"nro_solicitud\": \"2736                \",\n    \"fecha_solicitud\": \"2024-11-20\",\n    \"barrio_empresa\": \"BUITRERA\",\n    \"email_ref_fam1\": \"hortiz@hotmail.com\",\n    \"email_ref_pers1\": \"fabi25@gmail.com\",\n    \"det_otros_ingr\": \"arriendos\",\n    \"departamento_residencia\": \"76\",\n    \"departamento_empresa\": \"76\",\n    \"cuota_corriente\": \"403200.00\",\n    \"valor_cuota_total\": \"414109.00\",\n    \"origen_fondos\": \"SALARIO\",\n    \"ingresos_brutos\": \"4601949.16666667\",\n    \"estado_credito\": \"Desembolsado\",\n    \"cambio_condiciones\": \"NO\",\n    \"dias_int_ant\": \"60\",\n    \"codigo_region\": \"\",\n    \"id_transaccion\": \"156711\",\n    \"parentesco1\": \"hijo\",\n    \"parentesco2\": \"\",\n    \"parentesco3\": \"\",\n    \"created_at\": \"2024-08-16T17:32:11.761Z\",\n    \"updated_at\": \"2024-08-16T17:32:11.761Z\"\n  }\n}\n</code></pre>"},{"location":"tecfinanzas_importar/#respuesta-token-invalido","title":"Respuesta Token Invalido","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Token Inv\u00e1lido\",\n  \"details\": \"Signature has expired\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"tecfinanzas_importar/#respuestas-por-campos-requeridos","title":"Respuestas por Campos Requeridos","text":"<p>Durante el procesamiento de la solicitud, el sistema puede devolver respuestas en caso de que falten campos obligatorios o existan errores en la informaci\u00f3n enviada.</p>"},{"location":"tecfinanzas_importar/#ejemplo-de-respuesta-para-campos-requeridos","title":"Ejemplo de Respuesta para Campos Requeridos","text":"<pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"Nro documento no puede estar en blanco\"\n  ]\n}\n</code></pre>"},{"location":"tecfinanzas_importar/#descripcion-de-los-campos","title":"Descripci\u00f3n de los campos","text":"DESCRIPCI\u00d3N CAMPO TIPO CAMPO COMPONENTE N\u00famero Documento nro_documento VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n Residencia dir_residencia VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n de correo electr\u00f3nico correo VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n familiar dir_familiar VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n Correspondencia dir_correspondencia VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n de la Empresa donde Labora dir_empresa_labora VARCHAR2 DEMOGR\u00c1FICOS E-mail laboral email_labora VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n Referencia Familiar 1 dir_ref_fam1 VARCHAR2 DEMOGR\u00c1FICOS Direcci\u00f3n Referencia Personal 1 dir_ref_per1 VARCHAR2 DEMOGR\u00c1FICOS N\u00famero de cuenta en moneda extranjera1 cuenta_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA N\u00famero de cuenta en moneda extranjera2 cuenta_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA No. Pagar\u00e9 = N\u00famero Cr\u00e9dito no_pagare VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO N\u00famero de Solicitud del Cr\u00e9dito nro_solicitud VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO N\u00famero P\u00f3liza Cobertura Actual (para libranza privada viene vac\u00edo) poliza VARCHAR2 SEGURO Fecha Expedici\u00f3n Documento fecha_expedicion_doc DATE DEMOGR\u00c1FICOS Fecha Nacimiento fecha_nacimiento DATE DEMOGR\u00c1FICOS Fecha de ingreso a la empresa fecha_ingreso DATE DEMOGR\u00c1FICOS Fecha \u00daltima Actualizaci\u00f3n DATACR\u00c9DITO - EXPIRIAN fecha_ultima DATE DEMOGR\u00c1FICOS Fecha Inicio Cargo Pol\u00edtico fecha_ini_cargo DATE DEMOGR\u00c1FICOS Fecha Fin Cargo Pol\u00edtico fecha_fin_cargo DATE DEMOGR\u00c1FICOS Fecha desembolso (DD/MM/AAAA) fecha_desemb DATE INFORMACI\u00d3N CR\u00c9DITO Fecha ingreso p\u00f3liza (DEBE COINCIDIR CON FECHA DESEMBOLSO) fecha_ing_poliza DATE SEGURO Clase de p\u00f3liza de vida: SIMPRE HACER REFERENCIA A \"INDIVIDUAL\" clase_poliza VARCHAR2 SEGURO Tipo de Cliente (ALUDE A PERSONA NATURAL o PERSONA JUR\u00cdDICA) EN ESTE PROYECTO SIEMPRE PERSONA NATURAL tipo_cliente VARCHAR2 DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Expedici\u00f3n Documento codigo_dane_exp_doc NUMBER DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Nacimiento codigo_dane_nacim NUMBER DEMOGR\u00c1FICOS C\u00f3digo CIIU Registra Cliente (SIEMPRE SER\u00c1: \"020\" PENSIONADO o \"010\" EMPLEADO codigo_ciiu_cliente NUMBER DEMOGR\u00c1FICOS Antig\u00fcedad Actividad Econ\u00f3mica en meses (ES UN C\u00c1LCULO EN FECHA INGRESO - FECHA RADICACI\u00d3N) antig_actividad NUMBER DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Residencia codigo_dane_resid NUMBER DEMOGR\u00c1FICOS Tel\u00e9fono Fijo Residencia tel_fijo_resi VARCHAR2 DEMOGR\u00c1FICOS Tel\u00e9fono celular tel_cel VARCHAR2 DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Direcci\u00f3n Familiar codigo_dane_dir_fam NUMBER DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Correspondencia codigo_dane_dir_corr NUMBER DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Direcci\u00f3n Empresa donde labora codigo_dane_dir_emp NUMBER DEMOGR\u00c1FICOS Tel\u00e9fono Fijo Oficina donde labora tel_fijo_ofi VARCHAR2 DEMOGR\u00c1FICOS Extensi\u00f3n Oficina donde Labora ext_ofi_lab VARCHAR2 DEMOGR\u00c1FICOS N\u00famero Renovaciones Contrato T\u00e9rmino Fijo (normalmente vendr\u00e1 vac\u00edo) nro_renov_contrato VARCHAR2 DEMOGR\u00c1FICOS No. de personas a cargo nro_personas NUMBER DEMOGR\u00c1FICOS Personas a cargo menores de 18 a\u00f1os menores_18 NUMBER DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Direcci\u00f3n Referencia Familiar 1 codigo_dane_ref_fam1 NUMBER DEMOGR\u00c1FICOS Tel\u00e9fono Referencia Familiar 1 tel_ref_fam1 VARCHAR2 DEMOGR\u00c1FICOS C\u00f3digo DANE Ciudad Direcci\u00f3n Referencia Personal 1 codigo_dane_ref_per1 NUMBER DEMOGR\u00c1FICOS Tel\u00e9fono Referencia Personal 1 tel_ref_per1 VARCHAR2 DEMOGR\u00c1FICOS N\u00famero Cuenta Bancaria nro_cuenta NUMBER INFORMACI\u00d3N FINANCIERA Valor Ingreso / Salario FIJO Mensual valor_ingreso_salario NUMBER INFORMACI\u00d3N FINANCIERA Valor Ingreso por Comisiones Mensual valor_ingreso_comisiones NUMBER INFORMACI\u00d3N FINANCIERA Valor Ingresos por Honorarios Mensual valor_ingreso_honorarios NUMBER INFORMACI\u00d3N FINANCIERA Valor Ingresos por Arrendamientos Mensual valor_ingresos_arrend NUMBER INFORMACI\u00d3N FINANCIERA Valor Rendimientos Financieros Mensuales valor_rendimientos NUMBER INFORMACI\u00d3N FINANCIERA Otros ingresos Mensuales otros_ingresos NUMBER INFORMACI\u00d3N FINANCIERA Valor Total Ingresos Mes valor_total_ingresos NUMBER INFORMACI\u00d3N FINANCIERA Valor Deducciones de ley mes valor_deducciones_ley NUMBER INFORMACI\u00d3N FINANCIERA Valor Otras deducciones n\u00f3mina mes valor_otras_deducciones NUMBER INFORMACI\u00d3N FINANCIERA Valor Arrendamiento cliente mes valor_arrend_cliente NUMBER INFORMACI\u00d3N FINANCIERA Valor Cuota Cr\u00e9dito de vivienda cliente mes valor_cuota_credito NUMBER INFORMACI\u00d3N FINANCIERA Valor Gastos por Tarjeta Cr\u00e9dito cliente mes valor_gastos_tarjeta NUMBER INFORMACI\u00d3N FINANCIERA Valor Gastos Familiares cliente mes valor_gastos_familiares NUMBER INFORMACI\u00d3N FINANCIERA Valor Gastos de sostenimiento cliente mes valor_gastos_sost NUMBER INFORMACI\u00d3N FINANCIERA Valor Pago Otros Cr\u00e9ditos cliente mes valor_pago_otros_creditos NUMBER INFORMACI\u00d3N FINANCIERA Otros egresos cliente mes otros_egresos NUMBER INFORMACI\u00d3N FINANCIERA Valor Total egresos cliente mes valor_total_egresos NUMBER INFORMACI\u00d3N FINANCIERA Valor Activos Corrientes valor_activos_corrientes NUMBER INFORMACI\u00d3N FINANCIERA Valor Activos Fijos valor_activos_fijos NUMBER INFORMACI\u00d3N FINANCIERA Valor Otros Activos valor_otros_activos NUMBER INFORMACI\u00d3N FINANCIERA Total activos total_activos NUMBER INFORMACI\u00d3N FINANCIERA Valor Pasivos Financieros (deudas financieras) valor_pasivos_financieros NUMBER INFORMACI\u00d3N FINANCIERA Valor Pasivos Corrientes valor_pasivos_corrientes NUMBER INFORMACI\u00d3N FINANCIERA Valor Otros Pasivos valor_otros_pasivos NUMBER INFORMACI\u00d3N FINANCIERA Total pasivos total_pasivos NUMBER INFORMACI\u00d3N FINANCIERA Patrimonio patrimonio NUMBER INFORMACI\u00d3N FINANCIERA Monto Cr\u00e9dito Solicitado (antes estaba como Cupo Solicitado) monto_solicitado NUMBER INFORMACI\u00d3N FINANCIERA Monto cuenta en moneda extranjera1 monto_cuenta_ext1 NUMBER INFORMACI\u00d3N FINANCIERA Monto cuenta en moneda extranjera2 monto_cuenta_ext2 NUMBER INFORMACI\u00d3N FINANCIERA Puntaje Acierta Deudor puntaje_acierta NUMBER INFORMACI\u00d3N FINANCIERA Barrio Residencia barrio_resi VARCHAR2 DEMOGR\u00c1FICOS Estrato Residencia estrato_resi VARCHAR2 DEMOGR\u00c1FICOS Tipo de vivienda Residencia tipo_vivienda VARCHAR2 DEMOGR\u00c1FICOS Nombre empresa donde labora nombre_empresa VARCHAR2 DEMOGR\u00c1FICOS Punto de Venta donde labora (POR DEFECTIVO VIENE \"PRINCIPAL\") punto_venta VARCHAR2 DEMOGR\u00c1FICOS Tipo de contrato tipo_contrato VARCHAR2 DEMOGR\u00c1FICOS Tipo de empresa (\"P\u00daBLICA\", \"PRIVADA\", \"MIXTA\") tipo_empresa VARCHAR2 DEMOGR\u00c1FICOS Cargo Actual en la empresa cargo_actual VARCHAR2 DEMOGR\u00c1FICOS \u00bfCu\u00e1l Cargo Politico Desempe\u00f1a? cargo_politico VARCHAR2 DEMOGR\u00c1FICOS Nombre Referencia Familiar 1 nombre_ref_fam1 VARCHAR2 DEMOGR\u00c1FICOS Parentesco Referencia Familiar 1 parentesco_ref_fam1 VARCHAR2 DEMOGR\u00c1FICOS Nombre Referencia Personal 1 nombre_ref_per1 VARCHAR2 DEMOGR\u00c1FICOS Nombre Banco Cuenta Bancaria nombre_banco_cuenta VARCHAR2 INFORMACI\u00d3N FINANCIERA Tipo de Cuenta Bancaria tipo_cuenta VARCHAR2 INFORMACI\u00d3N FINANCIERA Descripci\u00f3n Otros Activos desc_otros_activos VARCHAR2 INFORMACI\u00d3N FINANCIERA Descripci\u00f3n Otros Pasivos desc_otros_pasivos VARCHAR2 INFORMACI\u00d3N FINANCIERA Otros otros_activos_pasivos VARCHAR2 INFORMACI\u00d3N FINANCIERA Nombre del banco donde tiene cuenta en moneda extranjera1 nombre_banco_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA Tipo producto en moneda extranjera1 tipo_producto_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA Moneda extranjera1 moneda_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA Ciudad del banco donde tiene cuenta en moneda extranjera1 ciudad_banco_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA Pa\u00eds donde posee cuenta en moneda extranjera1 pais_banco_ext1 VARCHAR2 INFORMACI\u00d3N FINANCIERA Nombre del banco donde tiene cuenta en moneda extranjera2 nombre_banco_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA Tipo producto en moneda extranjera2 tipo_producto_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA Moneda extranjera2 moneda_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA Ciudad del banco donde tiene cuenta en moneda extranjera2 ciudad_banco_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA Pa\u00eds donde posee cuenta en moneda extranjera2 pais_banco_ext2 VARCHAR2 INFORMACI\u00d3N FINANCIERA Calificaci\u00f3n del Cliente (MEJOR CALIFICACI\u00d3N EN DATACR\u00c9DITO) calificacion_cliente VARCHAR2 INFORMACI\u00d3N CENTRALES Tipo Cliente Datacredito tipo_cliente_datacredito VARCHAR2 INFORMACI\u00d3N CENTRALES Tipo de libranza (LINEA DE LIBRANZA : \"COMPRA DE CARTERA\", \"LIBRE INVERSI\u00d3N\", ETC) tipo_libranza VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Raz\u00f3n Social Originador (EN PRINCIPIO \"VANTAGE\") razon_social_originador VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Raz\u00f3n Social Pagaduria razon_social_pagaduria VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Segmento Libranza (\"PENSIONADO\", \"DOCENTE\", ETC) segmento_libranza VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Raz\u00f3n Social Fideicomisos razon_social_fideicomisos VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Fondeador (VIENE VACIO PORQUE AUN NO SE HA VENDIDO) fondeador VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Oficina Asociado (ALUDE A LA OFICINA DONDE SE RADIC\u00d3 CR\u00c9DITO) oficina_asociado VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Tipo de AVAL (EN LIBRANZA PRIVADA DEBE VENIR \"NORMALIZATE\", LIBRANZA P\u00daBLICA \"FIGARANTIAS\") tipo_aval VARCHAR2 SEGURO Beneficiario gratuito 1 benef_grat1 VARCHAR2 SEGURO Beneficiario gratuito 2 benef_grat2 VARCHAR2 SEGURO Protecci\u00f3n Patrimial o Seguro Cr\u00e9dito p_patrimonial NUMBER SEGURO No. de cuentas embargadas nro_cuentas_embargadas NUMBER INFORMACI\u00d3N CENTRALES No. de cuentas canceladas por mal manejo nro_cuentas_canceladas NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones en mora nro_obligaciones_mora NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones en mora (Sector cooperativo) nro_obligaciones_mora_coop NUMBER INFORMACI\u00d3N CENTRALES No. de carteras castigadas (Sector financiero o cooperativo) nro_carteras_castigadas NUMBER INFORMACI\u00d3N CENTRALES No. de carteras en dudoso recaudo nro_carteras_dudoso NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones reestructuradas nro_obligaciones_reestructuradas NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones calificadas en \"C\" (Sector financiero) nro_obligaciones_calificadas_C NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones calificadas en \"D\" (Sector financiero) nro_obligaciones_calificadas_D NUMBER INFORMACI\u00d3N CENTRALES No. de obligaciones calificadas en \"E\" (Sector financiero) nro_obligaciones_calificadas_E NUMBER INFORMACI\u00d3N CENTRALES N\u00famero moras de 30 d\u00edas en los \u00faltimos 12 meses nro_moras_30_dias NUMBER INFORMACI\u00d3N CENTRALES N\u00famero moras de 60 d\u00edas en los \u00faltimos 12 meses nro_moras_60_dias NUMBER INFORMACI\u00d3N CENTRALES N\u00famero moras superiores a 60 d\u00edas en los \u00faltimos 12 meses nro_moras_sup_60_dias NUMBER INFORMACI\u00d3N CENTRALES No. entidades (financieras y cooperativas) que consultan \u00faltimos 6 meses nro_entidades_consulta NUMBER INFORMACI\u00d3N CENTRALES Quanto m\u00ednimo ($) quanto_minimo NUMBER INFORMACI\u00d3N CENTRALES Quanto m\u00e1ximo ($) quanto_maximo NUMBER INFORMACI\u00d3N CENTRALES Quanto medio ($) quanto_medio NUMBER INFORMACI\u00d3N CENTRALES \u2211 Cuotas cr\u00e9ditos de consumo (sin incluir TDC, CBR ni CAV) Centrales de Riesgo sum_cuotas_creditos NUMBER INFORMACI\u00d3N CENTRALES \u2211 Saldos TDC y CBR Centrales de Riesgo sum_saldos_tdc NUMBER INFORMACI\u00d3N CENTRALES \u2211 Cupos TDC y CBR Centrales de Riesgo sum_cupos_tdc NUMBER INFORMACI\u00d3N CENTRALES No. de embargos en desprendible de pago nro_embargos_pago NUMBER INFORMACI\u00d3N CENTRALES N\u00b0 de procesos civiles en contra en curso nro_procesos_civiles NUMBER INFORMACI\u00d3N CENTRALES NIT Custodia Pagar\u00e9 (normalmente vac\u00edo por el momento) nit_custodia NUMBER INFORMACI\u00d3N CR\u00c9DITO NIT Originador (NIT VANTAGE 900690783) nit_originador NUMBER INFORMACI\u00d3N CR\u00c9DITO NIT Pagadur\u00eda (NIT DE LA PAGADURIA ASOCIADA AL DEUDOR) nit_pagaduria NUMBER INFORMACI\u00d3N CR\u00c9DITO NIT Fideicomisos (NIT MASTER TRUST - NIT PA VANTAGE) nit_fideicomisos NUMBER INFORMACI\u00d3N CR\u00c9DITO C\u00f3digo Fideicomiso codigo_fideicomiso NUMBER INFORMACI\u00d3N CR\u00c9DITO Valor Desembolsado valor_desembolso NUMBER INFORMACI\u00d3N CR\u00c9DITO Plazo inicial cr\u00e9dito (meses) plazo_inicial_credito NUMBER INFORMACI\u00d3N CR\u00c9DITO Tasa Inter\u00e9s Colocaci\u00f3n nominal mes vencido tasa_interes NUMBER INFORMACI\u00d3N CR\u00c9DITO Valor AVAL - FIANZA valor_aval NUMBER SEGURO Per\u00edodicidad (VENDR\u00c1 C\u00d3DIGO \"2\" QUE ALUDE A PAGO MENSUAL) periodicidad NUMBER SEGURO Porcentaje de reserva (ANTERIORMENTE ERA 9% \u2026 NUEVA POL\u00cdTICA) porcentaje_reserva NUMBER SEGURO Prima Mensual Seguro Vida prima_segvida NUMBER SEGURO No de documento beneficiario gratuito 1 no_doc_benef_grat1 NUMBER SEGURO % Beneficiario gratuito 1 porc_benef_grat1 NUMBER SEGURO No de documento beneficiario gratuito 2 no_doc_benef_grat2 NUMBER SEGURO % Beneficiario gratuito 2 porc_benef_grat2 NUMBER SEGURO Tipo Entidad Pagadur\u00eda (DETALLAR SI ES \"P\u00daBLICA\" o \"PRIVADA\") tipo_entidad VARCHAR2 INFORMACI\u00d3N CR\u00c9DITO Cliente Declara Renta cliente_declara VARCHAR2 DEMOGR\u00c1FICOS \u00bfActualmente Desempe\u00f1a un cargo pol\u00edtico? desempena_cargo VARCHAR2 DEMOGR\u00c1FICOS Manejo de recursos p\u00fablicos manejo_recursos VARCHAR2 DEMOGR\u00c1FICOS \u00bfRepresenta legalmente alguna organizaci\u00f3n internacional (ONG/OIG)? representa_organizacion VARCHAR2 DEMOGR\u00c1FICOS Cliente es PEP cliente_es_pep VARCHAR2 DEMOGR\u00c1FICOS \u00bfTiene alg\u00fan vinculo con un PEP? vinculo_con_pep VARCHAR2 DEMOGR\u00c1FICOS Reconocimiento p\u00fablico reconocimiento_publico VARCHAR2 DEMOGR\u00c1FICOS Posee Cuenta Bancaria posee_cuenta VARCHAR2 INFORMACI\u00d3N FINANCIERA Realiza operaciones en moneda extranjera realiza_operaciones VARCHAR2 INFORMACI\u00d3N FINANCIERA Importaciones** importaciones VARCHAR2 INFORMACI\u00d3N FINANCIERA Cr\u00e9dito documentario** credito_documentario VARCHAR2 INFORMACI\u00d3N FINANCIERA Giros directos** giros_directos VARCHAR2 INFORMACI\u00d3N FINANCIERA Negociaci\u00f3n de divisas** negociacion_divisas VARCHAR2 INFORMACI\u00d3N FINANCIERA Leasing de importaci\u00f3n** leasing_importacion VARCHAR2 INFORMACI\u00d3N FINANCIERA Giros financiados** giros_financiados VARCHAR2 INFORMACI\u00d3N FINANCIERA Exportaciones** exportaciones VARCHAR2 INFORMACI\u00d3N FINANCIERA Inversiones** inversiones VARCHAR2 INFORMACI\u00d3N FINANCIERA Venta de bienes* venta_bienes VARCHAR2 INFORMACI\u00d3N FINANCIERA Honorarios y comisiones* honorarios_comisiones VARCHAR2 INFORMACI\u00d3N FINANCIERA Ingresos por actividad* ingresos_actividad VARCHAR2 INFORMACI\u00d3N FINANCIERA Pr\u00e9stamo bancario* prestamo_bancario VARCHAR2 INFORMACI\u00d3N FINANCIERA Rifas* rifas VARCHAR2 INFORMACI\u00d3N FINANCIERA Pensi\u00f3n* pension VARCHAR2 INFORMACI\u00d3N FINANCIERA Herencia* herencia VARCHAR2 INFORMACI\u00d3N FINANCIERA Liquidaci\u00f3n de prestaciones* liq_prestaciones VARCHAR2 INFORMACI\u00d3N FINANCIERA Liquidaci\u00f3n de sucesiones* liq_sucesiones VARCHAR2 INFORMACI\u00d3N FINANCIERA Otros* otros VARCHAR2 INFORMACI\u00d3N FINANCIERA Tiene cuentas en moneda extranjera cuentas_moneda_ext VARCHAR2 INFORMACI\u00d3N FINANCIERA He permanecido 31 d\u00edas o m\u00e1s durante el a\u00f1o en curso o 183 d\u00edas durante un periodo de 3 a\u00f1os, que incluye el a\u00f1o en curso y los dos a\u00f1os inmediatamente anteriores dentro del territorio de los Estados Unidos permanencia_eeuu VARCHAR2 INFORMACI\u00d3N FINANCIERA Soy poseedor de la tarjeta verde(Green Card) de los Estados Unidos de Norteam\u00e9rica (Tarjeta de residencia) tarjeta_verde VARCHAR2 INFORMACI\u00d3N FINANCIERA Recibo sumas de dinero fijas u ocasionales(FDAP) que provienen de fuentes dentro de los Estados Unidos de Norteam\u00e9rica ingresos_fdap VARCHAR2 INFORMACI\u00d3N FINANCIERA Recibo ingreso bruto procedente de la venta u otra disposici\u00f3n de cualquier propiedad que pueda producir rentas intereses o dividendos cuya fuente se encuentre dentro de los estados unidos de Norteam\u00e9rica ingreso_bruto_venta VARCHAR2 INFORMACI\u00d3N FINANCIERA Soy ciudadano de los Estados Unidos residente en Colombia ciudadano_eeuu VARCHAR2 INFORMACI\u00d3N FINANCIERA Estoy obligado a tributar en Estados Unidos obligado_tributar VARCHAR2 INFORMACI\u00d3N FINANCIERA \u00bfCoincidencia en listas de control? (No, Listas) coincidencia_listas VARCHAR2 INFORMACI\u00d3N CENTRALES Procesos en contra en curso con Cooperativa o Demanda por Alimentos (S\u00ed/No) procesos_cooperativa VARCHAR2 INFORMACI\u00d3N CENTRALES Extraprima extraprima VARCHAR2 SEGURO Primer apellido primer_apellido VARCHAR2 DEMOGR\u00c1FICOS Segundo apellido segundo_apellido VARCHAR2 DEMOGR\u00c1FICOS Primer nombre primer_nombre VARCHAR2 DEMOGR\u00c1FICOS Segundo nombre segundo_nombre VARCHAR2 DEMOGR\u00c1FICOS Tipo de documento tipo_doc VARCHAR2 DEMOGR\u00c1FICOS Pa\u00eds Nacimiento pais_nacimiento VARCHAR2 DEMOGR\u00c1FICOS Nacionalidad nacionalidad VARCHAR2 DEMOGR\u00c1FICOS G\u00e9nero genero VARCHAR2 DEMOGR\u00c1FICOS Estado Civil estado_civil VARCHAR2 DEMOGR\u00c1FICOS Nivel de Estudios nivel_estudios VARCHAR2 DEMOGR\u00c1FICOS Grupo \u00e9tnico grupo_etnico VARCHAR2 DEMOGR\u00c1FICOS Profesi\u00f3n profesion VARCHAR2 DEMOGR\u00c1FICOS Ocupaci\u00f3n ocupacion VARCHAR2 DEMOGR\u00c1FICOS Clase de Cliente (1.) clase_cliente VARCHAR2 DEMOGR\u00c1FICOS Cuotas Cr\u00e9dito (ALUDE SUMATORIO TODAS CUOTAS CONSUMO DIFERENTES A TDC Y CR Y SECTOR DELCOS) cuotas_credito NUMBER INFORMACI\u00d3N CENTRALES Cuota Cupo TDC UTILIZADO (ALUDE A SUMATORIA CUPOS UTILIZADOS DE TODAS TARJETAS CR\u00c9DITO * TASA PONDERADA * PLAZO) cuota_cupo_tdcusado NUMBER INFORMACI\u00d3N CENTRALES Cuota Cupo TDC CONTINGENTE (ALUDE A SUMATORIA CUPOS UTILIZADOS DE TODAS TARJETAS CR\u00c9DITO * 33% * TASA PONDERADA 3 MESES * PLAZO) cuota_cupo_tdcconting NUMBER INFORMACI\u00d3N CENTRALES Cuota Cupo ROTA USADO (SUMATORIA LOS CUPOS UTILIZADOS ROTATIVO * TASA PONDERADA 3 MESES * PLAZO 48 MESES) cuota_cupo_rotausado NUMBER INFORMACI\u00d3N CENTRALES Cuota Cupo ROTA CONTINGENTE (SUMATORIA TODAS CUPOS ROTATIVO * 33% * TASA PONDERADA 3 MESES * PLAZO 48 MESES) cuota_cupo_rotaconting NUMBER INFORMACI\u00d3N CENTRALES Gastos Familiares Pensionados (ESTIMADO 10% DEL INGRESO) gastos_familiares_pensionado NUMBER INFORMACI\u00d3N FINANCIERA Gastos Familiares Activos (C\u00c1LCULO INGRESO SOBRE TABLA ENTREGADA POR VANTAGE) gastos_familiares_activo NUMBER INFORMACI\u00d3N FINANCIERA Tasa Usura Promedio \u00daltimos 3 meses tasa_usura_ultimos_meses NUMBER INFORMACI\u00d3N FINANCIERA Gastos Financieros (CORRESPONDEN A SUMATORIA CUOTAS CREDITOS + CUOTAS TDC + CUOTAS ROTATIVOS) gastos_financieros NUMBER INFORMACI\u00d3N FINANCIERA % Endeudamiento (C\u00c1LCULO GASTOS FINANCIEROS + GASTOS FAMILIARES + CUOTA NUEVO CREDITO) / INGRESOS CAPACIDAD CREDITO porcent_endeudamiento NUMBER INFORMACI\u00d3N FINANCIERA D\u00edas Intereses Anticipados dias_int_ant NUMBER INFORMACI\u00d3N CR\u00c9DITO Intereses Anticipados Cobrados int_anticipado NUMBER INFORMACI\u00d3N CR\u00c9DITO Gasto por Plataforma gto_plataforma NUMBER INFORMACI\u00d3N CR\u00c9DITO Valor pr\u00e9stamos diferentes a Coomeva (Financiero) valor_prestamo_sin_c NUMBER INFORMACI\u00d3N CENTRALES Valor pr\u00e9stamos diferentes a Coomeva (Real) valor_prestamo_sin_r NUMBER INFORMACI\u00d3N CENTRALES Valor pr\u00e9stamos diferentes a Coomeva (Cooperativa) valor_prestamo_sin_cc NUMBER INFORMACI\u00d3N CENTRALES No obligaciones en mora Sector Financiero total_oblm_sf NUMBER INFORMACI\u00d3N CENTRALES No obligaciones en mora &gt; saldo cartera a 7 millones Sector Financiero total_oblm_mayor_7 NUMBER INFORMACI\u00d3N CENTRALES No obligaciones castigadas &gt; saldo cartera a 15 millones Sector Financiero total_obl_castigadas_mayor_15 NUMBER INFORMACI\u00d3N CENTRALES No Moras =&gt;90 d\u00edas Todos los sectores total_oblm_mayor_90 NUMBER INFORMACI\u00d3N CENTRALES Total Endeudamiento Sector Financiero Sumatoria de los saldos total_deuda_sf NUMBER INFORMACI\u00d3N CENTRALES Total Endeudamiento Sector Cooperativo Sumatoria de los saldos total_deuda_sc NUMBER INFORMACI\u00d3N CENTRALES Total Endeudamiento Sector Real Sumatoria de los saldos total_deuda_sr NUMBER INFORMACI\u00d3N CENTRALES Valor de la cuota total que debe pagar deudor (incluye seguros y avales) valor_cuota_total NUMBER INFORMACI\u00d3N CR\u00c9DITO Correo electr\u00f3nico referencia familiar 1 email_ref_fam1 NUMBER DEMOGR\u00c1FICOS Correo electr\u00f3nico referencia personal 1 email_ref_pers1 NUMBER DEMOGR\u00c1FICOS Fecha de la solicitud del cr\u00e9dito de libranza fecha_solicitud DATE INFORMACI\u00d3N CR\u00c9DITO Es el barrio donde est\u00e1 ubicada la empresa barrio_empresa VARCHAR2 DEMOGR\u00c1FICOS Detalle, otros ingresos det_otros_ingr VARCHAR2 INFORMACI\u00d3N FINANCIERA Origen de Fondos origen_fondos VARCHAR2 INFORMACI\u00d3N FINANCIERA Ingresos Brutos ingresos_brutos NUMBER INFORMACI\u00d3N FINANCIERA Estado Actual del Cr\u00e9dito: NECESITAMOS EL DETALLE DE LOS ESTADOS estado_credito VARCHAR2 INFORMACI\u00d3N FINANCIERA Departamento donde est\u00e1 ubicada la residencia del deudor departamento_residencia VARCHAR2 DEMOGR\u00c1FICOS Departamento donde est\u00e1 ubicada la empresa del deudor departamento_empresa VARCHAR2 DEMOGR\u00c1FICOS Valor Cuota Corrientes: la cuota financiera del cr\u00e9dito (intereses corrientes + amortizaci\u00f3n) cuota_corriente NUMBER INFORMACI\u00d3N FINANCIERA"},{"location":"tecfinanzas_token/","title":"Generaci\u00f3n de token","text":"<p>Descripci\u00f3n: Este servicio genera un token utilizando un usuario y contrase\u00f1a, lo cual permite acceder y consumir los servicios proporcionados por el software TESEO. El token tiene una validez de 1 hora; despu\u00e9s de ese tiempo, se debe solicitar un nuevo token para continuar accediendo a los recursos.</p> <p>Tipo de Servicio: POST</p>"},{"location":"tecfinanzas_token/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba: <code>https://testing-sygma.com/api/login</code></li> <li>Producci\u00f3n: <code>POR_DEFINIR/api/login</code></li> </ul>"},{"location":"tecfinanzas_token/#headers","title":"Headers","text":"<p>El proceso requiere los siguientes encabezados en la solicitud:</p> <ul> <li>Accept: <code>application/json</code> (Obligatorio)</li> <li>Content-Type: <code>application/json</code> (Obligatorio)</li> </ul>"},{"location":"tecfinanzas_token/#cuerpo-de-la-solicitud-raw","title":"Cuerpo de la Solicitud (raw)","text":"<p>La informaci\u00f3n debe enviarse en formato JSON. Ejemplo:</p> <pre><code>{\n  \"username\": \"\",  // USUARIO QUE SE VA A CONECTAR\n  \"password\": \"\" // CONTRASE\u00d1A DEL USUARIO QUE SE VA A CONECTAR\n}\n\n</code></pre>"},{"location":"tecfinanzas_token/#respuesta-success","title":"Respuesta Success","text":"<pre><code>{\n  \"status\": true,\n  \"auth_token\": \"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjozMzg1MywiZXhwIjoxNzIzODMzMDg3fQ.WlNDobuExhSO_jNWOui-HNFhVXPyGLvUs7hIuSY1f5Y\",\n  \"token_type\": \"Bearer\",\n  \"expires_at\": \"2024-08-16 18:31:27\",\n  \"message\": \"Generado con Exito\",\n  \"code\": 200\n}\n</code></pre>"},{"location":"tecfinanzas_token/#respuesta-credenciales-no-validas","title":"Respuesta Credenciales no Validas","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"Credenciales no validas\",\n  \"code\": 400\n}\n</code></pre>"},{"location":"tecfinanzas_token/#respuesta-parametros-no-enviados","title":"Respuesta Parametros no enviados","text":"<pre><code>{\n  \"status\": false,\n  \"message\": \"username y password son requeridos\",\n  \"code\": 422\n}\n</code></pre>"},{"location":"validacion_firma_digital/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Validaci\u00f3n de Firma Digital y Listas Restrictivas","text":""},{"location":"validacion_firma_digital/#descripcion-del-servicio","title":"Descripci\u00f3n del Servicio","text":"<p>Este servicio permite validar si una persona est\u00e1 en proceso de firma digital. El flujo incluye validaciones de estado del cr\u00e9dito, vigencia de aprobaci\u00f3n y env\u00edo de c\u00f3digos OTP para continuar con el proceso de firma.</p>"},{"location":"validacion_firma_digital/#tipo-de-servicio","title":"Tipo de Servicio","text":"<p>M\u00e9todo HTTP: <code>POST</code></p>"},{"location":"validacion_firma_digital/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"Ambiente URL Pruebas <code>https://testing-sygma.com/api/validacion_firma_digital</code> Producci\u00f3n <code>POR DEFINIR</code>"},{"location":"validacion_firma_digital/#headers-requeridos","title":"Headers Requeridos","text":"Nombre Valor Requerido <code>Authorization</code> <code>Bearer {token}</code> \u2705 <code>Accept</code> <code>application/json</code> \u2705 <code>Content-Type</code> <code>application/json</code> \u2705 <p>!!! \"Obtenci\u00f3n del Token\"     El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n, usando el usuario y contrase\u00f1a asignados por la entidad.</p>"},{"location":"validacion_firma_digital/#cuerpo-de-la-solicitud","title":"Cuerpo de la Solicitud","text":"<p>La solicitud debe enviarse en formato raw JSON con los siguientes campos:</p>"},{"location":"validacion_firma_digital/#campos-obligatorios","title":"Campos Obligatorios","text":"Campo Tipo Descripci\u00f3n <code>tiposdocumento_id</code> string ID del tipo de documento <code>identificacion</code> string N\u00famero de identificaci\u00f3n del usuario"},{"location":"validacion_firma_digital/#valores-permitidos-para-tiposdocumento_id","title":"Valores Permitidos para <code>tiposdocumento_id</code>","text":"ID Descripci\u00f3n <code>1</code> C\u00e9dula de ciudadan\u00eda (CC) <code>2</code> C\u00e9dula de extranjer\u00eda (CE) <code>3</code> NIT <code>8</code> Pasaporte (PA) <code>181</code> Permiso Especial (PEP)"},{"location":"validacion_firma_digital/#ejemplo-de-body","title":"Ejemplo de Body","text":"<pre><code>{\n  \"tiposdocumento_id\": \"1\",\n  \"identificacion\": \"88282828\"\n}\n</code></pre>"},{"location":"validacion_firma_digital/#flujo-de-validacion-del-servicio","title":"Flujo de Validaci\u00f3n del Servicio","text":"<p>El servicio ejecuta las siguientes validaciones en orden:</p>"},{"location":"validacion_firma_digital/#1-consulta-interna-proceso-de-firma-digital","title":"1. Consulta Interna: Proceso de Firma Digital","text":"<p>Se verifica si la persona est\u00e1 actualmente en proceso de firma digital dentro del sistema, en caso de que no este se retorna la respuesta  que el usuario actualmente no cuenta con una solicitud de credito disponible.</p> <pre><code>    {\n      \"status\": \"blocked\",\n      \"mensaje\": \"No hay cr\u00e9dito disponible para firma.\"\n    }\n</code></pre>"},{"location":"validacion_firma_digital/#2-validacion-de-credito-aprobado","title":"2. Validaci\u00f3n de Cr\u00e9dito Aprobado","text":"<p>Si el usuario NO est\u00e1 en lista restrictiva, el sistema verifica si tiene un cr\u00e9dito aprobado.</p>"},{"location":"validacion_firma_digital/#si-tiene-credito-aprobado","title":"\u2705 Si tiene cr\u00e9dito aprobado","text":"<p>Se valida la vigencia de la aprobaci\u00f3n:</p>"},{"location":"validacion_firma_digital/#credito-aprobado-hace-mas-de-30-dias","title":"Cr\u00e9dito aprobado hace m\u00e1s de 30 d\u00edas","text":"<ul> <li>Se retorna la respuesta a invictus de la siguiente manera.</li> </ul> <p>Respuesta:</p> <pre><code>{\n  \"status\": \"expired\",\n  \"mensaje\": \"Tu cr\u00e9dito aprobado ha caducado. Puedes realizar una nueva solicitud de cr\u00e9dito.\"\n}\n</code></pre>"},{"location":"validacion_firma_digital/#credito-aprobado-dentro-del-plazo-30-dias","title":"Cr\u00e9dito aprobado dentro del plazo (&lt; 30 d\u00edas)","text":"<p>Acciones autom\u00e1ticas:</p> <ul> <li>Se genera un c\u00f3digo OTP de 6 d\u00edgitos (Puede ser parametrico, pueden ser  alfanumerico, numerico, y pueden ser menos caracteres o mas)</li> <li>Se debe enviar a todos los canales:<ul> <li>SMS</li> <li>Correo electr\u00f3nico</li> <li>WhatsApp (si fue seleccionado)</li> </ul> </li> </ul> <p>Respuesta Success:</p> <pre><code>{\n  \"status\": \"success\",\n  \"datos\": {\n    \"guid\": \"uuid-generado\",\n    \"mensaje\": \"C\u00f3digo OTP enviado exitosamente a los canales registrados: \",\n    \"canales_envio\": [\"SMS\", \"Email\", \"WhatsApp\"],\n    \"sms\": \"3016795098\",\n    \"email\": \"prueba@prueba.com\",\n    \"whatsapp\": \"3016795098\",\n    \"vigencia_otp\": \"5 minutos\"\n  }\n}\n</code></pre>"},{"location":"validacion_firma_digital/#si-no-tiene-credito-aprobado","title":"\u274c Si NO tiene cr\u00e9dito aprobado","text":"<p>Respuesta:</p> <pre><code>{\n  \"status\": \"no_credit\",\n  \"mensaje\": \"No tienes un cr\u00e9dito aprobado disponible para firma.\"\n}\n</code></pre>"},{"location":"validacion_firma_digital/#tabla-de-validaciones-y-respuestas","title":"Tabla de Validaciones y Respuestas","text":"# Condici\u00f3n HTTP status message Acciones 1 Usuario en lista restrictiva 403 <code>blocked</code> \"No hay cr\u00e9dito disponible. Usuario en lista restrictiva.\" Env\u00edo de SMS + Email informativo 2 Cr\u00e9dito aprobado caducado (&gt;30 d\u00edas) 200 <code>expired</code> \"Tu cr\u00e9dito aprobado ha caducado. Puedes realizar una nueva solicitud.\" Ninguna 3 Cr\u00e9dito aprobado vigente (&lt;30 d\u00edas) 200 <code>success</code> \"C\u00f3digo OTP enviado exitosamente a los canales registrados.\" Generaci\u00f3n y env\u00edo de OTP 4 Sin cr\u00e9dito aprobado 200 <code>no_credit</code> \"No tienes un cr\u00e9dito aprobado disponible para firma.\" Ninguna 5 Error en campos requeridos 400 <code>error</code> \"El campo {campo} es obligatorio.\" Ninguna 6 Token inv\u00e1lido o ausente 401 <code>error</code> \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\" Ninguna"},{"location":"validacion_firma_digital/#ejemplos-de-respuestas","title":"Ejemplos de Respuestas","text":""},{"location":"validacion_firma_digital/#respuesta-exitosa-otp-enviado","title":"\u2705 Respuesta Exitosa - OTP Enviado","text":"<pre><code>{\n  \"status\": \"success\",\n  \"datos\": {\n    \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n    \"mensaje\": \"C\u00f3digo OTP enviado exitosamente a los canales registrados.\",\n    \"canales_envio\": [\"SMS\", \"Email\", \"WhatsApp\"],\n    \"sms\": \"3016795098\",\n    \"email\": \"prueba@prueba.com\",\n    \"whatsapp\": \"3016795098\",\n    \"vigencia_otp\": \"5 minutos\"\n  }\n}\n</code></pre>"},{"location":"validacion_firma_digital/#usuario-en-lista-restrictiva","title":"\ud83d\udeab Usuario en Lista Restrictiva","text":"<pre><code>{\n  \"status\": \"blocked\",\n  \"mensaje\": \"No hay cr\u00e9dito disponible. Usuario en lista restrictiva.\",\n  \"notificacion_enviada\": true\n}\n</code></pre>"},{"location":"validacion_firma_digital/#credito-caducado","title":"\u23f0 Cr\u00e9dito Caducado","text":"<pre><code>{\n  \"status\": \"expired\",\n  \"mensaje\": \"Tu cr\u00e9dito aprobado ha caducado. Puedes realizar una nueva solicitud de cr\u00e9dito.\",\n  \"dias_transcurridos\": 45\n}\n</code></pre>"},{"location":"validacion_firma_digital/#sin-credito-aprobado","title":"\u274c Sin Cr\u00e9dito Aprobado","text":"<pre><code>{\n  \"status\": \"no_credit\",\n  \"mensaje\": \"No tienes un cr\u00e9dito aprobado disponible para firma.\"\n}\n</code></pre>"},{"location":"validacion_firma_digital/#error-por-campo-faltante","title":"\u2757 Error por Campo Faltante","text":"<pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo identificacion es obligatorio.\"\n  ]\n}\n</code></pre>"},{"location":"validacion_firma_digital/#error-de-autenticacion","title":"\u2757 Error de Autenticaci\u00f3n","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre>"},{"location":"validacion_firma_digital/#consideraciones-de-seguridad","title":"Consideraciones de Seguridad","text":""},{"location":"validacion_firma_digital/#codigo-otp","title":"C\u00f3digo OTP","text":"<ul> <li>Vigencia: 5 minutos</li> <li>Longitud: 6 d\u00edgitos num\u00e9ricos</li> <li>Intentos: Se invalida despu\u00e9s de 3 intentos fallidos</li> </ul>"},{"location":"validacion_firma_digital/#consulta-de-listas-restrictivas","title":"Consulta de Listas Restrictivas","text":"<ul> <li>Se realiza en tiempo real con el operador configurado</li> <li>Timeout m\u00e1ximo: 30 segundos</li> <li>En caso de error del operador, se debe notificar y registrar para revisi\u00f3n manual</li> </ul>"},{"location":"validacion_firma_digital/#almacenamiento-de-transacciones","title":"Almacenamiento de Transacciones","text":"<ul> <li>Todas las consultas y respuestas deben quedar registradas con <code>guid</code> \u00fanico</li> <li>Incluir timestamp, usuario, resultado de validaciones y acciones ejecutadas</li> </ul>"},{"location":"validacion_otp_firma_digital/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Validaci\u00f3n de C\u00f3digo OTP","text":""},{"location":"validacion_otp_firma_digital/#descripcion-del-servicio","title":"Descripci\u00f3n del Servicio","text":"<p>Este servicio permite validar el c\u00f3digo OTP ingresado por el usuario, verificar su correspondencia con la transacci\u00f3n iniciada y, en caso de ser correcto, autorizar el uso del cr\u00e9dito y enviar la documentaci\u00f3n correspondiente a los canales seleccionados por el usuario.</p>"},{"location":"validacion_otp_firma_digital/#tipo-de-servicio","title":"Tipo de Servicio","text":"<p>M\u00e9todo HTTP: <code>POST</code></p>"},{"location":"validacion_otp_firma_digital/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"Ambiente URL Pruebas <code>https://testing-sygma.com/api/validacion_otp_firma</code> Producci\u00f3n <code>POR DEFINIR</code>"},{"location":"validacion_otp_firma_digital/#headers-requeridos","title":"Headers Requeridos","text":"Nombre Valor Requerido <code>Authorization</code> <code>Bearer {token}</code> \u2705 <code>Accept</code> <code>application/json</code> \u2705 <code>Content-Type</code> <code>application/json</code> \u2705 <p>!!! \"Obtenci\u00f3n del Token\"     El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n, usando el usuario y contrase\u00f1a asignados por la entidad.</p>"},{"location":"validacion_otp_firma_digital/#cuerpo-de-la-solicitud","title":"Cuerpo de la Solicitud","text":"<p>La solicitud debe enviarse en formato raw JSON con los siguientes campos:</p>"},{"location":"validacion_otp_firma_digital/#campos-obligatorios","title":"Campos Obligatorios","text":"Campo Tipo Descripci\u00f3n <code>guid</code> string (UUID) ID \u00fanico de la transacci\u00f3n generada en el servicio de validaci\u00f3n de firma digital <code>codigo_otp</code> string C\u00f3digo OTP de 6 d\u00edgitos ingresado por el usuario <code>tiempo_vigencia</code> string Este tiempo de vigencia del otp es parametrizable y es en minutos"},{"location":"validacion_otp_firma_digital/#ejemplo-de-body","title":"Ejemplo de Body","text":"<pre><code>{\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n  \"codigo_otp\": \"123456\",\n  \"tiempo_vigencia\": \"5\"\n}\n</code></pre>"},{"location":"validacion_otp_firma_digital/#flujo-de-validacion-del-servicio","title":"Flujo de Validaci\u00f3n del Servicio","text":"<p>El servicio ejecuta las siguientes validaciones en orden:</p>"},{"location":"validacion_otp_firma_digital/#1-validacion-de-transaccion","title":"1. Validaci\u00f3n de Transacci\u00f3n","text":"<p>Se verifica que el <code>guid</code> exista en el sistema y est\u00e9 activo.</p>"},{"location":"validacion_otp_firma_digital/#2-validacion-de-vigencia-del-otp","title":"2. Validaci\u00f3n de Vigencia del OTP","text":"<p>Se verifica que el c\u00f3digo OTP no haya expirado (vigencia de 5 minutos desde su generaci\u00f3n).</p>"},{"location":"validacion_otp_firma_digital/#3-validacion-del-codigo-otp","title":"3. Validaci\u00f3n del C\u00f3digo OTP","text":"<p>Se compara el c\u00f3digo ingresado con el c\u00f3digo generado para la transacci\u00f3n.</p>"},{"location":"validacion_otp_firma_digital/#si-el-codigo-otp-es-incorrecto","title":"\u274c Si el c\u00f3digo OTP es incorrecto","text":"<p>Acciones del sistema:</p> <ul> <li>Se registra el intento fallido</li> <li>Se valida el n\u00famero de intentos (m\u00e1ximo 3)</li> <li>Si se superan los 3 intentos, se invalida el OTP y se debe solicitar uno nuevo</li> </ul> <p>Respuesta a Invictus:</p> <pre><code>{\n  \"status\": false,\n  \"mensaje\": \"El c\u00f3digo ingresado es incorrecto.\",\n  \"intentos_restantes\": 2\n}\n</code></pre>"},{"location":"validacion_otp_firma_digital/#si-el-codigo-otp-es-correcto","title":"\u2705 Si el c\u00f3digo OTP es correcto","text":"<p>Acciones autom\u00e1ticas del sistema:</p> <ol> <li>Se marca la transacci\u00f3n como completada</li> <li>Se habilita el cr\u00e9dito para uso del cliente</li> <li>Se generan los documentos legales:</li> <li>Instrumento de Cr\u00e9dito</li> <li>Plan de Pagos</li> <li>Solicitud de Cr\u00e9dito</li> <li>Se env\u00edan los documentos a los canales seleccionados por el usuario:</li> <li>Email</li> <li>SMS (enlace de descarga)</li> <li>WhatsApp (si fue seleccionado)</li> <li>Se env\u00eda notificaci\u00f3n al usuario: \"Ya puedes hacer uso de tu cr\u00e9dito\"</li> </ol> <p>Respuesta a Invictus:</p> <pre><code>{\n  \"status\": true,\n  \"mensaje\": \"Ya puedes hacer uso de tu cr\u00e9dito\",\n  \"nombre_cliente\": \"Andres Felipe Pelaez\",\n  \"nombre_cliente\": \"Andres Felipe Pelaez\",\n  \"celular\": \"3016795087\",\n  \"email\": \"prueba@gmail.com\"\n}\n</code></pre>"},{"location":"validacion_otp_firma_digital/#tabla-de-validaciones-y-respuestas","title":"Tabla de Validaciones y Respuestas","text":"# Condici\u00f3n HTTP status mensaje Acciones 1 OTP correcto 200 <code>true</code> \"Ya puedes hacer uso de tu cr\u00e9dito\" Habilitar cr\u00e9dito + Generar y enviar documentos 2 OTP incorrecto 200 <code>false</code> \"El c\u00f3digo ingresado es incorrecto.\" Registrar intento fallido 3 OTP expirado 200 <code>false</code> \"El c\u00f3digo OTP ha expirado. Solicita uno nuevo.\" Invalidar OTP 4 Intentos agotados 200 <code>false</code> \"Has superado el n\u00famero m\u00e1ximo de intentos. Solicita un nuevo c\u00f3digo. \" Invalidar OTP 5 Transacci\u00f3n no encontrada 404 <code>false</code> \"Transacci\u00f3n no encontrada o inv\u00e1lida.\" Ninguna 6 Campos requeridos faltantes 400 <code>false</code> \"El campo {campo} es obligatorio.\" Ninguna 7 Token inv\u00e1lido o ausente 401 <code>false</code> \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\" Ninguna"},{"location":"validacion_otp_firma_digital/#ejemplos-de-respuestas","title":"Ejemplos de Respuestas","text":""},{"location":"validacion_otp_firma_digital/#validacion-exitosa-otp-correcto","title":"\u2705 Validaci\u00f3n Exitosa - OTP Correcto","text":"<pre><code>{\n  \"status\": true,\n  \"mensaje\": \"Ya puedes hacer uso de tu cr\u00e9dito\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n  \"nombre_cliente\": \"Andres Felipe Pelaez\",\n  \"celular\": \"3016795087\",\n  \"email\": \"prueba@gmail.com\"\n}\n</code></pre>"},{"location":"validacion_otp_firma_digital/#otp-incorrecto","title":"\u274c OTP Incorrecto","text":"<pre><code>{\n  \"status\": false,\n  \"mensaje\": \"El c\u00f3digo ingresado es incorrecto.\",\n  \"intentos_restantes\": 2,\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre>"},{"location":"validacion_otp_firma_digital/#otp-expirado","title":"\u23f0 OTP Expirado","text":"<pre><code>{\n  \"status\": false,\n  \"mensaje\": \"El c\u00f3digo OTP ha expirado. Solicita uno nuevo.\",\n  \"tiempo_expiracion\": \"5 minutos\",\n  \"fecha_generacion\": \"2025-10-04T14:20:00Z\"\n}\n</code></pre>"},{"location":"validacion_otp_firma_digital/#intentos-agotados","title":"\ud83d\udeab Intentos Agotados","text":"<pre><code>{\n  \"status\": false,\n  \"mensaje\": \"Has superado el n\u00famero m\u00e1ximo de intentos. Solicita un nuevo c\u00f3digo.\",\n  \"intentos_maximos\": 3,\n  \"intentos_realizados\": 3\n}\n</code></pre>"},{"location":"validacion_otp_firma_digital/#transaccion-no-encontrada","title":"\u2757 Transacci\u00f3n No Encontrada","text":"<pre><code>{\n  \"status\": false,\n  \"mensaje\": \"Transacci\u00f3n no encontrada o inv\u00e1lida.\",\n  \"guid\": \"invalid-uuid\"\n}\n</code></pre>"},{"location":"validacion_otp_firma_digital/#error-por-campo-faltante","title":"\u2757 Error por Campo Faltante","text":"<pre><code>{\n  \"status\": false,\n  \"errors\": [\n    \"El campo codigo_otp es obligatorio.\"\n  ]\n}\n</code></pre>"},{"location":"validacion_otp_firma_digital/#error-de-autenticacion","title":"\u2757 Error de Autenticaci\u00f3n","text":"<pre><code>{\n  \"status\": false,\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre>"},{"location":"validacion_otp_firma_digital/#documentos-generados","title":"Documentos Generados","text":"<p>El sistema genera autom\u00e1ticamente los siguientes documentos en formato PDF al validar correctamente el OTP:</p>"},{"location":"validacion_otp_firma_digital/#1-instrumento-de-credito","title":"1. Instrumento de Cr\u00e9dito","text":"<p>Documento legal que formaliza las condiciones del cr\u00e9dito otorgado.</p> <p>Caracter\u00edsticas: - Formato: PDF - Nomenclatura: <code>Instrumento_Credito_{identificacion}.pdf</code> - Firmado digitalmente por TESEO</p>"},{"location":"validacion_otp_firma_digital/#2-plan-de-pagos","title":"2. Plan de Pagos","text":"<p>Cronograma detallado de pagos del cr\u00e9dito.</p> <p>Caracter\u00edsticas: - Formato: PDF - Nomenclatura: <code>Plan_Pagos_{identificacion}.pdf</code> - Incluye: fechas, montos, intereses y capital</p>"},{"location":"validacion_otp_firma_digital/#3-solicitud-de-credito","title":"3. Solicitud de Cr\u00e9dito","text":"<p>Documento con la informaci\u00f3n completa de la solicitud aprobada.</p> <p>Caracter\u00edsticas: - Formato: PDF - Nomenclatura: <code>Solicitud_Credito_{identificacion}.pdf</code> - Datos completos del solicitante y cr\u00e9dito aprobado</p>"},{"location":"validacion_otp_firma_digital/#canales-de-envio-de-documentos","title":"Canales de Env\u00edo de Documentos","text":"<p>Los documentos se env\u00edan a los canales que el usuario seleccion\u00f3 previamente en su solicitud inicial:</p>"},{"location":"validacion_otp_firma_digital/#email","title":"Email","text":"<ul> <li>Adjuntos: Los 3 documentos en PDF</li> <li>Asunto: \"Documentos de tu Cr\u00e9dito Aprobado - TESEO\"</li> <li>Cuerpo: Mensaje de bienvenida con instrucciones</li> </ul>"},{"location":"validacion_otp_firma_digital/#sms","title":"SMS","text":"<ul> <li>Contenido: Mensaje con enlace de descarga de documentos</li> <li>Texto: \"Tu cr\u00e9dito ha sido habilitado. Descarga tus documentos aqu\u00ed: [URL]\"</li> </ul>"},{"location":"validacion_otp_firma_digital/#whatsapp","title":"WhatsApp","text":"<ul> <li>Tipo: Mensaje con archivos adjuntos</li> <li>Contenido: Los 3 documentos PDF + mensaje de confirmaci\u00f3n</li> </ul> <p>!!! warning \"Confirmaci\u00f3n de Env\u00edo\"     El sistema debe confirmar el env\u00edo exitoso a cada canal y registrar cualquier fallo para reintento posterior.</p>"},{"location":"validacion_otp_firma_digital/#consideraciones-de-seguridad","title":"Consideraciones de Seguridad","text":""},{"location":"validacion_otp_firma_digital/#codigo-otp","title":"C\u00f3digo OTP","text":"<ul> <li>Vigencia: 5 minutos desde su generaci\u00f3n</li> <li>Longitud: 6 d\u00edgitos num\u00e9ricos</li> <li>Intentos m\u00e1ximos: 3 intentos fallidos</li> <li>Acci\u00f3n post-expiraci\u00f3n: El usuario debe solicitar un nuevo c\u00f3digo</li> </ul>"},{"location":"validacion_otp_firma_digital/#validacion-de-transaccion","title":"Validaci\u00f3n de Transacci\u00f3n","text":"<ul> <li>Cada <code>guid</code> debe ser \u00fanico y no reutilizable</li> <li>Una vez validado correctamente, el OTP se invalida autom\u00e1ticamente</li> <li>Las transacciones expiradas deben eliminarse del sistema</li> </ul>"},{"location":"validacion_otp_firma_digital/#almacenamiento-de-documentos","title":"Almacenamiento de Documentos","text":"<ul> <li>Los documentos generados deben almacenarse de forma segura</li> <li>URLs de descarga con tokens temporales de acceso</li> <li>Per\u00edodo de disponibilidad: 30 d\u00edas desde la generaci\u00f3n</li> <li>Encriptaci\u00f3n en tr\u00e1nsito y reposo</li> </ul>"},{"location":"validacion_otp_firma_digital/#registro-de-auditoria","title":"Registro de Auditor\u00eda","text":"<p>Cada validaci\u00f3n debe registrar:</p> <ul> <li>Timestamp de la solicitud</li> <li>IP del cliente</li> <li>Resultado de la validaci\u00f3n</li> <li>N\u00famero de intentos</li> <li>Documentos generados y enviados</li> <li>Canales de env\u00edo utilizados</li> </ul>"},{"location":"validacion_reenvio_otp_firma/","title":"\ud83d\udcd8 Manual de Integraci\u00f3n API: Reenv\u00edo de C\u00f3digo OTP","text":""},{"location":"validacion_reenvio_otp_firma/#descripcion-del-servicio","title":"\ud83d\udcc4 Descripci\u00f3n del Servicio","text":"<p>Este servicio permite reenviar el c\u00f3digo OTP a los canales de comunicaci\u00f3n previamente seleccionados por el usuario (SMS, Email, WhatsApp) cuando el c\u00f3digo ha expirado, se han agotado los intentos o el usuario no ha recibido el mensaje original. El servicio genera un nuevo c\u00f3digo OTP con vigencia renovada.</p>"},{"location":"validacion_reenvio_otp_firma/#tipo-de-servicio","title":"\ud83d\ude80 Tipo de Servicio","text":"<p><code>POST</code></p>"},{"location":"validacion_reenvio_otp_firma/#url-de-integracion","title":"\ud83d\udd17 URL de Integraci\u00f3n","text":"<ul> <li>Ambiente de Pruebas: <code>https://testing-sygma.com/api/reenvio_otp_firma</code> </li> <li>Producci\u00f3n: <code>POR DEFINIR</code></li> </ul>"},{"location":"validacion_reenvio_otp_firma/#headers-requeridos","title":"\ud83d\udcc9 Headers Requeridos","text":"Nombre Valor Requerido Authorization Bearer <code>{token}</code> \u2705 Accept application/json \u2705 Content-Type application/json \u2705 <p>!!! info \"Nota sobre autenticaci\u00f3n\"     El token se obtiene a trav\u00e9s del m\u00f3dulo de autenticaci\u00f3n, usando el usuario y contrase\u00f1a asignados por la entidad.</p>"},{"location":"validacion_reenvio_otp_firma/#cuerpo-de-la-solicitud-json","title":"\ud83d\udd22 Cuerpo de la Solicitud (JSON)","text":"<p>La solicitud debe enviarse en formato <code>raw</code> JSON con los siguientes campos:</p>"},{"location":"validacion_reenvio_otp_firma/#campos-obligatorios","title":"\ud83d\udd38 Campos Obligatorios","text":"Campo Tipo Descripci\u00f3n <code>guid</code> string (UUID) ID \u00fanico de la transacci\u00f3n generada en el servicio de validaci\u00f3n de firma digital <code>identificacion</code> string N\u00famero de identificaci\u00f3n del usuario"},{"location":"validacion_reenvio_otp_firma/#ejemplo-de-body","title":"\ud83d\udce6 Ejemplo de Body","text":"<pre><code>{\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n  \"identificacion\": \"88282828\"\n}\n</code></pre>"},{"location":"validacion_reenvio_otp_firma/#flujo-de-validacion-del-servicio","title":"\ud83d\udd04 Flujo de Validaci\u00f3n del Servicio","text":"<ul> <li>El servicio ejecuta las siguientes validaciones en orden:</li> </ul>"},{"location":"validacion_reenvio_otp_firma/#1-validacion-de-campos-obligatorios","title":"1\ufe0f\u20e3 Validaci\u00f3n de Campos Obligatorios","text":"<ul> <li>Se verifica que los campos guid e identificacion est\u00e9n presentes en la solicitud.</li> </ul>"},{"location":"validacion_reenvio_otp_firma/#2-validacion-de-transaccion-existente","title":"2\ufe0f\u20e3 Validaci\u00f3n de Transacci\u00f3n Existente","text":"<ul> <li> <p>Se verifica que:</p> </li> <li> <p>El guid exista en el sistema</p> </li> <li>La identificacion corresponda con el usuario asociado al guid</li> <li>La transacci\u00f3n no est\u00e9 en estado completado (OTP ya validado correctamente)</li> </ul>"},{"location":"validacion_reenvio_otp_firma/#3-validacion-de-limite-de-reenvios","title":"3\ufe0f\u20e3 Validaci\u00f3n de L\u00edmite de Reenv\u00edos","text":"<ul> <li>Se verifica el n\u00famero de veces que se ha solicitado el reenv\u00edo del OTP para esta transacci\u00f3n.</li> <li>!!! \"L\u00edmite de Reenv\u00edos\"</li> <li>M\u00e1ximo permitido: 5 reenv\u00edos por transacci\u00f3n, y es parametrizable.</li> <li>Tiempo m\u00ednimo entre reenv\u00edos: 60 segundos</li> </ul>"},{"location":"validacion_reenvio_otp_firma/#si-se-excede-el-limite-de-reenvios","title":"\ud83d\udeab Si se excede el l\u00edmite de reenv\u00edos:","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Has excedido el n\u00famero m\u00e1ximo de reenv\u00edos permitidos. Por favor, contacta a soporte.\",\n  \"reenvios_maximos\": 5,\n  \"reenvios_realizados\": 5\n}\n</code></pre>"},{"location":"validacion_reenvio_otp_firma/#4-validacion-de-tiempo-entre-reenvios","title":"4\ufe0f\u20e3 Validaci\u00f3n de Tiempo entre Reenv\u00edos","text":"<ul> <li>Se verifica que hayan transcurrido al menos 60 segundos desde el \u00faltimo reenv\u00edo.</li> <li> <p>\u23f1\ufe0f Si no ha pasado el tiempo m\u00ednimo:</p> </li> <li> <p>Respuesta:</p> </li> </ul> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Debes esperar {segundos_restantes} segundos antes de solicitar un nuevo c\u00f3digo.\",\n  \"tiempo_espera_minimo\": \"60 segundos\",\n  \"segundos_restantes\": 42\n}\n</code></pre>"},{"location":"validacion_reenvio_otp_firma/#5-generacion-y-envio-de-nuevo-otp","title":"5\ufe0f\u20e3 Generaci\u00f3n y Env\u00edo de Nuevo OTP","text":"<ul> <li> <p>Si todas las validaciones son exitosas:</p> </li> <li> <p>Acciones autom\u00e1ticas:</p> </li> <li> <p>Se invalida el c\u00f3digo OTP anterior</p> </li> <li>Se genera un nuevo c\u00f3digo OTP de 6 d\u00edgitos</li> <li>Se reinician los intentos de validaci\u00f3n (3 intentos disponibles)</li> <li>Se actualiza la vigencia del c\u00f3digo (3 minutos)</li> <li> <p>Se env\u00eda el nuevo c\u00f3digo a los canales registrados del usuario:</p> </li> <li> <p>SMS</p> </li> <li>Email</li> <li> <p>WhatsApp (si fue seleccionado)</p> </li> <li> <p>Se registra el reenv\u00edo en la auditor\u00eda del sistema</p> </li> </ul> <pre><code>{\n  \"status\": \"success\",\n  \"datos\": {\n    \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n    \"mensaje\": \"C\u00f3digo OTP reenviado exitosamente a los canales registrados.\",\n    \"canales_envio\": [\"SMS\", \"Email\", \"WhatsApp\"],\n    \"vigencia_otp\": \"3 minutos\",\n    \"intentos_disponibles\": 3,\n    \"reenvios_restantes\": 3\n  }\n}\n</code></pre>"},{"location":"validacion_reenvio_otp_firma/#ejemplos-de-respuestas","title":"\ud83d\udce4 Ejemplos de Respuestas","text":""},{"location":"validacion_reenvio_otp_firma/#reenvio-exitoso","title":"\u2705 Reenv\u00edo Exitoso","text":"<pre><code>{\n  \"status\": \"success\",\n  \"datos\": {\n    \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n    \"mensaje\": \"C\u00f3digo OTP reenviado exitosamente a los canales registrados.\",\n    \"canales_envio\": [\"SMS\", \"Email\", \"WhatsApp\"],\n    \"vigencia_otp\": \"5 minutos\",\n    \"intentos_disponibles\": 3,\n    \"reenvios_restantes\": 3,\n    \"timestamp\": \"2025-10-07T14:25:30Z\"\n  }\n}\n</code></pre>"},{"location":"validacion_reenvio_otp_firma/#campo-faltante","title":"\u2757 Campo Faltante","text":"<pre><code>{\n  \"status\": \"error\",\n  \"errors\": [\n    \"El campo guid es obligatorio.\",\n    \"El campo identificacion es obligatorio.\"\n  ]\n}\n</code></pre>"},{"location":"validacion_reenvio_otp_firma/#transaccion-no-encontrada","title":"\ud83d\udd0d Transacci\u00f3n No Encontrada","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Transacci\u00f3n no encontrada o inv\u00e1lida.\",\n  \"guid\": \"invalid-uuid-12345\"\n}\n</code></pre>"},{"location":"validacion_reenvio_otp_firma/#identificacion-no-coincide","title":"\ud83d\udeab Identificaci\u00f3n No Coincide","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"La identificaci\u00f3n no corresponde a esta transacci\u00f3n.\",\n  \"guid\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre>"},{"location":"validacion_reenvio_otp_firma/#transaccion-ya-completada","title":"\u2714\ufe0f Transacci\u00f3n Ya Completada","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Esta transacci\u00f3n ya ha sido completada exitosamente. No es necesario un nuevo c\u00f3digo.\",\n  \"fecha_completado\": \"2025-10-07T13:45:20Z\"\n}\n</code></pre>"},{"location":"validacion_reenvio_otp_firma/#tiempo-de-espera-no-cumplido","title":"\u23f1\ufe0f Tiempo de Espera No Cumplido","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Debes esperar 42 segundos antes de solicitar un nuevo c\u00f3digo.\",\n  \"tiempo_espera_minimo\": \"60 segundos\",\n  \"segundos_restantes\": 42,\n  \"ultimo_envio\": \"2025-10-07T14:24:30Z\"\n}\n</code></pre>"},{"location":"validacion_reenvio_otp_firma/#limite-de-reenvios-excedido","title":"\ud83d\udea8 L\u00edmite de Reenv\u00edos Excedido","text":"<ul> <li>Nota: El sistema debe permitir \u00fanicamente dos reenv\u00edos. Si se supera ese l\u00edmite, se mostrar\u00e1 el mensaje: \"Has excedido el n\u00famero m\u00e1ximo de reenv\u00edos. Intenta nuevamente en 30 minutos.\"</li> </ul> <pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Has excedido el n\u00famero m\u00e1ximo de reenv\u00edos permitidos. Por favor, contacta a soporte.\",\n  \"reenvios_maximos\": 5,\n  \"reenvios_realizados\": 5,\n  \"contacto_soporte\": \"soporte@teseo-sygma.com\"\n}\n</code></pre>"},{"location":"validacion_reenvio_otp_firma/#error-de-autenticacion","title":"\u2757 Error de Autenticaci\u00f3n","text":"<pre><code>{\n  \"status\": \"error\",\n  \"mensaje\": \"Token de autorizaci\u00f3n inv\u00e1lido o ausente.\"\n}\n</code></pre>"},{"location":"wolbox/","title":"INTEGRACI\u00d3N","text":""},{"location":"wolbox/#tipo-de-servicio","title":"Tipo de Servicio","text":"<p>Tipo: POST</p>"},{"location":"wolbox/#url-de-integracion","title":"URL de Integraci\u00f3n","text":"<ul> <li>Prueba  https://testing-sygma.com/ws_consulta</li> <li>Producci\u00f3n: https://sygma-tech.com.co/ws_consulta</li> </ul>"},{"location":"wolbox/#headers","title":"Headers","text":"<ul> <li>El proceso requiere en la cabecera los siguientes datos.<ul> <li>Accept-Type: application/json (Datos Obligatorios)</li> <li>Portafolio: 10031 (Datos Obligatorios)</li> <li>username: (Se envia por medio de correo electronico)</li> <li>password: (Se envia por medio de correo electronico)</li> </ul> </li> </ul>"},{"location":"wolbox/#body-raw","title":"Body (raw)","text":"<ul> <li>Para el envio de la informaci\u00f3n debe ser tipo JSON.   Ejemplo</li> </ul> <pre><code>{\n  \"data\": {\n    \"identificacion\": \"39526796\"\n  }\n}\n</code></pre>"},{"location":"wolbox/#documentos-de-prueba","title":"Documentos de Prueba","text":"<pre><code>1193029667, 1140907250, 1007218621, 79962253, 26430836, \n1127606400, 51788258, 5884877, 78036389, 1068589463, \n31198035, 80012453, 39526796, 1003715670, 1016061064, \n1118305490, 13165624, 1007633666, 1120748852, 21587653, 43043364\n</code></pre>"},{"location":"wolbox/#resultado","title":"Resultado","text":"<ul> <li>Servicio que permite retornar los datos de las obligaciones de un cliente.</li> </ul> <pre><code>{\n  \"status\": 200,\n  \"msg\": \"Successful registration\",\n  \"data\": [\n    {\n      \"fecha_generacion\": \"2023-03-28 10:17:04 -0500\",\n      \"obligacion_colte\": \"\",\n      \"propietario\": \"DFS\",\n      \"casa_cobro\": \"3_AYS\",\n      \"identificacion\": \"39526796\",\n      \"nombre_completo\": \"MARIA FABIOLA MU\u00d1OZ \",\n      \"nro_obligacion\": \"13258477\",\n      \"fecha_desembolso\": \"2021-11-13\",\n      \"clinica\": \"PLAZA IMPERIAL\",\n      \"originador\": \"NEGOZIA\",\n      \"valor_desembolsado\": \"2956800.0\",\n      \"tasa_corriente\": \"25.91\",\n      \"dias_mora\": \"439\",\n      \"plazo_inicial\": \"12\",\n      \"estado_obligacion\": \"EN MORA\",\n      \"cuotas_mora\": \"11\",\n      \"fallecido\": \"\",\n      \"pago_minimo\": \"3120097.05\",\n      \"saldo_total\": \"3120097.05\",\n      \"saldo_capital\": \"0.0\",\n      \"fch_ult_pago\": \"2021-12-29\",\n      \"total_recaudo\": \"290400.0\",\n      \"total_recaudo_mes\": \"0.0\",\n      \"trama\": \"09. &gt; 360\",\n      \"cel1\": \"3006443103\",\n      \"cel2\": \"3017549691\"\n    }\n  ]\n}\n</code></pre>"}]}